{
    "version": 3,
    "file": "Badge.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/Badge.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file 角标组件\n */\n\nimport React from 'react';\nimport hoistNonReactStatic from 'hoist-non-react-statics';\nimport {BaseSchema, SchemaExpression} from '../Schema';\nimport {evalExpression} from '../utils/tpl';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {ClassNamesFn} from 'classnames/types';\n\n/**\n * Badge 角标。\n * 文档：https://baidu.gitee.io/amis/docs/components/badge\n */\nexport interface BadgeSchema extends BaseSchema {\n  /**\n   * 文本内容\n   */\n  text?: string;\n\n  /**\n   * 大小\n   */\n  size?: number;\n\n  /**\n   * 角标类型\n   */\n  mode?: 'text' | 'dot';\n\n  /**\n   * 角标位置\n   */\n  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left';\n\n  /**\n   * 动态控制是否显示\n   */\n  visibleOn?: SchemaExpression;\n\n  /**\n   * 角标的自定义样式\n   */\n  style?: {\n    [propName: string]: any;\n  };\n}\n\nexport interface BadgeProps {\n  badge?: BadgeSchema;\n  classnames: ClassNamesFn;\n  data: any;\n}\n\nexport class Badge extends React.Component<BadgeProps, object> {\n  static propsList: Array<string> = ['body', 'className', 'children'];\n\n  constructor(props: BadgeProps) {\n    super(props);\n  }\n\n  render() {\n    const badge = this.props.badge;\n    if (!badge) {\n      return this.props.children;\n    }\n    const {children, classnames: cx, data} = this.props;\n    let isDisplay = true;\n    if (typeof badge === 'string') {\n      isDisplay = evalExpression(badge, data) === true;\n    }\n\n    let {\n      mode = 'dot',\n      text,\n      size,\n      style,\n      position = 'top-right',\n      visibleOn,\n      className\n    } = badge;\n\n    if (visibleOn) {\n      isDisplay = evalExpression(visibleOn, data) === true;\n    }\n\n    if (typeof text === 'string' && text[0] === '$') {\n      text = resolveVariable(text, data);\n    }\n\n    // 设置默认值\n    if (typeof size === 'undefined') {\n      if (mode === 'dot') {\n        size = 6;\n      } else {\n        size = 16;\n      }\n    }\n\n    let sizeStyle = {};\n    if (mode === 'text') {\n      sizeStyle = {\n        borderRadius: size / 2,\n        height: size,\n        lineHeight: size + 'px'\n      };\n\n      if (!text) {\n        isDisplay = false;\n      }\n    }\n\n    if (mode === 'dot') {\n      sizeStyle = {width: size, height: size};\n    }\n\n    return (\n      <div className={cx('Badge', className)}>\n        {children}\n        {isDisplay ? (\n          mode === 'dot' ? (\n            <span\n              className={cx('Badge-dot', `Badge--${position}`)}\n              style={{...sizeStyle, ...style}}\n            ></span>\n          ) : (\n            <span\n              className={cx('Badge-text', `Badge--${position}`)}\n              style={{...sizeStyle, ...style}}\n            >\n              {text}\n            </span>\n          )\n        ) : null}\n        {}\n      </div>\n    );\n  }\n}\n\nexport function withBadge<P extends object>(Component: React.ComponentType<P>) {\n  return hoistNonReactStatic(\n    class WithBadge extends React.Component<P & BadgeProps> {\n      static displayName = `WithBadge(${\n        Component.displayName || Component.name\n      })`;\n\n      render() {\n        const badge = this.props.badge;\n\n        if (!badge) {\n          return <Component {...(this.props as P)} />;\n        }\n\n        return (\n          <Badge {...(this.props as BadgeProps)}>\n            <Component {...(this.props as P)} />\n          </Badge>\n        );\n      }\n    },\n    Component\n  );\n}\n"
    ]
}