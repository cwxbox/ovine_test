{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_setting.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_setting.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qKgogKiBBUFAg57O757uf6K6+572uCiAqIFRPRE86CiAqIDEuIOaLhuWIhuiuvue9ruWKn+iDve+8jOavj+S4queLrOeri+iuvue9rumhuemDveaKveemu+S4uueLrOeri+e7hOS7tu+8jOWPr+iHqueUsemFjee9ruWcqOS7u+S9leWcsOaWuQogKi8KaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdhbWlzJzsKaW1wb3J0IG1hcCBmcm9tICdsb2Rhc2gvbWFwJzsKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgYXBwIH0gZnJvbSAiLi4vLi4vYXBwIjsKaW1wb3J0IHsgQW1pcyB9IGZyb20gIi4uL2FtaXMvc2NoZW1hIjsKaW1wb3J0IHsgdXNlQXBwQ29udGV4dCB9IGZyb20gIi4uL2FwcC9jb250ZXh0IjsKaW1wb3J0IHsgbWVzc2FnZSwgc3RvcmFnZSB9IGZyb20gIi4uLy4uL2NvbnN0YW50cyI7CmltcG9ydCB7IHNldEFwcExpbWl0cyB9IGZyb20gIi4uLy4uL3JvdXRlcy9saW1pdC9leHBvcnRzIjsKaW1wb3J0IHsgY2hhbmdlQXBwVGhlbWUgfSBmcm9tICIuLi8uLi9zdHlsZWQvdGhlbWUiOwppbXBvcnQgeyB1c2VJbW1lciB9IGZyb20gIi4uLy4uL3V0aWxzL2hvb2tzIjsKaW1wb3J0IHsgcHVibGlzaCB9IGZyb20gIi4uLy4uL3V0aWxzL21lc3NhZ2UiOwppbXBvcnQgeyBnZXRHbG9iYWwsIGdldFN0b3JlLCBzZXRTdG9yZSB9IGZyb20gIi4uLy4uL3V0aWxzL3N0b3JlIjsKaW1wb3J0IEhlYWRJdGVtIGZyb20gIi4vaGVhZF9pdGVtIjsKdmFyIGluaXRTdGF0ZSA9IHsKICBzZXR0aW5nVmlzaWJsZTogZmFsc2UsCiAgbGltaXRWaXNpYmxlOiBmYWxzZQp9OwoKdmFyIF9kZWZhdWx0ID0gcHJvcHMgPT4gewogIHZhciB7CiAgICB0aGVtZQogIH0gPSBwcm9wczsKICB2YXIgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VJbW1lcihpbml0U3RhdGUpOwogIHZhciB7CiAgICBlbmFibGVSb3V0ZVRhYnMsCiAgICBzZXRDb250ZXh0CiAgfSA9IHVzZUFwcENvbnRleHQoKTsKICB2YXIgewogICAgc2V0dGluZ1Zpc2libGUKICB9ID0gc3RhdGU7CiAgdmFyIHN1cHBvcnRSb3V0ZVRhYnMgPSBnZXRHbG9iYWwoc3RvcmFnZS5zdXBwb3J0Um91dGVUYWJzKTsKCiAgdmFyIHRvZ2dsZVNldHRpbmcgPSAoKSA9PiB7CiAgICBzZXRTdGF0ZShkID0+IHsKICAgICAgZC5zZXR0aW5nVmlzaWJsZSA9ICFkLnNldHRpbmdWaXNpYmxlOwogICAgfSk7CiAgfTsKCiAgdmFyIG9uQ2xlYXJDYWNoZSA9ICgpID0+IHsKICAgIHRvZ2dsZVNldHRpbmcoKTsKICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgIHRvYXN0LnN1Y2Nlc3MoJ+e8k+WtmOW3sue7j+iiq+a4heeQhicsICfmk43kvZzmiJDlip8nKTsKICB9OwoKICB2YXIgb25DaGFuZ2VUaGVtZSA9IChjaG9zZVRoZW1lLCBwcmV2VGhlbWUpID0+IHsKICAgIGlmICghcHJldlRoZW1lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoY2hvc2VUaGVtZSAhPT0gcHJldlRoZW1lKSB7CiAgICAgIHRvZ2dsZVNldHRpbmcoKTsKICAgICAgY2hhbmdlQXBwVGhlbWUoY2hvc2VUaGVtZSk7CiAgICB9CiAgfTsKCiAgdmFyIG9uQ2hhbmdlTG9jYWxlID0gKGNob3NlTG9jYWxlLCBwcmV2TG9jYWxlKSA9PiB7CiAgICBpZiAoIXByZXZMb2NhbGUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChjaG9zZUxvY2FsZSAhPT0gcHJldkxvY2FsZSkgewogICAgICB0b2dnbGVTZXR0aW5nKCk7CiAgICAgIHNldFN0b3JlKHN0b3JhZ2UuYXBwTG9jYWxlLCBjaG9zZUxvY2FsZSk7CiAgICAgIHB1Ymxpc2gobWVzc2FnZS5hcHBMb2NhbGUsIGNob3NlTG9jYWxlKTsKICAgIH0KICB9OwoKICB2YXIgZGV2SXRlbXMgPSBbXTsKCiAgaWYgKGFwcC5lbnYubW9kZSA9PT0gJ2xvY2FsaG9zdCcpIHsKICAgIGRldkl0ZW1zID0gW3sKICAgICAgdHlwZTogJ2RpdmlkZXInCiAgICB9LCB7CiAgICAgIHR5cGU6ICdsaWItYmxhbmsnLAogICAgICBsYWJlbDogJ+a1i+ivleadg+mZkCcsCiAgICAgIGNsYXNzTmFtZTogJ2Zyb20taXRlbS1idXR0b24nLAogICAgICBib2R5OiB7CiAgICAgICAgdHlwZTogJ2xpYi1saW1pdC1zZXR0aW5nJywKICAgICAgICBzYXZlQ29uZmlybVRleHQ6ICfmnYPpmZDmtYvor5Xkv67mlLnvvIzku4Xlr7noh6rlt7HmnInmlYjvvIzliLfmlrDpobXpnaLlkI7lj6/pooTop4jmnIDmlrDmnYPpmZDjgILmuIXpmaTnvJPlrZjlj6/mgaLlpI3miYDmnInmnYPpmZDjgIInLAogICAgICAgIGJ1dHRvbjogewogICAgICAgICAgYWN0aW9uVHlwZTogJ2RyYXdlcicKICAgICAgICB9LAogICAgICAgIG1vZGFsOiB7CiAgICAgICAgICB0aXRsZTogJ+a1i+ivleeOr+Wig+iuvue9ruadg+mZkCcsCiAgICAgICAgICBwb3N0aW9uOiAncmlnaHQnLAogICAgICAgICAgcmVzaXphYmxlOiB0cnVlLAogICAgICAgICAgY2xhc3NOYW1lOiAnaGlkZS1jbG9zZS1idXR0b24nCiAgICAgICAgfSwKICAgICAgICBnZXRMaW1pdDogKCkgPT4gewogICAgICAgICAgcmV0dXJuIGdldFN0b3JlKHN0b3JhZ2UuZGV2LmxpbWl0KSB8fCAnJzsKICAgICAgICB9LAogICAgICAgIG9uU2F2ZTogZGF0YSA9PiB7CiAgICAgICAgICBzZXRTdG9yZShzdG9yYWdlLmRldi5saW1pdCwgZGF0YS5hdXRoTGltaXQpOwogICAgICAgICAgc2V0U3RvcmUoc3RvcmFnZS5kZXYuYXBpLCBkYXRhLmF1dGhBcGkpOwogICAgICAgICAgc2V0QXBwTGltaXRzKGRhdGEuYXV0aExpbWl0KTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dOwogIH0KCiAgdmFyIHNjaGVtYSA9IHsKICAgIHR5cGU6ICdkcmF3ZXInLAogICAgc2l6ZTogJ3NtJywKICAgIGFjdGlvbnM6IFtdLAogICAgc2hvdzogc2V0dGluZ1Zpc2libGUsCiAgICBvbkNsb3NlOiB0b2dnbGVTZXR0aW5nLAogICAgcG9zaXRpb246ICdyaWdodCcsCiAgICB0aXRsZTogewogICAgICB0eXBlOiAnd3JhcHBlcicsCiAgICAgIGNsYXNzTmFtZTogJ25vLXBhZGRlciBuby1iZy1jJywKICAgICAgYm9keTogewogICAgICAgIHR5cGU6ICdodG1sJywKICAgICAgICBodG1sOiAnPGRpdj48aSBjbGFzcz0iZmEgZmEtY29nIHAtci14cyI+PC9pPjxzcGFuPuezu+e7n+iuvue9rjwvc3Bhbj48L2Rpdj4nCiAgICAgIH0KICAgIH0sCiAgICBib2R5OiB7CiAgICAgIHR5cGU6ICdsaWItY3NzJywKICAgICAgY3NzOiAiXG4gICAgICAuZnJvbS1pdGVtLWJ1dHRvbiB7XG4gICAgICAgIC5mb3JtLWNvbnRyb2wtc3RhdGljIHtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB9XG4gICAgICAgIGxhYmVsIHtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogMTNweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICIsCiAgICAgIGJvZHk6IHsKICAgICAgICB0eXBlOiAnZm9ybScsCiAgICAgICAgbW9kZTogJ2hvcml6b250YWwnLAogICAgICAgIGhvcml6b250YWw6IHsKICAgICAgICAgIGxlZnQ6ICdjb2wtc20tNCcsCiAgICAgICAgICByaWdodDogJ2NvbC1zbS04JwogICAgICAgIH0sCiAgICAgICAgd3JhcFdpdGhQYW5lbDogZmFsc2UsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdGhlbWUsCiAgICAgICAgICBsb2NhbGU6IGdldFN0b3JlKHN0b3JhZ2UuYXBwTG9jYWxlKSB8fCBhcHAuYW1pcy5sb2NhbGUgfHwgJ3poLUNOJwogICAgICAgIH0sCiAgICAgICAgY29udHJvbHM6IFt7CiAgICAgICAgICB0eXBlOiAnc2VsZWN0JywKICAgICAgICAgIG5hbWU6ICd0aGVtZScsCiAgICAgICAgICBsYWJlbDogJ+mAieaLqeS4u+mimCcsCiAgICAgICAgICBvcHRpb25zOiBtYXAoYXBwLnRoZW1lLmdldEFsbFRoZW1lcygpLCAoX3JlZiwga2V5KSA9PiB7CiAgICAgICAgICAgIHZhciB7CiAgICAgICAgICAgICAgdGV4dAogICAgICAgICAgICB9ID0gX3JlZjsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBsYWJlbDogdGV4dCwKICAgICAgICAgICAgICB2YWx1ZToga2V5CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KSwKICAgICAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVRoZW1lCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICBuYW1lOiAnbG9jYWxlJywKICAgICAgICAgIGxhYmVsOiAn6YCJ5oup6K+t6KiAJywKICAgICAgICAgIG9wdGlvbnM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAn5Lit5paHJywKICAgICAgICAgICAgdmFsdWU6ICd6aC1DTicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGFiZWw6ICdFbmdsaXNoJywKICAgICAgICAgICAgdmFsdWU6ICdlbi1VUycKICAgICAgICAgIH1dLAogICAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlTG9jYWxlCiAgICAgICAgfSwgc3VwcG9ydFJvdXRlVGFicyAmJiB7CiAgICAgICAgICB0eXBlOiAnc3dpdGNoJywKICAgICAgICAgIG5hbWU6ICdlbmFibGVSb3V0ZVRhYnMnLAogICAgICAgICAgbGFiZWw6ICfot6/nlLHpgInpobnljaEnLAogICAgICAgICAgdmFsdWU6IGVuYWJsZVJvdXRlVGFicywKICAgICAgICAgIG9uQ2hhbmdlOiBlbmFibGUgPT4gewogICAgICAgICAgICBzZXRDb250ZXh0KGQgPT4gewogICAgICAgICAgICAgIGQuZW5hYmxlUm91dGVUYWJzID0gZW5hYmxlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc2V0U3RvcmUoc3RvcmFnZS5lbmFibGVSb3V0ZVRhYnMsIGVuYWJsZSk7CiAgICAgICAgICAgIHRvZ2dsZVNldHRpbmcoKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAnbGliLWJsYW5rJywKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgbGFiZWw6ICfns7vnu5/nvJPlrZgnLAogICAgICAgICAgY2xhc3NOYW1lOiAnZnJvbS1pdGVtLWJ1dHRvbicsCiAgICAgICAgICBib2R5OiB7CiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLAogICAgICAgICAgICBpY29uOiAnZmEgZmEtdHJhc2gtbycsCiAgICAgICAgICAgIGxhYmVsOiAn5riF6ZmkJywKICAgICAgICAgICAgY29uZmlybVRleHQ6ICfmnKzlnLDnvJPlrZjmlbDmja7lsIbooqvliKDpmaTvvIznoa7orqTmuIXpmaTvvJ8nLAogICAgICAgICAgICBvbkFjdGlvbjogb25DbGVhckNhY2hlCiAgICAgICAgICB9CiAgICAgICAgfSwgLi4uZGV2SXRlbXNdLmZpbHRlcihCb29sZWFuKQogICAgICB9CiAgICB9CiAgfTsKICB2YXIgY29mSXRlbVByb3BzID0gewogICAgZmFJY29uOiAnY29nJywKICAgIHRpcDogJ+iuvue9ricsCiAgICBvbkNsaWNrOiB0b2dnbGVTZXR0aW5nCiAgfTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRJdGVtLCB7CiAgICBpdGVtUHJvcHM6IGNvZkl0ZW1Qcm9wcwogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbWlzLCB7CiAgICBzY2hlbWE6IHNjaGVtYQogIH0pKTsKfTsKCl9fc2lnbmF0dXJlX18oX2RlZmF1bHQsICJ1c2VJbW1lcntbc3RhdGUsIHNldFN0YXRlXX1cbnVzZUFwcENvbnRleHR7eyBlbmFibGVSb3V0ZVRhYnMsIHNldENvbnRleHQgfX0iLCAoKSA9PiBbdXNlSW1tZXIsIHVzZUFwcENvbnRleHRdKTsKCmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0Owo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihpbml0U3RhdGUsICJpbml0U3RhdGUiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxjb21wb25lbnRzXFxhc2lkZV9sYXlvdXRcXGl0ZW1fc2V0dGluZy5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGNvbXBvbmVudHNcXGFzaWRlX2xheW91dFxcaXRlbV9zZXR0aW5nLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/aside_layout/item_setting.js"],"names":["toast","map","React","app","Amis","useAppContext","message","storage","setAppLimits","changeAppTheme","useImmer","publish","getGlobal","getStore","setStore","HeadItem","initState","settingVisible","limitVisible","props","theme","state","setState","enableRouteTabs","setContext","supportRouteTabs","toggleSetting","d","onClearCache","localStorage","clear","sessionStorage","success","onChangeTheme","choseTheme","prevTheme","onChangeLocale","choseLocale","prevLocale","appLocale","devItems","env","mode","type","label","className","body","saveConfirmText","button","actionType","modal","title","postion","resizable","getLimit","dev","limit","onSave","data","authLimit","api","authApi","window","location","reload","schema","size","actions","show","onClose","position","html","css","horizontal","left","right","wrapWithPanel","locale","amis","controls","name","options","getAllThemes","key","text","value","onChange","enable","icon","confirmText","onAction","filter","Boolean","cofItemProps","faIcon","tip","onClick","createElement","Fragment","itemProps"],"mappings":"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","sourcesContent":["/**\n * APP 系统设置\n * TODO:\n * 1. 拆分设置功能，每个独立设置项都抽离为独立组件，可自由配置在任何地方\n */\nimport { toast } from 'amis';\nimport map from 'lodash/map';\nimport React from 'react';\nimport { app } from \"../../app\";\nimport { Amis } from \"../amis/schema\";\nimport { useAppContext } from \"../app/context\";\nimport { message, storage } from \"../../constants\";\nimport { setAppLimits } from \"../../routes/limit/exports\";\nimport { changeAppTheme } from \"../../styled/theme\";\nimport { useImmer } from \"../../utils/hooks\";\nimport { publish } from \"../../utils/message\";\nimport { getGlobal, getStore, setStore } from \"../../utils/store\";\nimport HeadItem from \"./head_item\";\nconst initState = {\n    settingVisible: false,\n    limitVisible: false,\n};\nexport default (props) => {\n    const { theme } = props;\n    const [state, setState] = useImmer(initState);\n    const { enableRouteTabs, setContext } = useAppContext();\n    const { settingVisible } = state;\n    const supportRouteTabs = getGlobal(storage.supportRouteTabs);\n    const toggleSetting = () => {\n        setState((d) => {\n            d.settingVisible = !d.settingVisible;\n        });\n    };\n    const onClearCache = () => {\n        toggleSetting();\n        localStorage.clear();\n        sessionStorage.clear();\n        toast.success('缓存已经被清理', '操作成功');\n    };\n    const onChangeTheme = (choseTheme, prevTheme) => {\n        if (!prevTheme) {\n            return;\n        }\n        if (choseTheme !== prevTheme) {\n            toggleSetting();\n            changeAppTheme(choseTheme);\n        }\n    };\n    const onChangeLocale = (choseLocale, prevLocale) => {\n        if (!prevLocale) {\n            return;\n        }\n        if (choseLocale !== prevLocale) {\n            toggleSetting();\n            setStore(storage.appLocale, choseLocale);\n            publish(message.appLocale, choseLocale);\n        }\n    };\n    let devItems = [];\n    if (app.env.mode === 'localhost') {\n        devItems = [\n            { type: 'divider' },\n            {\n                type: 'lib-blank',\n                label: '测试权限',\n                className: 'from-item-button',\n                body: {\n                    type: 'lib-limit-setting',\n                    saveConfirmText: '权限测试修改，仅对自己有效，刷新页面后可预览最新权限。清除缓存可恢复所有权限。',\n                    button: {\n                        actionType: 'drawer',\n                    },\n                    modal: {\n                        title: '测试环境设置权限',\n                        postion: 'right',\n                        resizable: true,\n                        className: 'hide-close-button',\n                    },\n                    getLimit: () => {\n                        return getStore(storage.dev.limit) || '';\n                    },\n                    onSave: (data) => {\n                        setStore(storage.dev.limit, data.authLimit);\n                        setStore(storage.dev.api, data.authApi);\n                        setAppLimits(data.authLimit);\n                        window.location.reload();\n                    },\n                },\n            },\n        ];\n    }\n    const schema = {\n        type: 'drawer',\n        size: 'sm',\n        actions: [],\n        show: settingVisible,\n        onClose: toggleSetting,\n        position: 'right',\n        title: {\n            type: 'wrapper',\n            className: 'no-padder no-bg-c',\n            body: {\n                type: 'html',\n                html: '<div><i class=\"fa fa-cog p-r-xs\"></i><span>系统设置</span></div>',\n            },\n        },\n        body: {\n            type: 'lib-css',\n            css: `\n      .from-item-button {\n        .form-control-static {\n          padding: 0;\n        }\n        label {\n          padding-top: 13px;\n        }\n      }\n    `,\n            body: {\n                type: 'form',\n                mode: 'horizontal',\n                horizontal: { left: 'col-sm-4', right: 'col-sm-8' },\n                wrapWithPanel: false,\n                data: {\n                    theme,\n                    locale: getStore(storage.appLocale) || app.amis.locale || 'zh-CN',\n                },\n                controls: [\n                    {\n                        type: 'select',\n                        name: 'theme',\n                        label: '选择主题',\n                        options: map(app.theme.getAllThemes(), ({ text }, key) => ({\n                            label: text,\n                            value: key,\n                        })),\n                        onChange: onChangeTheme,\n                    },\n                    {\n                        type: 'select',\n                        name: 'locale',\n                        label: '选择语言',\n                        options: [\n                            {\n                                label: '中文',\n                                value: 'zh-CN',\n                            },\n                            {\n                                label: 'English',\n                                value: 'en-US',\n                            },\n                        ],\n                        onChange: onChangeLocale,\n                    },\n                    supportRouteTabs && {\n                        type: 'switch',\n                        name: 'enableRouteTabs',\n                        label: '路由选项卡',\n                        value: enableRouteTabs,\n                        onChange: (enable) => {\n                            setContext((d) => {\n                                d.enableRouteTabs = enable;\n                            });\n                            setStore(storage.enableRouteTabs, enable);\n                            toggleSetting();\n                        },\n                    },\n                    {\n                        type: 'lib-blank',\n                        name: '',\n                        label: '系统缓存',\n                        className: 'from-item-button',\n                        body: {\n                            type: 'button',\n                            icon: 'fa fa-trash-o',\n                            label: '清除',\n                            confirmText: '本地缓存数据将被删除，确认清除？',\n                            onAction: onClearCache,\n                        },\n                    },\n                    ...devItems,\n                ].filter(Boolean),\n            },\n        },\n    };\n    const cofItemProps = {\n        faIcon: 'cog',\n        tip: '设置',\n        onClick: toggleSetting,\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(HeadItem, { itemProps: cofItemProps }),\n        React.createElement(Amis, { schema: schema })));\n};\n"]}]}