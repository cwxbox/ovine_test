{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\tool.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\tool.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHsKICB2YXIgdCA9IHt9OwoKICBmb3IgKHZhciBwIGluIHMpIHsKICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07CiAgfQoKICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAiZnVuY3Rpb24iKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dOwogIH0KICByZXR1cm4gdDsKfTsKCmltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBtYXAsIHJhbmRvbSwgaXNGdW5jdGlvbiwgdHJpbSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IHBhcnNlIH0gZnJvbSAncXMnOwppbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgc2VyaWFsaXplT2JqZWN0IGZyb20gIi4uL2Fzc2V0cy9zY3JpcHRzL3NlcmlhbGl6ZSI7CmltcG9ydCBsb2dnZXIgZnJvbSAiLi9sb2dnZXIiOwovKioKICog5LuO5pWw57uE5Lit6ZqP5py65oq95Y+W5LiA5LiqCiAqIEBwYXJhbSBzb3VyY2Ug5Y+C5pWw5pWw57uECiAqLwoKZXhwb3J0IHZhciBjaG9pY2UgPSBzb3VyY2UgPT4gewogIHJldHVybiBzb3VyY2VbcmFuZG9tKHNvdXJjZS5sZW5ndGgpXTsKfTsgLy8g5qCh6aqM5piv5ZCm6L+H5pyfCgpleHBvcnQgZnVuY3Rpb24gaXNFeHBpcmVkKGV4cGlyZWRUaW1lKSB7CiAgdmFyIGJhc2VUaW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBEYXRlLm5vdygpOwoKICBpZiAoIWV4cGlyZWRUaW1lKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIHZhciB0aW1lID0gL15cZCokLy50ZXN0KCIiLmNvbmNhdChleHBpcmVkVGltZSkpID8gTnVtYmVyKGV4cGlyZWRUaW1lKSA6IG5ldyBEYXRlKGV4cGlyZWRUaW1lKS52YWx1ZU9mKCk7CiAgcmV0dXJuIGJhc2VUaW1lIC0gdGltZSA+IDA7Cn0KLyoqCiAqIOino+aekCBxdWVyeXN0cmluZyDkuLoganNvbiDmoLzlvI/mlbDmja4KICogQHBhcmFtIGtleSDpnIDopoHojrflj5bnmoTmlbDmja4ganNvbltrZXldLCDkuI3kvKDkuLrmlbTkuKpqc29uCiAqIEBwYXJhbSB1cmwg5b6F6Kej5p6Q55qEdXJsIOm7mOiupOS4umxvY2F0aW9uLmhyZWYKICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0VXJsUGFyYW1zKGtleSwgdXJsKSB7CiAgdmFyIHN0ciA9IHVybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjsKICB2YXIgaWR4ID0gc3RyLmluZGV4T2YoJz8nKTsKICB2YXIgaGFzaElkeCA9IHN0ci5pbmRleE9mKCcjJyk7CgogIGlmIChpZHggPT09IC0xKSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgdmFyIHVybFBhcmFtcyA9IHBhcnNlKHN0ci5zdWJzdHJpbmcoaWR4ICsgMSwgaGFzaElkeCAhPT0gLTEgPyBoYXNoSWR4IDogdW5kZWZpbmVkKSkgfHwge307CgogIGlmIChrZXkpIHsKICAgIHJldHVybiB1cmxQYXJhbXNba2V5XSB8fCB1bmRlZmluZWQ7CiAgfQoKICByZXR1cm4gdXJsUGFyYW1zOwp9Ci8qKgogKiDph43or5XlvILmraXmk43kvZwsIOS4u+imgeeUqOS6jue9kee7nOW8guW4uO+8jOWvvOiHtOaWh+S7tuaJvuS4jeWIsOaKpemUmSBsb2FkIGNodW5rIGVycm9yCiAqIEBwYXJhbSBwcm9taXNlRm4g6ZyA6KaB5byC5q2l5pON5L2c6YOo5YiGCiAqIEBwYXJhbSByZXRyaWVzTGVmdCDmnIDlpJrlsJ3or5XnmoTmrKHmlbAsIOm7mOiupDXmrKEKICogQHBhcmFtIGludGVydmFsIOmHjeivlemXtOmalO+8jOm7mOiupOmXtOmalDEuNeenkgogKi8KCmV4cG9ydCBmdW5jdGlvbiByZXRyeVByb21pc2UocHJvbWlzZUZuKSB7CiAgdmFyIHJldHJpZXNMZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiA1OwogIHZhciBpbnRlcnZhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTUwMDsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgcHJvbWlzZUZuKCkudGhlbihyZXNvbHZlKS5jYXRjaChlcnJvciA9PiB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmIChyZXRyaWVzTGVmdCA9PT0gMSkgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHJldHJ5UHJvbWlzZShwcm9taXNlRm4sIHJldHJpZXNMZWZ0IC0gMSwgaW50ZXJ2YWwpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgfSwgaW50ZXJ2YWwpOwogICAgfSk7CiAgfSk7Cn0KLyoqCiAqIOaYr+WQpuaYr+WtkOS4sgogKiBAcGFyYW0gc291cmNlIOaooeeJiOWtl+espuS4sgogKiBAcGFyYW0gY2hlY2sg5b6F5qOA6aqM5a2X56ym5LiyCiAqIEBwYXJhbSBwb3Mg6ZyA6KaB5qCh6aqM55qE5a2Q5Liy5L2N572uCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGlzU3ViU3RyKHNvdXJjZSwgY2hlY2ssIHBvcykgewogIGlmICh0eXBlb2Ygc291cmNlICE9PSAnc3RyaW5nJykgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIGluZGV4ID0gc291cmNlLmluZGV4T2YoY2hlY2spOwogIHJldHVybiB0eXBlb2YgcG9zID09PSAndW5kZWZpbmVkJyA/IGluZGV4ID4gLTEgOiBpbmRleCA9PT0gcG9zOwp9IC8vIGNsYXNzbmFtZXMg566A5Y2V54mI77yM6Laz5aSf55So5LqGCgpleHBvcnQgZnVuY3Rpb24gY2xzKCkgewogIHZhciBzdHIgPSAnJzsKCiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogIH0KCiAgYXJncy5mb3JFYWNoKGFyZyA9PiB7CiAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHsKICAgICAgc3RyICs9ICIgIi5jb25jYXQoYXJnKTsKICAgIH0gZWxzZSBpZiAoaXNBcnJheShhcmcpKSB7CiAgICAgIGFyZy5mb3JFYWNoKGkgPT4gewogICAgICAgIGlmICh0eXBlb2YgaSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHN0ciArPSAiICIuY29uY2F0KGkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGFyZykpIHsKICAgICAgbWFwKGFyZywgKHZhbCwga2V5KSA9PiB7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgc3RyICs9ICIgIi5jb25jYXQoa2V5KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0pOwogIHJldHVybiB0cmltKHN0cik7Cn0gLy8gdGltZW91dCBwcm9taXNlIOWMlgoKZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VkVGltZW91dChtcykgewogIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgIHZhciB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICByZXNvbHZlKHRydWUpOwogICAgfSwgbXMpOwogIH0pOwp9IC8vIGpzb27muLLmn5NSZWFjdOe7hOS7tgoKZXhwb3J0IGZ1bmN0aW9uIGpzb24ycmVhY3RGYWN0b3J5KG1hcHBlcikgewogIHJldHVybiBmdW5jdGlvbiBqMnIoZW50cnlTY2hlbWEpIHsKICAgIHZhciByZW5kZXJFbGVtZW50ID0gKHNjaGVtYSwga2V5KSA9PiB7CiAgICAgIGlmIChzY2hlbWEgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzY2hlbWEgPT09ICdudW1iZXInKSB7CiAgICAgICAgcmV0dXJuIHNjaGVtYTsKICAgICAgfQoKICAgICAgdmFyIHsKICAgICAgICB0eXBlOiBzY2hlbWFUeXBlLAogICAgICAgIGNoaWxkcmVuCiAgICAgIH0gPSBzY2hlbWEsCiAgICAgICAgICBwcm9wcyA9IF9fcmVzdChzY2hlbWEsIFsidHlwZSIsICJjaGlsZHJlbiJdKTsKCiAgICAgIHZhciBoYXNTY2hlbWFUeXBlID0gc2NoZW1hVHlwZSAmJiB0eXBlb2Ygc2NoZW1hVHlwZSA9PT0gJ3N0cmluZycgJiYgc2NoZW1hVHlwZS50cmltKCkgIT09ICcnOwoKICAgICAgaWYgKCFoYXNTY2hlbWFUeXBlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzY2hlbWEudHlwZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpOwogICAgICB9CgogICAgICB2YXIgY29tcG9uZW50Q2hpbGRyZW4gPSBjaGlsZHJlbiAmJiBbXS5jb25jYXQoY2hpbGRyZW4pLm1hcChyZW5kZXJFbGVtZW50KTsKICAgICAgdmFyIGNvbXBvbmVudFR5cGUgPSBpc0Z1bmN0aW9uKG1hcHBlcikgPyBtYXBwZXIoc2NoZW1hVHlwZSwgcHJvcHMpIDogbWFwcGVyW3NjaGVtYVR5cGVdOwoKICAgICAgaWYgKCFwcm9wcy5rZXkpIHsKICAgICAgICBwcm9wcy5rZXkgPSBrZXk7CiAgICAgIH0KCiAgICAgIHZhciBjcmVhdGVBcmdzID0gW2NvbXBvbmVudFR5cGUgfHwgc2NoZW1hVHlwZSwgcHJvcHNdLmNvbmNhdChjb21wb25lbnRDaGlsZHJlbik7CiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50LmFwcGx5KGNyZWF0ZUVsZW1lbnQsIGNyZWF0ZUFyZ3MpOwogICAgfTsKCiAgICBpZiAoaXNBcnJheShlbnRyeVNjaGVtYSkpIHsKICAgICAgcmV0dXJuIGVudHJ5U2NoZW1hLm1hcChyZW5kZXJFbGVtZW50KTsKICAgIH0KCiAgICByZXR1cm4gcmVuZGVyRWxlbWVudDsKICB9Owp9IC8vIOW8guatpeWKoOi9veiEmuacrAoKZXhwb3J0IGZ1bmN0aW9uIGxvYWRTY3JpcHRBc3luYyhzcmMpIHsKICB2YXIgYXN5bmMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKCiAgICBpZiAoYXN5bmMpIHsKICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAoIXNyYy5zdGFydHNXaXRoKCdodHRwJykpIHsKICAgICAgLy8g55u45a+55qC555uu5b2V5Zyw5Z2ACiAgICAgIHNjcmlwdC5zcmMgPSB3aW5kb3cub3JpZ2luICsgc3JjLnN1YnN0cigxKTsKICAgIH0gZWxzZSB7CiAgICAgIHNjcmlwdC5zcmMgPSBzcmM7CiAgICB9CgogICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsKICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgIH07CgogICAgc2NyaXB0Lm9uZXJyb3IgPSBlID0+IHsKICAgICAgcmVqZWN0KGUpOwogICAgfTsKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShzb3VyY2UsIG9wdGlvbikgewogIHJldHVybiBzZXJpYWxpemVPYmplY3Qoc291cmNlLCBvcHRpb24pOwp9CmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZSgpIHsKICB2YXIgc291cmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKCiAgaWYgKCFzb3VyY2UpIHsKICAgIHJldHVybiBzb3VyY2U7CiAgfQoKICB0cnkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICByZXR1cm4gZXZhbCgiKCIuY29uY2F0KHNvdXJjZSwgIikiKSk7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gcm1VcmxSZXBlYXRTbGFudCh1cmwpIHsKICByZXR1cm4gdXJsLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpLnJlcGxhY2UoLyhodHRwcz8pOlwvL2csICckMTovLycpOwp9IC8vIOWtl+espuS4sui9rCBGdW5jdGlvbgoKZXhwb3J0IGZ1bmN0aW9uIHN0cjJmdW5jdGlvbihuYW1lLCBjb250ZW50KSB7CiAgdHJ5IHsKICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICB9CgogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbiguLi5hcmdzLCBjb250ZW50KTsKICAgIHJldHVybiBmdW5jOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBsb2dnZXIuZ2V0TG9nZ2VyKCdsaWI6dG9vbDpzdHIyZnVuY3Rpb24nKS53YXJuKCIiLmNvbmNhdChuYW1lLCAiIFx1OEY2QyBGdW5jdGlvbiBcdTk1MTlcdThCRUYiKSwgZXJyb3IpOwogICAgcmV0dXJuIG51bGw7CiAgfQp9"},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/utils/tool.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","isArray","isObject","map","random","isFunction","trim","parse","createElement","serializeObject","logger","choice","source","isExpired","expiredTime","baseTime","Date","now","time","test","Number","valueOf","getUrlParams","key","url","str","window","location","href","idx","hashIdx","undefined","urlParams","substring","retryPromise","promiseFn","retriesLeft","interval","Promise","resolve","reject","then","catch","error","setTimeout","isSubStr","check","pos","index","cls","args","forEach","arg","val","promisedTimeout","ms","timer","clearTimeout","json2reactFactory","mapper","j2r","entrySchema","renderElement","schema","type","schemaType","children","props","hasSchemaType","Error","componentChildren","concat","componentType","createArgs","apply","loadScriptAsync","src","async","script","document","startsWith","origin","substr","onload","onerror","getElementsByTagName","appendChild","serialize","option","deserialize","eval","err","rmUrlRepeatSlant","replace","str2function","name","content","func","Function","getLogger","warn"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isArray, isObject, map, random, isFunction, trim } from 'lodash';\nimport { parse } from 'qs';\nimport { createElement } from 'react';\nimport serializeObject from \"../assets/scripts/serialize\";\nimport logger from \"./logger\";\n/**\n * 从数组中随机抽取一个\n * @param source 参数数组\n */\nexport const choice = (source) => {\n    return source[random(source.length)];\n};\n// 校验是否过期\nexport function isExpired(expiredTime, baseTime = Date.now()) {\n    if (!expiredTime) {\n        return true;\n    }\n    const time = /^\\d*$/.test(`${expiredTime}`)\n        ? Number(expiredTime)\n        : new Date(expiredTime).valueOf();\n    return baseTime - time > 0;\n}\n/**\n * 解析 querystring 为 json 格式数据\n * @param key 需要获取的数据 json[key], 不传为整个json\n * @param url 待解析的url 默认为location.href\n */\nexport function getUrlParams(key, url) {\n    const str = url || window.location.href;\n    const idx = str.indexOf('?');\n    const hashIdx = str.indexOf('#');\n    if (idx === -1) {\n        return undefined;\n    }\n    const urlParams = parse(str.substring(idx + 1, hashIdx !== -1 ? hashIdx : undefined)) || {};\n    if (key) {\n        return urlParams[key] || undefined;\n    }\n    return urlParams;\n}\n/**\n * 重试异步操作, 主要用于网络异常，导致文件找不到报错 load chunk error\n * @param promiseFn 需要异步操作部分\n * @param retriesLeft 最多尝试的次数, 默认5次\n * @param interval 重试间隔，默认间隔1.5秒\n */\nexport function retryPromise(promiseFn, retriesLeft = 5, interval = 1500) {\n    return new Promise((resolve, reject) => {\n        promiseFn()\n            .then(resolve)\n            .catch((error) => {\n            setTimeout(() => {\n                if (retriesLeft === 1) {\n                    reject(error);\n                    return;\n                }\n                retryPromise(promiseFn, retriesLeft - 1, interval).then(resolve, reject);\n            }, interval);\n        });\n    });\n}\n/**\n * 是否是子串\n * @param source 模版字符串\n * @param check 待检验字符串\n * @param pos 需要校验的子串位置\n */\nexport function isSubStr(source, check, pos) {\n    if (typeof source !== 'string') {\n        return false;\n    }\n    const index = source.indexOf(check);\n    return typeof pos === 'undefined' ? index > -1 : index === pos;\n}\n// classnames 简单版，足够用了\nexport function cls(...args) {\n    let str = '';\n    args.forEach((arg) => {\n        if (typeof arg === 'string') {\n            str += ` ${arg}`;\n        }\n        else if (isArray(arg)) {\n            arg.forEach((i) => {\n                if (typeof i === 'string') {\n                    str += ` ${i}`;\n                }\n            });\n        }\n        else if (isObject(arg)) {\n            map(arg, (val, key) => {\n                if (val) {\n                    str += ` ${key}`;\n                }\n            });\n        }\n    });\n    return trim(str);\n}\n// timeout promise 化\nexport function promisedTimeout(ms) {\n    return new Promise((resolve) => {\n        const timer = setTimeout(() => {\n            clearTimeout(timer);\n            resolve(true);\n        }, ms);\n    });\n}\n// json渲染React组件\nexport function json2reactFactory(mapper) {\n    return function j2r(entrySchema) {\n        const renderElement = (schema, key) => {\n            if (schema === null) {\n                return null;\n            }\n            if (typeof schema === 'string' || typeof schema === 'number') {\n                return schema;\n            }\n            const { type: schemaType, children } = schema, props = __rest(schema, [\"type\", \"children\"]);\n            const hasSchemaType = schemaType && typeof schemaType === 'string' && schemaType.trim() !== '';\n            if (!hasSchemaType) {\n                throw new Error('schema.type must be a non-empty string');\n            }\n            const componentChildren = children && [].concat(children).map(renderElement);\n            const componentType = isFunction(mapper) ? mapper(schemaType, props) : mapper[schemaType];\n            if (!props.key) {\n                props.key = key;\n            }\n            const createArgs = [componentType || schemaType, props].concat(componentChildren);\n            return createElement.apply(createElement, createArgs);\n        };\n        if (isArray(entrySchema)) {\n            return entrySchema.map(renderElement);\n        }\n        return renderElement;\n    };\n}\n// 异步加载脚本\nexport function loadScriptAsync(src, async = true) {\n    return new Promise(function (resolve, reject) {\n        const script = document.createElement('script');\n        if (async) {\n            script.async = true;\n        }\n        if (!src.startsWith('http')) {\n            // 相对根目录地址\n            script.src = window.origin + src.substr(1);\n        }\n        else {\n            script.src = src;\n        }\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = (e) => {\n            reject(e);\n        };\n        document.getElementsByTagName('head')[0].appendChild(script);\n    });\n}\nexport function serialize(source, option) {\n    return serializeObject(source, option);\n}\nexport function deserialize(source = '') {\n    if (!source) {\n        return source;\n    }\n    try {\n        // eslint-disable-next-line\n        return eval(`(${source})`);\n    }\n    catch (err) {\n        return undefined;\n    }\n}\nexport function rmUrlRepeatSlant(url) {\n    return url.replace(/\\/{2,}/g, '/').replace(/(https?):\\//g, '$1://');\n}\n// 字符串转 Function\nexport function str2function(name, content, ...args) {\n    try {\n        // eslint-disable-next-line\n        const func = new Function(...args, content);\n        return func;\n    }\n    catch (error) {\n        logger.getLogger('lib:tool:str2function').warn(`${name} 转 Function 错误`, error);\n        return null;\n    }\n}\n"]}]}