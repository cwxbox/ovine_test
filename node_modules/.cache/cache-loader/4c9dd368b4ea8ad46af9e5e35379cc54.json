{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_code.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_code.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHsKICB2YXIgdCA9IHt9OwoKICBmb3IgKHZhciBwIGluIHMpIHsKICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07CiAgfQoKICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAiZnVuY3Rpb24iKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dOwogIH0KICByZXR1cm4gdDsKfTsKLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KCgppbXBvcnQgeyBEcmF3ZXIsIFNwaW5uZXIgfSBmcm9tICdhbWlzJzsKaW1wb3J0IHsgRWRpdG9yLCB0b2FzdCB9IGZyb20gJ2FtaXMvbGliL2NvbXBvbmVudHMnOwppbXBvcnQgeyBjbG9uZURlZXAsIGlzT2JqZWN0LCBpc0Z1bmN0aW9uLCBtYXAgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBhcHAgfSBmcm9tICIuLi8uLi9hcHAiOwppbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAiLi4vLi4vY29uc3RhbnRzIjsKaW1wb3J0IHsgZ2V0Um91dGVDb25maWcgfSBmcm9tICIuLi8uLi9yb3V0ZXMvY29uZmlnIjsKaW1wb3J0IHsgZ2V0QXBwTGltaXRzIH0gZnJvbSAiLi4vLi4vcm91dGVzL2xpbWl0L2V4cG9ydHMiOwppbXBvcnQgeyBnZXRHbG9iYWwsIHNldEdsb2JhbCB9IGZyb20gIi4uLy4uL3V0aWxzL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgKHByb3BzID0+IHsKICB2YXIgewogICAgcmVuZGVyLAogICAgdGhlbWUKICB9ID0gcHJvcHM7CiAgdmFyIFtzaG93LCB0b2dnbGVdID0gdXNlU3RhdGUoZmFsc2UpOwogIHZhciBbbG9hZGluZywgdG9nZ2xlTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTsKICB2YXIgc3RvcmVSZWYgPSB1c2VSZWYoe30pOwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBzZXRHbG9iYWwoc3RvcmFnZS5kZXYuY29kZSwgewogICAgICBlbmFibGU6IHRydWUKICAgIH0pOwogIH0sIFtdKTsKCiAgdmFyIHRvZ2dsZURyYXdlciA9ICgpID0+IHRvZ2dsZSh0ID0+ICF0KTsKCiAgdmFyIG9uRWRpdG9yTW91bnRlZCA9ICgpID0+IHsKICAgIGlmIChsb2FkaW5nKSB7CiAgICAgIHRvZ2dsZUxvYWRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHZhciBnZXRDb2RlU3RyaW5nID0gdHlwZSA9PiB7CiAgICB2YXIganNvbiA9IHt9OwoKICAgIHN3aXRjaCAodHlwZSkgewogICAgICBjYXNlICdwYWdlJzoKICAgICAgICB7CiAgICAgICAgICBqc29uID0gZ2V0R2xvYmFsKHN0b3JhZ2UuZGV2LmNvZGUpIHx8IHt9OwoKICAgICAgICAgIGlmICghanNvbi5zY2hlbWEpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSAvLyByZW9yZGVyIGpzb25TY2hlbWEgb3V0cHV0CgoKICAgICAgICAgIHZhciBfYSA9IGpzb24uc2NoZW1hLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgZGVmaW5pdGlvbnMsCiAgICAgICAgICAgIHByZXNldAogICAgICAgICAgfSA9IF9hLAogICAgICAgICAgICAgIHJlc2V0ID0gX19yZXN0KF9hLCBbImRlZmluaXRpb25zIiwgInByZXNldCJdKTsKCiAgICAgICAgICBqc29uLnNjaGVtYSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzZXQpLCB7CiAgICAgICAgICAgIGRlZmluaXRpb25zLAogICAgICAgICAgICBwcmVzZXQKICAgICAgICAgIH0pOwogICAgICAgICAgdHJhbnNTY2hlbWEoY2xvbmVEZWVwKGpzb24uc2NoZW1hKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdyb3V0ZSc6CiAgICAgICAganNvbiA9IGdldFJvdXRlQ29uZmlnKHRydWUpOwogICAgICAgIHRyYW5zU2NoZW1hKGpzb24pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnbGltaXQnOgogICAgICAgIGpzb24gPSBnZXRBcHBMaW1pdHMoKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHZhciBqc29uU3RyID0gSlNPTi5zdHJpbmdpZnkoanNvbi5zY2hlbWEgfHwganNvbik7CiAgICByZXR1cm4ganNvblN0cjsKICB9OwoKICB2YXIgdmlld0NvZGUgPSBjb2RlVHlwZSA9PiB7CiAgICB2YXIgY29kZVN0cmluZyA9IGdldENvZGVTdHJpbmcoY29kZVR5cGUpOwogICAgc3RvcmVSZWYuY3VycmVudC5jb2RlU3RyaW5nID0gY29kZVN0cmluZzsKCiAgICBpZiAoY29kZVR5cGUgPT09ICdwYWdlJyAmJiAhY29kZVN0cmluZykgewogICAgICB0b2FzdC5pbmZvKCflvZPliY3pobXpnaLml6DmlbDmja4nLCAn57O757uf5o+Q56S6Jyk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0b2dnbGVEcmF3ZXIoKTsKICB9OwoKICB2YXIgZHJvcERvd25TY2hlbWEgPSB7CiAgICB0eXBlOiAnbGliLWRyb3Bkb3duJywKICAgIGNsYXNzTmFtZTogJ2wtaC0xJywKICAgIGJvZHk6IHsKICAgICAgdHlwZTogJ2J1dHRvbicsCiAgICAgIGljb25Pbmx5OiB0cnVlLAogICAgICBpY29uOiAnZmEgZmEtY29kZScsCiAgICAgIGxldmVsOiAnYmxhbmsnCiAgICB9LAogICAgaXRlbXM6IFt7CiAgICAgIHR5cGU6ICdidXR0b24nLAogICAgICBsZXZlbDogJ2xpbmsnLAogICAgICBpY29uOiAnZmEgZmEtZmlsZS1jb2RlLW8nLAogICAgICBsYWJlbDogJ+acrOmhtemdokpTT04nLAogICAgICBvbkNsaWNrOiAoKSA9PiB2aWV3Q29kZSgncGFnZScpCiAgICB9LCB7CiAgICAgIHR5cGU6ICdidXR0b24nLAogICAgICBsZXZlbDogJ2xpbmsnLAogICAgICBpY29uOiAnZmEgZmEtY29kZS1mb3JrJywKICAgICAgbGFiZWw6ICdBUFDot6/nlLHphY3nva4nLAogICAgICBvbkNsaWNrOiAoKSA9PiB2aWV3Q29kZSgncm91dGUnKQogICAgfSwgewogICAgICB0eXBlOiAnYnV0dG9uJywKICAgICAgbGV2ZWw6ICdsaW5rJywKICAgICAgaWNvbjogJ2ZhIGZhLXVubG9jaycsCiAgICAgIGxhYmVsOiAn5b2T5YmN5oul5pyJ5p2D6ZmQJywKICAgICAgb25DbGljazogKCkgPT4gdmlld0NvZGUoJ2xpbWl0JykKICAgIH1dCiAgfTsKCiAgaWYgKGFwcC5lbnYuaXNSZWxlYXNlKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRHJhd2VyLCB7CiAgICBjbG9zZU9uT3V0c2lkZTogdHJ1ZSwKICAgIHRoZW1lOiB0aGVtZSwKICAgIHNpemU6ICJsZyIsCiAgICBvbkhpZGU6IHRvZ2dsZURyYXdlciwKICAgIHNob3c6IHNob3csCiAgICBwb3NpdGlvbjogImxlZnQiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgewogICAgb3ZlcmxheTogdHJ1ZSwKICAgIHNob3c6IHNob3cgJiYgbG9hZGluZywKICAgIHNpemU6ICJsZyIKICB9KSwgc2hvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0b3IsIHsKICAgIGVkaXRvckRpZE1vdW50OiBvbkVkaXRvck1vdW50ZWQsCiAgICBvcHRpb25zOiB7CiAgICAgIHJlYWRPbmx5OiB0cnVlCiAgICB9LAogICAgZWRpdG9yVGhlbWU6IHRoZW1lID09PSAnZGFyaycgPyAndnMtZGFyaycgOiAndnMnLAogICAgbGFuZ3VhZ2U6ICJqc29uIiwKICAgIHZhbHVlOiBzdG9yZVJlZi5jdXJyZW50LmNvZGVTdHJpbmcKICB9KSksIHJlbmRlcignYm9keScsIGRyb3BEb3duU2NoZW1hKSk7Cn0pOwoKZnVuY3Rpb24gdHJhbnNTY2hlbWEoc2NoZW1hKSB7CiAgaWYgKCFpc09iamVjdChzY2hlbWEpKSB7CiAgICByZXR1cm47CiAgfQoKICBtYXAoc2NoZW1hLCAodmFsLCBrZXkpID0+IHsKICAgIGlmIChpc0Z1bmN0aW9uKHZhbCkpIHsKICAgICAgOwogICAgICBzY2hlbWFba2V5XSA9ICdGdW5jdGlvbiBCb2R5JzsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkgewogICAgICB0cmFuc1NjaGVtYSh2YWwpOwogICAgfQogIH0pOwp9"},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/aside_layout/item_code.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Drawer","Spinner","Editor","toast","cloneDeep","isObject","isFunction","map","React","useState","useRef","useEffect","app","storage","getRouteConfig","getAppLimits","getGlobal","setGlobal","props","render","theme","show","toggle","loading","toggleLoading","storeRef","dev","code","enable","toggleDrawer","onEditorMounted","getCodeString","type","json","schema","_a","definitions","preset","reset","assign","transSchema","jsonStr","JSON","stringify","viewCode","codeType","codeString","current","info","dropDownSchema","className","body","iconOnly","icon","level","items","label","onClick","env","isRelease","createElement","Fragment","closeOnOutside","size","onHide","position","overlay","editorDidMount","options","readOnly","editorTheme","language","value","val","key"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable no-unused-vars */\nimport { Drawer, Spinner } from 'amis';\nimport { Editor, toast } from 'amis/lib/components';\nimport { cloneDeep, isObject, isFunction, map } from 'lodash';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { app } from \"../../app\";\nimport { storage } from \"../../constants\";\nimport { getRouteConfig } from \"../../routes/config\";\nimport { getAppLimits } from \"../../routes/limit/exports\";\nimport { getGlobal, setGlobal } from \"../../utils/store\";\nexport default (props) => {\n    const { render, theme } = props;\n    const [show, toggle] = useState(false);\n    const [loading, toggleLoading] = useState(true);\n    const storeRef = useRef({});\n    useEffect(() => {\n        setGlobal(storage.dev.code, { enable: true });\n    }, []);\n    const toggleDrawer = () => toggle((t) => !t);\n    const onEditorMounted = () => {\n        if (loading) {\n            toggleLoading(false);\n        }\n    };\n    const getCodeString = (type) => {\n        let json = {};\n        switch (type) {\n            case 'page': {\n                json = getGlobal(storage.dev.code) || {};\n                if (!json.schema) {\n                    return false;\n                }\n                // reorder jsonSchema output\n                const _a = json.schema, { definitions, preset } = _a, reset = __rest(_a, [\"definitions\", \"preset\"]);\n                json.schema = Object.assign(Object.assign({}, reset), { definitions, preset });\n                transSchema(cloneDeep(json.schema));\n                break;\n            }\n            case 'route':\n                json = getRouteConfig(true);\n                transSchema(json);\n                break;\n            case 'limit':\n                json = getAppLimits();\n                break;\n            default:\n                return false;\n        }\n        const jsonStr = JSON.stringify(json.schema || json);\n        return jsonStr;\n    };\n    const viewCode = (codeType) => {\n        const codeString = getCodeString(codeType);\n        storeRef.current.codeString = codeString;\n        if (codeType === 'page' && !codeString) {\n            toast.info('当前页面无数据', '系统提示');\n            return;\n        }\n        toggleDrawer();\n    };\n    const dropDownSchema = {\n        type: 'lib-dropdown',\n        className: 'l-h-1',\n        body: {\n            type: 'button',\n            iconOnly: true,\n            icon: 'fa fa-code',\n            level: 'blank',\n        },\n        items: [\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-file-code-o',\n                label: '本页面JSON',\n                onClick: () => viewCode('page'),\n            },\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-code-fork',\n                label: 'APP路由配置',\n                onClick: () => viewCode('route'),\n            },\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-unlock',\n                label: '当前拥有权限',\n                onClick: () => viewCode('limit'),\n            },\n        ],\n    };\n    if (app.env.isRelease) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Drawer, { closeOnOutside: true, theme: theme, size: \"lg\", onHide: toggleDrawer, show: show, position: \"left\" },\n            React.createElement(Spinner, { overlay: true, show: show && loading, size: \"lg\" }),\n            show && (React.createElement(Editor, { editorDidMount: onEditorMounted, options: { readOnly: true }, editorTheme: theme === 'dark' ? 'vs-dark' : 'vs', language: \"json\", value: storeRef.current.codeString }))),\n        render('body', dropDownSchema)));\n};\nfunction transSchema(schema) {\n    if (!isObject(schema)) {\n        return;\n    }\n    map(schema, (val, key) => {\n        if (isFunction(val)) {\n            ;\n            schema[key] = 'Function Body';\n        }\n        else if (isObject(val)) {\n            transSchema(val);\n        }\n    });\n}\n"]}]}