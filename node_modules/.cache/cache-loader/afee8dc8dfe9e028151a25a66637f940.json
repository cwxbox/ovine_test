{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_setting.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_setting.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEFQUCDns7vnu5/orr7nva4KICogVE9ETzoKICogMS4g5ouG5YiG6K6+572u5Yqf6IO977yM5q+P5Liq54us56uL6K6+572u6aG56YO95oq956a75Li654us56uL57uE5Lu277yM5Y+v6Ieq55Sx6YWN572u5Zyo5Lu75L2V5Zyw5pa5CiAqLwppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ2FtaXMnOwppbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBhcHAgfSBmcm9tICIuLi8uLi9hcHAiOwppbXBvcnQgeyBBbWlzIH0gZnJvbSAiLi4vYW1pcy9zY2hlbWEiOwppbXBvcnQgeyB1c2VBcHBDb250ZXh0IH0gZnJvbSAiLi4vYXBwL2NvbnRleHQiOwppbXBvcnQgeyBtZXNzYWdlLCBzdG9yYWdlIH0gZnJvbSAiLi4vLi4vY29uc3RhbnRzIjsKaW1wb3J0IHsgc2V0QXBwTGltaXRzIH0gZnJvbSAiLi4vLi4vcm91dGVzL2xpbWl0L2V4cG9ydHMiOwppbXBvcnQgeyBjaGFuZ2VBcHBUaGVtZSB9IGZyb20gIi4uLy4uL3N0eWxlZC90aGVtZSI7CmltcG9ydCB7IHVzZUltbWVyIH0gZnJvbSAiLi4vLi4vdXRpbHMvaG9va3MiOwppbXBvcnQgeyBwdWJsaXNoIH0gZnJvbSAiLi4vLi4vdXRpbHMvbWVzc2FnZSI7CmltcG9ydCB7IGdldEdsb2JhbCwgZ2V0U3RvcmUsIHNldFN0b3JlIH0gZnJvbSAiLi4vLi4vdXRpbHMvc3RvcmUiOwppbXBvcnQgSGVhZEl0ZW0gZnJvbSAiLi9oZWFkX2l0ZW0iOwp2YXIgaW5pdFN0YXRlID0gewogIHNldHRpbmdWaXNpYmxlOiBmYWxzZSwKICBsaW1pdFZpc2libGU6IGZhbHNlCn07CmV4cG9ydCBkZWZhdWx0IChwcm9wcyA9PiB7CiAgdmFyIHsKICAgIHRoZW1lCiAgfSA9IHByb3BzOwogIHZhciBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZUltbWVyKGluaXRTdGF0ZSk7CiAgdmFyIHsKICAgIGVuYWJsZVJvdXRlVGFicywKICAgIHNldENvbnRleHQKICB9ID0gdXNlQXBwQ29udGV4dCgpOwogIHZhciB7CiAgICBzZXR0aW5nVmlzaWJsZQogIH0gPSBzdGF0ZTsKICB2YXIgc3VwcG9ydFJvdXRlVGFicyA9IGdldEdsb2JhbChzdG9yYWdlLnN1cHBvcnRSb3V0ZVRhYnMpOwoKICB2YXIgdG9nZ2xlU2V0dGluZyA9ICgpID0+IHsKICAgIHNldFN0YXRlKGQgPT4gewogICAgICBkLnNldHRpbmdWaXNpYmxlID0gIWQuc2V0dGluZ1Zpc2libGU7CiAgICB9KTsKICB9OwoKICB2YXIgb25DbGVhckNhY2hlID0gKCkgPT4gewogICAgdG9nZ2xlU2V0dGluZygpOwogICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgdG9hc3Quc3VjY2Vzcygn57yT5a2Y5bey57uP6KKr5riF55CGJywgJ+aTjeS9nOaIkOWKnycpOwogIH07CgogIHZhciBvbkNoYW5nZVRoZW1lID0gKGNob3NlVGhlbWUsIHByZXZUaGVtZSkgPT4gewogICAgaWYgKCFwcmV2VGhlbWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChjaG9zZVRoZW1lICE9PSBwcmV2VGhlbWUpIHsKICAgICAgdG9nZ2xlU2V0dGluZygpOwogICAgICBjaGFuZ2VBcHBUaGVtZShjaG9zZVRoZW1lKTsKICAgIH0KICB9OwoKICB2YXIgb25DaGFuZ2VMb2NhbGUgPSAoY2hvc2VMb2NhbGUsIHByZXZMb2NhbGUpID0+IHsKICAgIGlmICghcHJldkxvY2FsZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGNob3NlTG9jYWxlICE9PSBwcmV2TG9jYWxlKSB7CiAgICAgIHRvZ2dsZVNldHRpbmcoKTsKICAgICAgc2V0U3RvcmUoc3RvcmFnZS5hcHBMb2NhbGUsIGNob3NlTG9jYWxlKTsKICAgICAgcHVibGlzaChtZXNzYWdlLmFwcExvY2FsZSwgY2hvc2VMb2NhbGUpOwogICAgfQogIH07CgogIHZhciBkZXZJdGVtcyA9IFtdOwoKICBpZiAoYXBwLmVudi5tb2RlID09PSAnbG9jYWxob3N0JykgewogICAgZGV2SXRlbXMgPSBbewogICAgICB0eXBlOiAnZGl2aWRlcicKICAgIH0sIHsKICAgICAgdHlwZTogJ2xpYi1ibGFuaycsCiAgICAgIGxhYmVsOiAn5rWL6K+V5p2D6ZmQJywKICAgICAgY2xhc3NOYW1lOiAnZnJvbS1pdGVtLWJ1dHRvbicsCiAgICAgIGJvZHk6IHsKICAgICAgICB0eXBlOiAnbGliLWxpbWl0LXNldHRpbmcnLAogICAgICAgIHNhdmVDb25maXJtVGV4dDogJ+adg+mZkOa1i+ivleS/ruaUue+8jOS7heWvueiHquW3seacieaViO+8jOWIt+aWsOmhtemdouWQjuWPr+mihOiniOacgOaWsOadg+mZkOOAgua4hemZpOe8k+WtmOWPr+aBouWkjeaJgOacieadg+mZkOOAgicsCiAgICAgICAgYnV0dG9uOiB7CiAgICAgICAgICBhY3Rpb25UeXBlOiAnZHJhd2VyJwogICAgICAgIH0sCiAgICAgICAgbW9kYWw6IHsKICAgICAgICAgIHRpdGxlOiAn5rWL6K+V546v5aKD6K6+572u5p2D6ZmQJywKICAgICAgICAgIHBvc3Rpb246ICdyaWdodCcsCiAgICAgICAgICByZXNpemFibGU6IHRydWUsCiAgICAgICAgICBjbGFzc05hbWU6ICdoaWRlLWNsb3NlLWJ1dHRvbicKICAgICAgICB9LAogICAgICAgIGdldExpbWl0OiAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gZ2V0U3RvcmUoc3RvcmFnZS5kZXYubGltaXQpIHx8ICcnOwogICAgICAgIH0sCiAgICAgICAgb25TYXZlOiBkYXRhID0+IHsKICAgICAgICAgIHNldFN0b3JlKHN0b3JhZ2UuZGV2LmxpbWl0LCBkYXRhLmF1dGhMaW1pdCk7CiAgICAgICAgICBzZXRTdG9yZShzdG9yYWdlLmRldi5hcGksIGRhdGEuYXV0aEFwaSk7CiAgICAgICAgICBzZXRBcHBMaW1pdHMoZGF0YS5hdXRoTGltaXQpOwogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0KICAgICAgfQogICAgfV07CiAgfQoKICB2YXIgc2NoZW1hID0gewogICAgdHlwZTogJ2RyYXdlcicsCiAgICBzaXplOiAnc20nLAogICAgYWN0aW9uczogW10sCiAgICBzaG93OiBzZXR0aW5nVmlzaWJsZSwKICAgIG9uQ2xvc2U6IHRvZ2dsZVNldHRpbmcsCiAgICBwb3NpdGlvbjogJ3JpZ2h0JywKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6ICd3cmFwcGVyJywKICAgICAgY2xhc3NOYW1lOiAnbm8tcGFkZGVyIG5vLWJnLWMnLAogICAgICBib2R5OiB7CiAgICAgICAgdHlwZTogJ2h0bWwnLAogICAgICAgIGh0bWw6ICc8ZGl2PjxpIGNsYXNzPSJmYSBmYS1jb2cgcC1yLXhzIj48L2k+PHNwYW4+57O757uf6K6+572uPC9zcGFuPjwvZGl2PicKICAgICAgfQogICAgfSwKICAgIGJvZHk6IHsKICAgICAgdHlwZTogJ2xpYi1jc3MnLAogICAgICBjc3M6ICJcbiAgICAgIC5mcm9tLWl0ZW0tYnV0dG9uIHtcbiAgICAgICAgLmZvcm0tY29udHJvbC1zdGF0aWMge1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIH1cbiAgICAgICAgbGFiZWwge1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAxM3B4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgIiwKICAgICAgYm9keTogewogICAgICAgIHR5cGU6ICdmb3JtJywKICAgICAgICBtb2RlOiAnaG9yaXpvbnRhbCcsCiAgICAgICAgaG9yaXpvbnRhbDogewogICAgICAgICAgbGVmdDogJ2NvbC1zbS00JywKICAgICAgICAgIHJpZ2h0OiAnY29sLXNtLTgnCiAgICAgICAgfSwKICAgICAgICB3cmFwV2l0aFBhbmVsOiBmYWxzZSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICB0aGVtZSwKICAgICAgICAgIGxvY2FsZTogZ2V0U3RvcmUoc3RvcmFnZS5hcHBMb2NhbGUpIHx8IGFwcC5hbWlzLmxvY2FsZSB8fCAnemgtQ04nCiAgICAgICAgfSwKICAgICAgICBjb250cm9sczogW3sKICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgbmFtZTogJ3RoZW1lJywKICAgICAgICAgIGxhYmVsOiAn6YCJ5oup5Li76aKYJywKICAgICAgICAgIG9wdGlvbnM6IG1hcChhcHAudGhlbWUuZ2V0QWxsVGhlbWVzKCksIChfcmVmLCBrZXkpID0+IHsKICAgICAgICAgICAgdmFyIHsKICAgICAgICAgICAgICB0ZXh0CiAgICAgICAgICAgIH0gPSBfcmVmOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGxhYmVsOiB0ZXh0LAogICAgICAgICAgICAgIHZhbHVlOiBrZXkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pLAogICAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlVGhlbWUKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAnc2VsZWN0JywKICAgICAgICAgIG5hbWU6ICdsb2NhbGUnLAogICAgICAgICAgbGFiZWw6ICfpgInmi6nor63oqIAnLAogICAgICAgICAgb3B0aW9uczogW3sKICAgICAgICAgICAgbGFiZWw6ICfkuK3mlocnLAogICAgICAgICAgICB2YWx1ZTogJ3poLUNOJwogICAgICAgICAgfSwgewogICAgICAgICAgICBsYWJlbDogJ0VuZ2xpc2gnLAogICAgICAgICAgICB2YWx1ZTogJ2VuLVVTJwogICAgICAgICAgfV0sCiAgICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2VMb2NhbGUKICAgICAgICB9LCBzdXBwb3J0Um91dGVUYWJzICYmIHsKICAgICAgICAgIHR5cGU6ICdzd2l0Y2gnLAogICAgICAgICAgbmFtZTogJ2VuYWJsZVJvdXRlVGFicycsCiAgICAgICAgICBsYWJlbDogJ+i3r+eUsemAiemhueWNoScsCiAgICAgICAgICB2YWx1ZTogZW5hYmxlUm91dGVUYWJzLAogICAgICAgICAgb25DaGFuZ2U6IGVuYWJsZSA9PiB7CiAgICAgICAgICAgIHNldENvbnRleHQoZCA9PiB7CiAgICAgICAgICAgICAgZC5lbmFibGVSb3V0ZVRhYnMgPSBlbmFibGU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZXRTdG9yZShzdG9yYWdlLmVuYWJsZVJvdXRlVGFicywgZW5hYmxlKTsKICAgICAgICAgICAgdG9nZ2xlU2V0dGluZygpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHR5cGU6ICdsaWItYmxhbmsnLAogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBsYWJlbDogJ+ezu+e7n+e8k+WtmCcsCiAgICAgICAgICBjbGFzc05hbWU6ICdmcm9tLWl0ZW0tYnV0dG9uJywKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsCiAgICAgICAgICAgIGljb246ICdmYSBmYS10cmFzaC1vJywKICAgICAgICAgICAgbGFiZWw6ICfmuIXpmaQnLAogICAgICAgICAgICBjb25maXJtVGV4dDogJ+acrOWcsOe8k+WtmOaVsOaNruWwhuiiq+WIoOmZpO+8jOehruiupOa4hemZpO+8nycsCiAgICAgICAgICAgIG9uQWN0aW9uOiBvbkNsZWFyQ2FjaGUKICAgICAgICAgIH0KICAgICAgICB9LCAuLi5kZXZJdGVtc10uZmlsdGVyKEJvb2xlYW4pCiAgICAgIH0KICAgIH0KICB9OwogIHZhciBjb2ZJdGVtUHJvcHMgPSB7CiAgICBmYUljb246ICdjb2cnLAogICAgdGlwOiAn6K6+572uJywKICAgIG9uQ2xpY2s6IHRvZ2dsZVNldHRpbmcKICB9OwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZEl0ZW0sIHsKICAgIGl0ZW1Qcm9wczogY29mSXRlbVByb3BzCiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFtaXMsIHsKICAgIHNjaGVtYTogc2NoZW1hCiAgfSkpOwp9KTs="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/aside_layout/item_setting.js"],"names":["toast","map","React","app","Amis","useAppContext","message","storage","setAppLimits","changeAppTheme","useImmer","publish","getGlobal","getStore","setStore","HeadItem","initState","settingVisible","limitVisible","props","theme","state","setState","enableRouteTabs","setContext","supportRouteTabs","toggleSetting","d","onClearCache","localStorage","clear","sessionStorage","success","onChangeTheme","choseTheme","prevTheme","onChangeLocale","choseLocale","prevLocale","appLocale","devItems","env","mode","type","label","className","body","saveConfirmText","button","actionType","modal","title","postion","resizable","getLimit","dev","limit","onSave","data","authLimit","api","authApi","window","location","reload","schema","size","actions","show","onClose","position","html","css","horizontal","left","right","wrapWithPanel","locale","amis","controls","name","options","getAllThemes","key","text","value","onChange","enable","icon","confirmText","onAction","filter","Boolean","cofItemProps","faIcon","tip","onClick","createElement","Fragment","itemProps"],"mappings":"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","sourcesContent":["/**\n * APP 系统设置\n * TODO:\n * 1. 拆分设置功能，每个独立设置项都抽离为独立组件，可自由配置在任何地方\n */\nimport { toast } from 'amis';\nimport map from 'lodash/map';\nimport React from 'react';\nimport { app } from \"../../app\";\nimport { Amis } from \"../amis/schema\";\nimport { useAppContext } from \"../app/context\";\nimport { message, storage } from \"../../constants\";\nimport { setAppLimits } from \"../../routes/limit/exports\";\nimport { changeAppTheme } from \"../../styled/theme\";\nimport { useImmer } from \"../../utils/hooks\";\nimport { publish } from \"../../utils/message\";\nimport { getGlobal, getStore, setStore } from \"../../utils/store\";\nimport HeadItem from \"./head_item\";\nconst initState = {\n    settingVisible: false,\n    limitVisible: false,\n};\nexport default (props) => {\n    const { theme } = props;\n    const [state, setState] = useImmer(initState);\n    const { enableRouteTabs, setContext } = useAppContext();\n    const { settingVisible } = state;\n    const supportRouteTabs = getGlobal(storage.supportRouteTabs);\n    const toggleSetting = () => {\n        setState((d) => {\n            d.settingVisible = !d.settingVisible;\n        });\n    };\n    const onClearCache = () => {\n        toggleSetting();\n        localStorage.clear();\n        sessionStorage.clear();\n        toast.success('缓存已经被清理', '操作成功');\n    };\n    const onChangeTheme = (choseTheme, prevTheme) => {\n        if (!prevTheme) {\n            return;\n        }\n        if (choseTheme !== prevTheme) {\n            toggleSetting();\n            changeAppTheme(choseTheme);\n        }\n    };\n    const onChangeLocale = (choseLocale, prevLocale) => {\n        if (!prevLocale) {\n            return;\n        }\n        if (choseLocale !== prevLocale) {\n            toggleSetting();\n            setStore(storage.appLocale, choseLocale);\n            publish(message.appLocale, choseLocale);\n        }\n    };\n    let devItems = [];\n    if (app.env.mode === 'localhost') {\n        devItems = [\n            { type: 'divider' },\n            {\n                type: 'lib-blank',\n                label: '测试权限',\n                className: 'from-item-button',\n                body: {\n                    type: 'lib-limit-setting',\n                    saveConfirmText: '权限测试修改，仅对自己有效，刷新页面后可预览最新权限。清除缓存可恢复所有权限。',\n                    button: {\n                        actionType: 'drawer',\n                    },\n                    modal: {\n                        title: '测试环境设置权限',\n                        postion: 'right',\n                        resizable: true,\n                        className: 'hide-close-button',\n                    },\n                    getLimit: () => {\n                        return getStore(storage.dev.limit) || '';\n                    },\n                    onSave: (data) => {\n                        setStore(storage.dev.limit, data.authLimit);\n                        setStore(storage.dev.api, data.authApi);\n                        setAppLimits(data.authLimit);\n                        window.location.reload();\n                    },\n                },\n            },\n        ];\n    }\n    const schema = {\n        type: 'drawer',\n        size: 'sm',\n        actions: [],\n        show: settingVisible,\n        onClose: toggleSetting,\n        position: 'right',\n        title: {\n            type: 'wrapper',\n            className: 'no-padder no-bg-c',\n            body: {\n                type: 'html',\n                html: '<div><i class=\"fa fa-cog p-r-xs\"></i><span>系统设置</span></div>',\n            },\n        },\n        body: {\n            type: 'lib-css',\n            css: `\n      .from-item-button {\n        .form-control-static {\n          padding: 0;\n        }\n        label {\n          padding-top: 13px;\n        }\n      }\n    `,\n            body: {\n                type: 'form',\n                mode: 'horizontal',\n                horizontal: { left: 'col-sm-4', right: 'col-sm-8' },\n                wrapWithPanel: false,\n                data: {\n                    theme,\n                    locale: getStore(storage.appLocale) || app.amis.locale || 'zh-CN',\n                },\n                controls: [\n                    {\n                        type: 'select',\n                        name: 'theme',\n                        label: '选择主题',\n                        options: map(app.theme.getAllThemes(), ({ text }, key) => ({\n                            label: text,\n                            value: key,\n                        })),\n                        onChange: onChangeTheme,\n                    },\n                    {\n                        type: 'select',\n                        name: 'locale',\n                        label: '选择语言',\n                        options: [\n                            {\n                                label: '中文',\n                                value: 'zh-CN',\n                            },\n                            {\n                                label: 'English',\n                                value: 'en-US',\n                            },\n                        ],\n                        onChange: onChangeLocale,\n                    },\n                    supportRouteTabs && {\n                        type: 'switch',\n                        name: 'enableRouteTabs',\n                        label: '路由选项卡',\n                        value: enableRouteTabs,\n                        onChange: (enable) => {\n                            setContext((d) => {\n                                d.enableRouteTabs = enable;\n                            });\n                            setStore(storage.enableRouteTabs, enable);\n                            toggleSetting();\n                        },\n                    },\n                    {\n                        type: 'lib-blank',\n                        name: '',\n                        label: '系统缓存',\n                        className: 'from-item-button',\n                        body: {\n                            type: 'button',\n                            icon: 'fa fa-trash-o',\n                            label: '清除',\n                            confirmText: '本地缓存数据将被删除，确认清除？',\n                            onAction: onClearCache,\n                        },\n                    },\n                    ...devItems,\n                ].filter(Boolean),\n            },\n        },\n    };\n    const cofItemProps = {\n        faIcon: 'cog',\n        tip: '设置',\n        onClick: toggleSetting,\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(HeadItem, { itemProps: cofItemProps }),\n        React.createElement(Amis, { schema: schema })));\n};\n"]}]}