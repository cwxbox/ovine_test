{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\assets\\scripts\\serialize.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\assets\\scripts\\serialize.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKQ29weXJpZ2h0IChjKSAyMDE0LCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuClNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuCiovCid1c2Ugc3RyaWN0JzsgLy8gR2VuZXJhdGUgYW4gaW50ZXJuYWwgVUlEIHRvIG1ha2UgdGhlIHJlZ2V4cCBwYXR0ZXJuIGhhcmRlciB0byBndWVzcy4KLy8gdmFyIFVJRF9MRU5HVEggICAgICAgICAgPSAxNjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmVudGVyTW9kdWxlIDogdW5kZWZpbmVkOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0LnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07Cgp2YXIgVUlEID0gZ2VuZXJhdGVVSUQoKTsKdmFyIFBMQUNFX0hPTERFUl9SRUdFWFAgPSBuZXcgUmVnRXhwKCcoXFxcXCk/IkBfXyhGfFJ8RHxNfFN8QXxVfEl8QiktJyArIFVJRCArICctKFxcZCspX19AIicsICdnJyk7CnZhciBJU19OQVRJVkVfQ09ERV9SRUdFWFAgPSAvXHtccypcW25hdGl2ZSBjb2RlXF1ccypcfS9nOwp2YXIgSVNfUFVSRV9GVU5DVElPTiA9IC9mdW5jdGlvbi4qP1woLzsKdmFyIElTX0FSUk9XX0ZVTkNUSU9OID0gLy4qPz0+Lio/LzsKdmFyIFVOU0FGRV9DSEFSU19SRUdFWFAgPSAvWzw+XC9cdTIwMjhcdTIwMjldL2c7CnZhciBSRVNFUlZFRF9TWU1CT0xTID0gWycqJywgJ2FzeW5jJ107IC8vIE1hcHBpbmcgb2YgdW5zYWZlIEhUTUwgYW5kIGludmFsaWQgSmF2YVNjcmlwdCBsaW5lIHRlcm1pbmF0b3IgY2hhcnMgdG8gdGhlaXIKLy8gVW5pY29kZSBjaGFyIGNvdW50ZXJwYXJ0cyB3aGljaCBhcmUgc2FmZSB0byB1c2UgaW4gSmF2YVNjcmlwdCBzdHJpbmdzLgoKdmFyIEVTQ0FQRURfQ0hBUlMgPSB7CiAgJzwnOiAnXFx1MDAzQycsCiAgJz4nOiAnXFx1MDAzRScsCiAgJy8nOiAnXFx1MDAyRicsCiAgJ1x1MjAyOCc6ICdcXHUyMDI4JywKICAnXHUyMDI5JzogJ1xcdTIwMjknCn07CgpmdW5jdGlvbiBlc2NhcGVVbnNhZmVDaGFycyh1bnNhZmVDaGFyKSB7CiAgcmV0dXJuIEVTQ0FQRURfQ0hBUlNbdW5zYWZlQ2hhcl07Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlVUlEKCkgewogIHJldHVybiBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTsKfQoKZnVuY3Rpb24gZGVsZXRlRnVuY3Rpb25zKG9iaikgewogIHZhciBmdW5jdGlvbktleXMgPSBbXTsKCiAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gImZ1bmN0aW9uIikgewogICAgICBmdW5jdGlvbktleXMucHVzaChrZXkpOwogICAgfQogIH0KCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jdGlvbktleXMubGVuZ3RoOyBpKyspIHsKICAgIGRlbGV0ZSBvYmpbZnVuY3Rpb25LZXlzW2ldXTsKICB9Cn0KCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2VyaWFsaXplKG9iaiwgb3B0aW9ucykgewogIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7IC8vIEJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGZvciBgc3BhY2VgIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuCgogIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICBvcHRpb25zID0gewogICAgICBzcGFjZTogb3B0aW9ucwogICAgfTsKICB9CgogIHZhciBmdW5jdGlvbnMgPSBbXTsKICB2YXIgcmVnZXhwcyA9IFtdOwogIHZhciBkYXRlcyA9IFtdOwogIHZhciBtYXBzID0gW107CiAgdmFyIHNldHMgPSBbXTsKICB2YXIgYXJyYXlzID0gW107CiAgdmFyIHVuZGVmcyA9IFtdOwogIHZhciBpbmZpbml0aWVzID0gW107CiAgdmFyIGJpZ0ludHMgPSBbXTsgLy8gUmV0dXJucyBwbGFjZWhvbGRlcnMgZm9yIGZ1bmN0aW9ucyBhbmQgcmVnZXhwcyAoaWRlbnRpZmllZCBieSBpbmRleCkKICAvLyB3aGljaCBhcmUgbGF0ZXIgcmVwbGFjZWQgYnkgdGhlaXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uLgoKICBmdW5jdGlvbiByZXBsYWNlcihrZXksIHZhbHVlKSB7CiAgICAvLyBGb3IgbmVzdGVkIGZ1bmN0aW9uCiAgICBpZiAob3B0aW9ucy5pZ25vcmVGdW5jdGlvbikgewogICAgICBkZWxldGVGdW5jdGlvbnModmFsdWUpOwogICAgfQoKICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdmFsdWU7CiAgICB9IC8vIElmIHRoZSB2YWx1ZSBpcyBhbiBvYmplY3Qgdy8gYSB0b0pTT04gbWV0aG9kLCB0b0pTT04gaXMgY2FsbGVkIGJlZm9yZQogICAgLy8gdGhlIHJlcGxhY2VyIHJ1bnMsIHNvIHdlIHVzZSB0aGlzW2tleV0gdG8gZ2V0IHRoZSBub24tdG9KU09OZWQgdmFsdWUuCgoKICAgIHZhciBvcmlnVmFsdWUgPSB0aGlzW2tleV07CiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvcmlnVmFsdWU7CgogICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7CiAgICAgIGlmIChvcmlnVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICByZXR1cm4gJ0BfX1ItJyArIFVJRCArICctJyArIChyZWdleHBzLnB1c2gob3JpZ1ZhbHVlKSAtIDEpICsgJ19fQCc7CiAgICAgIH0KCiAgICAgIGlmIChvcmlnVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7CiAgICAgICAgcmV0dXJuICdAX19ELScgKyBVSUQgKyAnLScgKyAoZGF0ZXMucHVzaChvcmlnVmFsdWUpIC0gMSkgKyAnX19AJzsKICAgICAgfQoKICAgICAgaWYgKG9yaWdWYWx1ZSBpbnN0YW5jZW9mIE1hcCkgewogICAgICAgIHJldHVybiAnQF9fTS0nICsgVUlEICsgJy0nICsgKG1hcHMucHVzaChvcmlnVmFsdWUpIC0gMSkgKyAnX19AJzsKICAgICAgfQoKICAgICAgaWYgKG9yaWdWYWx1ZSBpbnN0YW5jZW9mIFNldCkgewogICAgICAgIHJldHVybiAnQF9fUy0nICsgVUlEICsgJy0nICsgKHNldHMucHVzaChvcmlnVmFsdWUpIC0gMSkgKyAnX19AJzsKICAgICAgfQoKICAgICAgaWYgKG9yaWdWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgdmFyIGlzU3BhcnNlID0gb3JpZ1ZhbHVlLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KS5sZW5ndGggIT09IG9yaWdWYWx1ZS5sZW5ndGg7CgogICAgICAgIGlmIChpc1NwYXJzZSkgewogICAgICAgICAgcmV0dXJuICdAX19BLScgKyBVSUQgKyAnLScgKyAoYXJyYXlzLnB1c2gob3JpZ1ZhbHVlKSAtIDEpICsgJ19fQCc7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuICdAX19GLScgKyBVSUQgKyAnLScgKyAoZnVuY3Rpb25zLnB1c2gob3JpZ1ZhbHVlKSAtIDEpICsgJ19fQCc7CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHJldHVybiAnQF9fVS0nICsgVUlEICsgJy0nICsgKHVuZGVmcy5wdXNoKG9yaWdWYWx1ZSkgLSAxKSArICdfX0AnOwogICAgfQoKICAgIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4ob3JpZ1ZhbHVlKSAmJiAhaXNGaW5pdGUob3JpZ1ZhbHVlKSkgewogICAgICByZXR1cm4gJ0BfX0ktJyArIFVJRCArICctJyArIChpbmZpbml0aWVzLnB1c2gob3JpZ1ZhbHVlKSAtIDEpICsgJ19fQCc7CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICdiaWdpbnQnKSB7CiAgICAgIHJldHVybiAnQF9fQi0nICsgVUlEICsgJy0nICsgKGJpZ0ludHMucHVzaChvcmlnVmFsdWUpIC0gMSkgKyAnX19AJzsKICAgIH0KCiAgICByZXR1cm4gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBzZXJpYWxpemVGdW5jKGZuKSB7CiAgICB2YXIgc2VyaWFsaXplZEZuID0gZm4udG9TdHJpbmcoKTsKCiAgICBpZiAoSVNfTkFUSVZFX0NPREVfUkVHRVhQLnRlc3Qoc2VyaWFsaXplZEZuKSkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZXJpYWxpemluZyBuYXRpdmUgZnVuY3Rpb246ICcgKyBmbi5uYW1lKTsKICAgIH0gLy8gcHVyZSBmdW5jdGlvbnMsIGV4YW1wbGU6IHtrZXk6IGZ1bmN0aW9uKCkge319CgoKICAgIGlmIChJU19QVVJFX0ZVTkNUSU9OLnRlc3Qoc2VyaWFsaXplZEZuKSkgewogICAgICByZXR1cm4gc2VyaWFsaXplZEZuOwogICAgfSAvLyBhcnJvdyBmdW5jdGlvbnMsIGV4YW1wbGU6IGFyZzEgPT4gYXJnMSs1CgoKICAgIGlmIChJU19BUlJPV19GVU5DVElPTi50ZXN0KHNlcmlhbGl6ZWRGbikpIHsKICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRGbjsKICAgIH0KCiAgICB2YXIgYXJnc1N0YXJ0c0F0ID0gc2VyaWFsaXplZEZuLmluZGV4T2YoJygnKTsKICAgIHZhciBkZWYgPSBzZXJpYWxpemVkRm4uc3Vic3RyKDAsIGFyZ3NTdGFydHNBdCkudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgcmV0dXJuIHZhbC5sZW5ndGggPiAwOwogICAgfSk7CiAgICB2YXIgbm9uUmVzZXJ2ZWRTeW1ib2xzID0gZGVmLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7CiAgICAgIHJldHVybiBSRVNFUlZFRF9TWU1CT0xTLmluZGV4T2YodmFsKSA9PT0gLTE7CiAgICB9KTsgLy8gZW5oYW5jZWQgbGl0ZXJhbCBvYmplY3RzLCBleGFtcGxlOiB7a2V5KCkge319CgogICAgaWYgKG5vblJlc2VydmVkU3ltYm9scy5sZW5ndGggPiAwKSB7CiAgICAgIHJldHVybiAoZGVmLmluZGV4T2YoJ2FzeW5jJykgPiAtMSA/ICdhc3luYyAnIDogJycpICsgJ2Z1bmN0aW9uJyArIChkZWYuam9pbignJykuaW5kZXhPZignKicpID4gLTEgPyAnKicgOiAnJykgKyBzZXJpYWxpemVkRm4uc3Vic3RyKGFyZ3NTdGFydHNBdCk7CiAgICB9IC8vIGFycm93IGZ1bmN0aW9ucwoKCiAgICByZXR1cm4gc2VyaWFsaXplZEZuOwogIH0gLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBmdW5jdGlvbgoKCiAgaWYgKG9wdGlvbnMuaWdub3JlRnVuY3Rpb24gJiYgdHlwZW9mIG9iaiA9PT0gImZ1bmN0aW9uIikgewogICAgb2JqID0gdW5kZWZpbmVkOwogIH0gLy8gUHJvdGVjdHMgYWdhaW5zdCBgSlNPTi5zdHJpbmdpZnkoKWAgcmV0dXJuaW5nIGB1bmRlZmluZWRgLCBieSBzZXJpYWxpemluZwogIC8vIHRvIHRoZSBsaXRlcmFsIHN0cmluZzogInVuZGVmaW5lZCIuCgoKICBpZiAob2JqID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiBTdHJpbmcob2JqKTsKICB9CgogIHZhciBzdHI7IC8vIENyZWF0ZXMgYSBKU09OIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmFsdWUuCiAgLy8gTk9URTogTm9kZSAwLjEyIGdvZXMgaW50byBzbG93IG1vZGUgd2l0aCBleHRyYSBKU09OLnN0cmluZ2lmeSgpIGFyZ3MuCgogIGlmIChvcHRpb25zLmlzSlNPTiAmJiAhb3B0aW9ucy5zcGFjZSkgewogICAgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTsKICB9IGVsc2UgewogICAgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqLCBvcHRpb25zLmlzSlNPTiA/IG51bGwgOiByZXBsYWNlciwgb3B0aW9ucy5zcGFjZSk7CiAgfSAvLyBQcm90ZWN0cyBhZ2FpbnN0IGBKU09OLnN0cmluZ2lmeSgpYCByZXR1cm5pbmcgYHVuZGVmaW5lZGAsIGJ5IHNlcmlhbGl6aW5nCiAgLy8gdG8gdGhlIGxpdGVyYWwgc3RyaW5nOiAidW5kZWZpbmVkIi4KCgogIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykgewogICAgcmV0dXJuIFN0cmluZyhzdHIpOwogIH0gLy8gUmVwbGFjZSB1bnNhZmUgSFRNTCBhbmQgaW52YWxpZCBKYXZhU2NyaXB0IGxpbmUgdGVybWluYXRvciBjaGFycyB3aXRoCiAgLy8gdGhlaXIgc2FmZSBVbmljb2RlIGNoYXIgY291bnRlcnBhcnQuIFRoaXMgX211c3RfIGhhcHBlbiBiZWZvcmUgdGhlCiAgLy8gcmVnZXhwcyBhbmQgZnVuY3Rpb25zIGFyZSBzZXJpYWxpemVkIGFuZCBhZGRlZCBiYWNrIHRvIHRoZSBzdHJpbmcuCgoKICBpZiAob3B0aW9ucy51bnNhZmUgIT09IHRydWUpIHsKICAgIHN0ciA9IHN0ci5yZXBsYWNlKFVOU0FGRV9DSEFSU19SRUdFWFAsIGVzY2FwZVVuc2FmZUNoYXJzKTsKICB9CgogIGlmIChmdW5jdGlvbnMubGVuZ3RoID09PSAwICYmIHJlZ2V4cHMubGVuZ3RoID09PSAwICYmIGRhdGVzLmxlbmd0aCA9PT0gMCAmJiBtYXBzLmxlbmd0aCA9PT0gMCAmJiBzZXRzLmxlbmd0aCA9PT0gMCAmJiBhcnJheXMubGVuZ3RoID09PSAwICYmIHVuZGVmcy5sZW5ndGggPT09IDAgJiYgaW5maW5pdGllcy5sZW5ndGggPT09IDAgJiYgYmlnSW50cy5sZW5ndGggPT09IDApIHsKICAgIHJldHVybiBzdHI7CiAgfSAvLyBSZXBsYWNlcyBhbGwgb2NjdXJyZW5jZXMgb2YgZnVuY3Rpb24sIHJlZ2V4cCwgZGF0ZSwgbWFwIGFuZCBzZXQgcGxhY2Vob2xkZXJzIGluIHRoZQogIC8vIEpTT04gc3RyaW5nIHdpdGggdGhlaXIgc3RyaW5nIHJlcHJlc2VudGF0aW9ucy4gSWYgdGhlIG9yaWdpbmFsIHZhbHVlIGNhbgogIC8vIG5vdCBiZSBmb3VuZCwgdGhlbiBgdW5kZWZpbmVkYCBpcyB1c2VkLgoKCiAgcmV0dXJuIHN0ci5yZXBsYWNlKFBMQUNFX0hPTERFUl9SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCwgYmFja1NsYXNoLCB0eXBlLCB2YWx1ZUluZGV4KSB7CiAgICAvLyBUaGUgcGxhY2Vob2xkZXIgbWF5IG5vdCBiZSBwcmVjZWRlZCBieSBhIGJhY2tzbGFzaC4gVGhpcyBpcyB0byBwcmV2ZW50CiAgICAvLyByZXBsYWNpbmcgdGhpbmdzIGxpa2UgYCJhXCJAX19SLTxVSUQ+LTBfX0AiYCBhbmQgdGh1cyBvdXRwdXR0aW5nCiAgICAvLyBpbnZhbGlkIEpTLgogICAgaWYgKGJhY2tTbGFzaCkgewogICAgICByZXR1cm4gbWF0Y2g7CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICdEJykgewogICAgICByZXR1cm4gIm5ldyBEYXRlKFwiIiArIGRhdGVzW3ZhbHVlSW5kZXhdLnRvSVNPU3RyaW5nKCkgKyAiXCIpIjsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ1InKSB7CiAgICAgIHJldHVybiAibmV3IFJlZ0V4cCgiICsgc2VyaWFsaXplKHJlZ2V4cHNbdmFsdWVJbmRleF0uc291cmNlKSArICIsIFwiIiArIHJlZ2V4cHNbdmFsdWVJbmRleF0uZmxhZ3MgKyAiXCIpIjsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ00nKSB7CiAgICAgIHJldHVybiAibmV3IE1hcCgiICsgc2VyaWFsaXplKEFycmF5LmZyb20obWFwc1t2YWx1ZUluZGV4XS5lbnRyaWVzKCkpLCBvcHRpb25zKSArICIpIjsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ1MnKSB7CiAgICAgIHJldHVybiAibmV3IFNldCgiICsgc2VyaWFsaXplKEFycmF5LmZyb20oc2V0c1t2YWx1ZUluZGV4XS52YWx1ZXMoKSksIG9wdGlvbnMpICsgIikiOwogICAgfQoKICAgIGlmICh0eXBlID09PSAnQScpIHsKICAgICAgcmV0dXJuICJBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCgiICsgc2VyaWFsaXplKE9iamVjdC5hc3NpZ24oewogICAgICAgIGxlbmd0aDogYXJyYXlzW3ZhbHVlSW5kZXhdLmxlbmd0aAogICAgICB9LCBhcnJheXNbdmFsdWVJbmRleF0pLCBvcHRpb25zKSArICIpIjsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ1UnKSB7CiAgICAgIHJldHVybiAndW5kZWZpbmVkJzsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ0knKSB7CiAgICAgIHJldHVybiBpbmZpbml0aWVzW3ZhbHVlSW5kZXhdOwogICAgfQoKICAgIGlmICh0eXBlID09PSAnQicpIHsKICAgICAgcmV0dXJuICJCaWdJbnQoXCIiICsgYmlnSW50c1t2YWx1ZUluZGV4XSArICJcIikiOwogICAgfQoKICAgIHZhciBmbiA9IGZ1bmN0aW9uc1t2YWx1ZUluZGV4XTsKICAgIHJldHVybiBzZXJpYWxpemVGdW5jKGZuKTsKICB9KTsKfTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFVJRCwgIlVJRCIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGFzc2V0c1xcc2NyaXB0c1xcc2VyaWFsaXplLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoUExBQ0VfSE9MREVSX1JFR0VYUCwgIlBMQUNFX0hPTERFUl9SRUdFWFAiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKElTX05BVElWRV9DT0RFX1JFR0VYUCwgIklTX05BVElWRV9DT0RFX1JFR0VYUCIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGFzc2V0c1xcc2NyaXB0c1xcc2VyaWFsaXplLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoSVNfUFVSRV9GVU5DVElPTiwgIklTX1BVUkVfRlVOQ1RJT04iLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKElTX0FSUk9XX0ZVTkNUSU9OLCAiSVNfQVJST1dfRlVOQ1RJT04iLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFVOU0FGRV9DSEFSU19SRUdFWFAsICJVTlNBRkVfQ0hBUlNfUkVHRVhQIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcYXNzZXRzXFxzY3JpcHRzXFxzZXJpYWxpemUuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihSRVNFUlZFRF9TWU1CT0xTLCAiUkVTRVJWRURfU1lNQk9MUyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGFzc2V0c1xcc2NyaXB0c1xcc2VyaWFsaXplLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoRVNDQVBFRF9DSEFSUywgIkVTQ0FQRURfQ0hBUlMiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGVzY2FwZVVuc2FmZUNoYXJzLCAiZXNjYXBlVW5zYWZlQ2hhcnMiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGdlbmVyYXRlVUlELCAiZ2VuZXJhdGVVSUQiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxhc3NldHNcXHNjcmlwdHNcXHNlcmlhbGl6ZS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGRlbGV0ZUZ1bmN0aW9ucywgImRlbGV0ZUZ1bmN0aW9ucyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGFzc2V0c1xcc2NyaXB0c1xcc2VyaWFsaXplLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/assets/scripts/serialize.js"],"names":["UID","generateUID","PLACE_HOLDER_REGEXP","RegExp","IS_NATIVE_CODE_REGEXP","IS_PURE_FUNCTION","IS_ARROW_FUNCTION","UNSAFE_CHARS_REGEXP","RESERVED_SYMBOLS","ESCAPED_CHARS","escapeUnsafeChars","unsafeChar","Date","now","toString","deleteFunctions","obj","functionKeys","key","push","i","length","module","exports","serialize","options","space","functions","regexps","dates","maps","sets","arrays","undefs","infinities","bigInts","replacer","value","ignoreFunction","undefined","origValue","type","Map","Set","Array","isSparse","filter","isNaN","isFinite","serializeFunc","fn","serializedFn","test","TypeError","name","argsStartsAt","indexOf","def","substr","trim","split","val","nonReservedSymbols","join","String","str","isJSON","JSON","stringify","unsafe","replace","match","backSlash","valueIndex","toISOString","source","flags","from","entries","values","Object","assign"],"mappings":"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","sourcesContent":["/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n'use strict';\n// Generate an internal UID to make the regexp pattern harder to guess.\n// var UID_LENGTH          = 16;\nvar UID = generateUID();\nvar PLACE_HOLDER_REGEXP = new RegExp('(\\\\\\\\)?\"@__(F|R|D|M|S|A|U|I|B)-' + UID + '-(\\\\d+)__@\"', 'g');\nvar IS_NATIVE_CODE_REGEXP = /\\{\\s*\\[native code\\]\\s*\\}/g;\nvar IS_PURE_FUNCTION = /function.*?\\(/;\nvar IS_ARROW_FUNCTION = /.*?=>.*?/;\nvar UNSAFE_CHARS_REGEXP = /[<>\\/\\u2028\\u2029]/g;\nvar RESERVED_SYMBOLS = ['*', 'async'];\n// Mapping of unsafe HTML and invalid JavaScript line terminator chars to their\n// Unicode char counterparts which are safe to use in JavaScript strings.\nvar ESCAPED_CHARS = {\n    '<': '\\\\u003C',\n    '>': '\\\\u003E',\n    '/': '\\\\u002F',\n    '\\u2028': '\\\\u2028',\n    '\\u2029': '\\\\u2029'\n};\nfunction escapeUnsafeChars(unsafeChar) {\n    return ESCAPED_CHARS[unsafeChar];\n}\nfunction generateUID() {\n    return Date.now().toString(36);\n}\nfunction deleteFunctions(obj) {\n    var functionKeys = [];\n    for (var key in obj) {\n        if (typeof obj[key] === \"function\") {\n            functionKeys.push(key);\n        }\n    }\n    for (var i = 0; i < functionKeys.length; i++) {\n        delete obj[functionKeys[i]];\n    }\n}\nmodule.exports = function serialize(obj, options) {\n    options || (options = {});\n    // Backwards-compatibility for `space` as the second argument.\n    if (typeof options === 'number' || typeof options === 'string') {\n        options = { space: options };\n    }\n    var functions = [];\n    var regexps = [];\n    var dates = [];\n    var maps = [];\n    var sets = [];\n    var arrays = [];\n    var undefs = [];\n    var infinities = [];\n    var bigInts = [];\n    // Returns placeholders for functions and regexps (identified by index)\n    // which are later replaced by their string representation.\n    function replacer(key, value) {\n        // For nested function\n        if (options.ignoreFunction) {\n            deleteFunctions(value);\n        }\n        if (!value && value !== undefined) {\n            return value;\n        }\n        // If the value is an object w/ a toJSON method, toJSON is called before\n        // the replacer runs, so we use this[key] to get the non-toJSONed value.\n        var origValue = this[key];\n        var type = typeof origValue;\n        if (type === 'object') {\n            if (origValue instanceof RegExp) {\n                return '@__R-' + UID + '-' + (regexps.push(origValue) - 1) + '__@';\n            }\n            if (origValue instanceof Date) {\n                return '@__D-' + UID + '-' + (dates.push(origValue) - 1) + '__@';\n            }\n            if (origValue instanceof Map) {\n                return '@__M-' + UID + '-' + (maps.push(origValue) - 1) + '__@';\n            }\n            if (origValue instanceof Set) {\n                return '@__S-' + UID + '-' + (sets.push(origValue) - 1) + '__@';\n            }\n            if (origValue instanceof Array) {\n                var isSparse = origValue.filter(function () { return true; }).length !== origValue.length;\n                if (isSparse) {\n                    return '@__A-' + UID + '-' + (arrays.push(origValue) - 1) + '__@';\n                }\n            }\n        }\n        if (type === 'function') {\n            return '@__F-' + UID + '-' + (functions.push(origValue) - 1) + '__@';\n        }\n        if (type === 'undefined') {\n            return '@__U-' + UID + '-' + (undefs.push(origValue) - 1) + '__@';\n        }\n        if (type === 'number' && !isNaN(origValue) && !isFinite(origValue)) {\n            return '@__I-' + UID + '-' + (infinities.push(origValue) - 1) + '__@';\n        }\n        if (type === 'bigint') {\n            return '@__B-' + UID + '-' + (bigInts.push(origValue) - 1) + '__@';\n        }\n        return value;\n    }\n    function serializeFunc(fn) {\n        var serializedFn = fn.toString();\n        if (IS_NATIVE_CODE_REGEXP.test(serializedFn)) {\n            throw new TypeError('Serializing native function: ' + fn.name);\n        }\n        // pure functions, example: {key: function() {}}\n        if (IS_PURE_FUNCTION.test(serializedFn)) {\n            return serializedFn;\n        }\n        // arrow functions, example: arg1 => arg1+5\n        if (IS_ARROW_FUNCTION.test(serializedFn)) {\n            return serializedFn;\n        }\n        var argsStartsAt = serializedFn.indexOf('(');\n        var def = serializedFn.substr(0, argsStartsAt)\n            .trim()\n            .split(' ')\n            .filter(function (val) { return val.length > 0; });\n        var nonReservedSymbols = def.filter(function (val) {\n            return RESERVED_SYMBOLS.indexOf(val) === -1;\n        });\n        // enhanced literal objects, example: {key() {}}\n        if (nonReservedSymbols.length > 0) {\n            return (def.indexOf('async') > -1 ? 'async ' : '') + 'function'\n                + (def.join('').indexOf('*') > -1 ? '*' : '')\n                + serializedFn.substr(argsStartsAt);\n        }\n        // arrow functions\n        return serializedFn;\n    }\n    // Check if the parameter is function\n    if (options.ignoreFunction && typeof obj === \"function\") {\n        obj = undefined;\n    }\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (obj === undefined) {\n        return String(obj);\n    }\n    var str;\n    // Creates a JSON string representation of the value.\n    // NOTE: Node 0.12 goes into slow mode with extra JSON.stringify() args.\n    if (options.isJSON && !options.space) {\n        str = JSON.stringify(obj);\n    }\n    else {\n        str = JSON.stringify(obj, options.isJSON ? null : replacer, options.space);\n    }\n    // Protects against `JSON.stringify()` returning `undefined`, by serializing\n    // to the literal string: \"undefined\".\n    if (typeof str !== 'string') {\n        return String(str);\n    }\n    // Replace unsafe HTML and invalid JavaScript line terminator chars with\n    // their safe Unicode char counterpart. This _must_ happen before the\n    // regexps and functions are serialized and added back to the string.\n    if (options.unsafe !== true) {\n        str = str.replace(UNSAFE_CHARS_REGEXP, escapeUnsafeChars);\n    }\n    if (functions.length === 0 && regexps.length === 0 && dates.length === 0 && maps.length === 0 && sets.length === 0 && arrays.length === 0 && undefs.length === 0 && infinities.length === 0 && bigInts.length === 0) {\n        return str;\n    }\n    // Replaces all occurrences of function, regexp, date, map and set placeholders in the\n    // JSON string with their string representations. If the original value can\n    // not be found, then `undefined` is used.\n    return str.replace(PLACE_HOLDER_REGEXP, function (match, backSlash, type, valueIndex) {\n        // The placeholder may not be preceded by a backslash. This is to prevent\n        // replacing things like `\"a\\\"@__R-<UID>-0__@\"` and thus outputting\n        // invalid JS.\n        if (backSlash) {\n            return match;\n        }\n        if (type === 'D') {\n            return \"new Date(\\\"\" + dates[valueIndex].toISOString() + \"\\\")\";\n        }\n        if (type === 'R') {\n            return \"new RegExp(\" + serialize(regexps[valueIndex].source) + \", \\\"\" + regexps[valueIndex].flags + \"\\\")\";\n        }\n        if (type === 'M') {\n            return \"new Map(\" + serialize(Array.from(maps[valueIndex].entries()), options) + \")\";\n        }\n        if (type === 'S') {\n            return \"new Set(\" + serialize(Array.from(sets[valueIndex].values()), options) + \")\";\n        }\n        if (type === 'A') {\n            return \"Array.prototype.slice.call(\" + serialize(Object.assign({ length: arrays[valueIndex].length }, arrays[valueIndex]), options) + \")\";\n        }\n        if (type === 'U') {\n            return 'undefined';\n        }\n        if (type === 'I') {\n            return infinities[valueIndex];\n        }\n        if (type === 'B') {\n            return \"BigInt(\\\"\" + bigInts[valueIndex] + \"\\\")\";\n        }\n        var fn = functions[valueIndex];\n        return serializeFunc(fn);\n    });\n};\n"]}]}