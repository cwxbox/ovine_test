{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\app\\auto.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\app\\auto.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qKgogKiDnroDljJYgT3ZpbmUg5bqU55So77yM6Ieq5Yqo5a+85YWl5paH5Lu2562JCiAqLwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nOwppbXBvcnQgeyBBcHAgfSBmcm9tICIuLi9jb21wb25lbnRzL2FwcCI7CmltcG9ydCB7IGFwcFJvb3RJZCwgc3RvcmFnZSB9IGZyb20gIi4uL2NvbnN0YW50cyI7CmltcG9ydCB7IGluaXRBcHBUaGVtZSB9IGZyb20gIi4uL3N0eWxlZC90aGVtZSI7CmltcG9ydCB7IGluaXRMb2dnZXIgfSBmcm9tICIuLi91dGlscy9sb2dnZXIiOwppbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tICIuLi91dGlscy9zdG9yZSI7CmltcG9ydCBhcHBDb25maWcgZnJvbSAnfi9hcHAuYXV0byc7Ci8qKgogKiDliJ3lp4vljJYgb3ZpbmUg5YWo5bGA5a+56LGhCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGluaXRPdmluZUdsb2JhbCgpIHsKICB3aW5kb3cub3ZpbmUgPSB7CiAgICBhZGRQYWdlU2NoZW1hSnM6IChwYWdlQWxpYXMsIHNjaGVtYSkgPT4gewogICAgICB2YXIgYXBwID0gZ2V0R2xvYmFsKHN0b3JhZ2UuYXBwSW5zdGFuY2UpOwogICAgICBhcHAuYXN5bmNQYWdlLnNjaGVtYSA9IGFwcC5hc3luY1BhZ2Uuc2NoZW1hIHx8IHt9OwogICAgICBhcHAuYXN5bmNQYWdlLnNjaGVtYVtwYWdlQWxpYXNdID0gc2NoZW1hOwogICAgfQogIH07Cn0KCmZ1bmN0aW9uIGluaXRBcHAoKSB7CiAgaW5pdE92aW5lR2xvYmFsKCk7CiAgdmFyIGFwcCA9IGdldEdsb2JhbChzdG9yYWdlLmFwcEluc3RhbmNlKTsgLy8g6L2s5Li65byC5q2l5Yib5bu6YXBw5a6e5L6L77yM5pa55L6/6LCD55SoaG9vawoKICBhcHAuY3JlYXRlKGFwcENvbmZpZykudGhlbihmdW5jdGlvbiAoKSB7CiAgICBpbml0TG9nZ2VyKGFwcC5lbnYubG9nZ2VyKTsKICAgIGluaXRBcHBUaGVtZSgpOwogICAgdmFyICRtb3VudGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXBwUm9vdElkKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHJlbmRlciggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCBudWxsKSwgJG1vdW50ZWQpOwogIH0pOwp9Cgppbml0QXBwKCk7CjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGluaXRPdmluZUdsb2JhbCwgImluaXRPdmluZUdsb2JhbCIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXGFwcFxcYXV0by5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGluaXRBcHAsICJpbml0QXBwIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcYXBwXFxhdXRvLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/app/auto.js"],"names":["React","render","App","appRootId","storage","initAppTheme","initLogger","getGlobal","appConfig","initOvineGlobal","window","ovine","addPageSchemaJs","pageAlias","schema","app","appInstance","asyncPage","initApp","create","then","env","logger","$mounted","document","getElementById","createElement"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,GAAT,QAAoB,mBAApB;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,cAAnC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,GAA2B;AAC9BC,EAAAA,MAAM,CAACC,KAAP,GAAe;AACXC,IAAAA,eAAe,EAAE,CAACC,SAAD,EAAYC,MAAZ,KAAuB;AACpC,UAAMC,GAAG,GAAGR,SAAS,CAACH,OAAO,CAACY,WAAT,CAArB;AACAD,MAAAA,GAAG,CAACE,SAAJ,CAAcH,MAAd,GAAuBC,GAAG,CAACE,SAAJ,CAAcH,MAAd,IAAwB,EAA/C;AACAC,MAAAA,GAAG,CAACE,SAAJ,CAAcH,MAAd,CAAqBD,SAArB,IAAkCC,MAAlC;AACH;AALU,GAAf;AAOH;;AACD,SAASI,OAAT,GAAmB;AACfT,EAAAA,eAAe;AACf,MAAMM,GAAG,GAAGR,SAAS,CAACH,OAAO,CAACY,WAAT,CAArB,CAFe,CAGf;;AACAD,EAAAA,GAAG,CAACI,MAAJ,CAAWX,SAAX,EAAsBY,IAAtB,CAA2B,YAAY;AACnCd,IAAAA,UAAU,CAACS,GAAG,CAACM,GAAJ,CAAQC,MAAT,CAAV;AACAjB,IAAAA,YAAY;AACZ,QAAMkB,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwBtB,SAAxB,KAAsCqB,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAvD;AACAzB,IAAAA,MAAM,eAACD,KAAK,CAAC0B,aAAN,CAAoBxB,GAApB,EAAyB,IAAzB,CAAD,EAAiCqB,QAAjC,CAAN;AACH,GALD;AAMH;;AACDL,OAAO;;;;;;;;;;0BApBST,e;0BASPS,O","sourcesContent":["/**\n * 简化 Ovine 应用，自动导入文件等\n */\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { App } from \"../components/app\";\nimport { appRootId, storage } from \"../constants\";\nimport { initAppTheme } from \"../styled/theme\";\nimport { initLogger } from \"../utils/logger\";\nimport { getGlobal } from \"../utils/store\";\nimport appConfig from '~/app.auto';\n/**\n * 初始化 ovine 全局对象\n */\nexport function initOvineGlobal() {\n    window.ovine = {\n        addPageSchemaJs: (pageAlias, schema) => {\n            const app = getGlobal(storage.appInstance);\n            app.asyncPage.schema = app.asyncPage.schema || {};\n            app.asyncPage.schema[pageAlias] = schema;\n        },\n    };\n}\nfunction initApp() {\n    initOvineGlobal();\n    const app = getGlobal(storage.appInstance);\n    // 转为异步创建app实例，方便调用hook\n    app.create(appConfig).then(function () {\n        initLogger(app.env.logger);\n        initAppTheme();\n        const $mounted = document.getElementById(appRootId) || document.createElement('div');\n        render(React.createElement(App, null), $mounted);\n    });\n}\ninitApp();\n"]}]}