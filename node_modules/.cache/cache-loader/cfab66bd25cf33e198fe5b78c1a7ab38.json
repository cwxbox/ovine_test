{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--6-2!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\ts-loader\\index.js??ref--6-3!C:\\Users\\cwx\\Desktop\\editor-demo\\src\\pages\\result\\index.tsx","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\src\\pages\\result\\index.tsx","mtime":1618319864446},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1616401112756},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\ts-loader\\index.js","mtime":1617798315963}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqDQogKiDoh6rlrprkuYnpobXpnaINCiAqIC0tLS0NCiAqIOS9k+mqjOWcqOe6v+e8lui+kemhtemdog0KICovCnZhciBfX21ha2VUZW1wbGF0ZU9iamVjdCA9IHRoaXMgJiYgdGhpcy5fX21ha2VUZW1wbGF0ZU9iamVjdCB8fCBmdW5jdGlvbiAoY29va2VkLCByYXcpIHsKICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCAicmF3IiwgewogICAgICB2YWx1ZTogcmF3CiAgICB9KTsKICB9IGVsc2UgewogICAgY29va2VkLnJhdyA9IHJhdzsKICB9CgogIHJldHVybiBjb29rZWQ7Cn07CgppbXBvcnQgeyB0b2FzdCwgQnV0dG9uIH0gZnJvbSAnYW1pcyc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnOwppbXBvcnQgeyBhcHAgfSBmcm9tICdAY29yZS9hcHAnOwppbXBvcnQgeyBBbWlzIH0gZnJvbSAnQGNvcmUvY29tcG9uZW50cy9hbWlzL3NjaGVtYSc7CmltcG9ydCB7IHVzZUltbWVyIH0gZnJvbSAnQGNvcmUvdXRpbHMvaG9va3MnOwppbXBvcnQgeyBnZXRTdG9yZSwgc2V0U3RvcmUgfSBmcm9tICdAY29yZS91dGlscy9zdG9yZSc7CmltcG9ydCB7IGRlc2VyaWFsaXplLCBzZXJpYWxpemUgfSBmcm9tICdAY29yZS91dGlscy90b29sJzsKdmFyIHN0b3JlS2V5ID0gJ3NjaGVtYVN0b3JlJzsKdmFyIGRlZmF1bHRTY2hlbWEgPSB7CiAgdHlwZTogJ3BhZ2UnLAogIHRpdGxlOiAn54K55Ye7ICLot6/nlLHmoIfnrb4iIOS4iueahOe8lui+keWbvuagh++8jOWPr+S9k+mqjOWcqOe6v+e8lui+kemhtemdouaViOaenO+9nicsCiAgYm9keTogewogICAgdHlwZTogJ2FsZXJ0JywKICAgIGJvZHk6ICflj6rmnInkv53lrZjlkI7miY3og73nnIvliLDpobXpnaLmlYjmnpzjgILnm67liY3lj6rog73kvZPpqozvvIznrYnlrozmiJDmiYDmnInlip/og73lkI7vvIzlsIblj6/nlKjkuo7nlJ/kuqfnjq/looPjgIInLAogICAgbGV2ZWw6ICdzdWNjZXNzJwogIH0KfTsKCnZhciBpbml0U3RhdGUgPSBmdW5jdGlvbiBpbml0U3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIHNjaGVtYTogZGVzZXJpYWxpemUoZ2V0U3RvcmUoc3RvcmVLZXkpKSB8fCBkZWZhdWx0U2NoZW1hCiAgfTsKfTsKCmV4cG9ydCB2YXIgU3R5bGVkUmVzdWx0ID0gc3R5bGVkLmRpdi53aXRoQ29uZmlnKHsKICBkaXNwbGF5TmFtZTogInJlc3VsdF9fU3R5bGVkUmVzdWx0IiwKICBjb21wb25lbnRJZDogImFrM2djOC0wIgp9KSh0ZW1wbGF0ZU9iamVjdF8xIHx8ICh0ZW1wbGF0ZU9iamVjdF8xID0gX19tYWtlVGVtcGxhdGVPYmplY3QoWyJcbiAgLmFjdGlvbi1lZGl0IHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiA0MHB4O1xuICAgIHJpZ2h0OiA0MHB4O1xuICAgIGJ1dHRvbiB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIG1pbi13aWR0aDogdW5zZXQ7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG4gICAgLmljb24tZWRpdCB7XG4gICAgICB3aWR0aDogMS41ZW07XG4gICAgICBoZWlnaHQ6IDEuNWVtO1xuICAgICAgdG9wOiAwLjEyNWVtO1xuICAgICAgbGVmdDogMC4wNWVtO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgZmlsbDogY3VycmVudENvbG9yO1xuICAgIH1cbiAgfVxuIl0sIFsiXG4gIC5hY3Rpb24tZWRpdCB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGJvdHRvbTogNDBweDtcbiAgICByaWdodDogNDBweDtcbiAgICBidXR0b24ge1xuICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBtaW4td2lkdGg6IHVuc2V0O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuICAgIC5pY29uLWVkaXQge1xuICAgICAgd2lkdGg6IDEuNWVtO1xuICAgICAgaGVpZ2h0OiAxLjVlbTtcbiAgICAgIHRvcDogMC4xMjVlbTtcbiAgICAgIGxlZnQ6IDAuMDVlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGZpbGw6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIH1cbiJdKSkpOwpleHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkgewogIHZhciBzdGF0ZSA9IHVzZUltbWVyKGluaXRTdGF0ZSlbMF07CiAgdmFyIHNjaGVtYSA9IHN0YXRlLnNjaGVtYTsKCiAgdmFyIGdvRWRpdG9yUGFnZSA9IGZ1bmN0aW9uIGdvRWRpdG9yUGFnZSgpIHsKICAgIGlmIChhcHAudGhlbWUuZ2V0TmFtZSgpID09PSAnZGFyaycpIHsKICAgICAgdG9hc3QuaW5mbygn57yW6L6R5Zmo5a+5IOKAnOaal+m7keS4u+mimOKAnSDmmoLkuI3mlK/mjIHvvIzor7fliIfmjaLkuLrlhbbku5bkuLvpopjlho3lsJ3or5XnvJbovpHvvIEnKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHNldFN0b3JlKHN0b3JlS2V5LCBzZXJpYWxpemUoc2NoZW1hKSk7CiAgICBhcHAucm91dGVySGlzdG9yeS5wdXNoKCcvZWRpdG9yJyk7CiAgfTsKCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFJlc3VsdCwgbnVsbCwgc2NoZW1hICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFtaXMsIHsKICAgIHNjaGVtYTogc2NoZW1hCiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJhY3Rpb24tZWRpdCIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgIGljb25Pbmx5OiB0cnVlLAogICAgdGhlbWU6IGFwcC50aGVtZS5nZXROYW1lKCksCiAgICBsZXZlbDogImRhbmdlciIsCiAgICBwbGFjZW1lbnQ6ICJ0b3AiLAogICAgdG9vbHRpcDogIlx1N0YxNlx1OEY5MXNjaGVtYSIsCiAgICBvbkNsaWNrOiBnb0VkaXRvclBhZ2UKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgIGNsYXNzTmFtZTogImZhIGZhLWVkaXQiCiAgfSkpKSk7Cn0pOwp2YXIgdGVtcGxhdGVPYmplY3RfMTs="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/src/pages/result/index.tsx"],"names":["__makeTemplateObject","cooked","raw","Object","defineProperty","value","toast","Button","React","styled","app","Amis","useImmer","getStore","setStore","deserialize","serialize","storeKey","defaultSchema","type","title","body","level","initState","schema","StyledResult","div","templateObject_1","state","goEditorPage","theme","getName","info","routerHistory","push","createElement","className","iconOnly","placement","tooltip","onClick"],"mappings":"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","sourcesContent":["/**\r\n * 自定义页面\r\n * ----\r\n * 体验在线编辑页面\r\n */\r\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nimport { toast, Button } from 'amis';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { app } from '@core/app';\r\nimport { Amis } from '@core/components/amis/schema';\r\nimport { useImmer } from '@core/utils/hooks';\r\nimport { getStore, setStore } from '@core/utils/store';\r\nimport { deserialize, serialize } from '@core/utils/tool';\r\nvar storeKey = 'schemaStore';\r\nvar defaultSchema = {\r\n    type: 'page',\r\n    title: '点击 \"路由标签\" 上的编辑图标，可体验在线编辑页面效果～',\r\n    body: {\r\n        type: 'alert',\r\n        body: '只有保存后才能看到页面效果。目前只能体验，等完成所有功能后，将可用于生产环境。',\r\n        level: 'success',\r\n    },\r\n};\r\nvar initState = function () {\r\n    return {\r\n        schema: deserialize(getStore(storeKey)) || defaultSchema,\r\n    };\r\n};\r\nexport var StyledResult = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  .action-edit {\\n    position: fixed;\\n    bottom: 40px;\\n    right: 40px;\\n    button {\\n      width: 40px;\\n      height: 40px;\\n      min-width: unset;\\n      border-radius: 100%;\\n      padding: 0;\\n    }\\n    .icon-edit {\\n      width: 1.5em;\\n      height: 1.5em;\\n      top: 0.125em;\\n      left: 0.05em;\\n      position: relative;\\n      fill: currentColor;\\n    }\\n  }\\n\"], [\"\\n  .action-edit {\\n    position: fixed;\\n    bottom: 40px;\\n    right: 40px;\\n    button {\\n      width: 40px;\\n      height: 40px;\\n      min-width: unset;\\n      border-radius: 100%;\\n      padding: 0;\\n    }\\n    .icon-edit {\\n      width: 1.5em;\\n      height: 1.5em;\\n      top: 0.125em;\\n      left: 0.05em;\\n      position: relative;\\n      fill: currentColor;\\n    }\\n  }\\n\"])));\r\nexport default (function () {\r\n    var state = useImmer(initState)[0];\r\n    var schema = state.schema;\r\n    var goEditorPage = function () {\r\n        if (app.theme.getName() === 'dark') {\r\n            toast.info('编辑器对 “暗黑主题” 暂不支持，请切换为其他主题再尝试编辑！');\r\n            return;\r\n        }\r\n        setStore(storeKey, serialize(schema));\r\n        app.routerHistory.push('/editor');\r\n    };\r\n    return (React.createElement(StyledResult, null,\r\n        schema && React.createElement(Amis, { schema: schema }),\r\n        React.createElement(\"div\", { className: \"action-edit\" },\r\n            React.createElement(Button, { iconOnly: true, theme: app.theme.getName(), level: \"danger\", placement: \"top\", tooltip: \"\\u7F16\\u8F91schema\", onClick: goEditorPage },\r\n                React.createElement(\"i\", { className: \"fa fa-edit\" })))));\r\n});\r\nvar templateObject_1;\r\n"]}]}