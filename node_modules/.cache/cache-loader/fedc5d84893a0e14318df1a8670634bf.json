{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\route_tabs\\index.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\route_tabs\\index.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qKgogKiDot6/nlLHliIfmjaLlmagg57uE5Lu2CiAqCiAqIFRPRE86CiAqIDEuIOa3u+WKoCBJQ09OIOaUr+aMge+8jHNob3dJY29uLCBSb3V0ZUljb24g6K+35rGC5LitIExvYWRpbmdJY29uIOS5i+exu+eahAogKiAyLiDlop7liqAg5Y+v57yW6L6RL+WbuuWumiDmqKHlvI8KICogMy4g5bCG57uE5Lu26L2s5Li6IOe6ryByZWFjdCDnu4Tku7bvvIzlrrnmmJPmjqfliLYKICovCmltcG9ydCB7IG9wZW5Db250ZXh0TWVudXMgfSBmcm9tICdhbWlzJzsKaW1wb3J0IHsgZmluZFRyZWUgfSBmcm9tICdhbWlzL2xpYi91dGlscy9oZWxwZXInOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ2xvZGFzaCc7CmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgbWF0Y2hQYXRoLCB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCB7IGFwcCB9IGZyb20gIi4uLy4uL2FwcCI7CmltcG9ydCB7IG1lc3NhZ2UsIHN0b3JhZ2UgYXMgc3RvcmVLZXlzLCByb290Um91dGUgYXMgZGVmUm91dGVSb3V0ZSB9IGZyb20gIi4uLy4uL2NvbnN0YW50cyI7CmltcG9ydCB7IGdldEN1cnJSb3V0ZVBhdGggfSBmcm9tICIuLi8uLi9yb3V0ZXMvZXhwb3J0cyI7CmltcG9ydCB7IHN1YnNjcmliZSwgdW5zdWJzY3JpYmUgfSBmcm9tICIuLi8uLi91dGlscy9tZXNzYWdlIjsKaW1wb3J0IHsgc2V0R2xvYmFsIH0gZnJvbSAiLi4vLi4vdXRpbHMvc3RvcmUiOwppbXBvcnQgKiBhcyBjYWNoZSBmcm9tICIuL2NhY2hlIjsKaW1wb3J0IENocm9tZVRhYnMgZnJvbSAiLi9jaHJvbWVfdGFicyI7CmltcG9ydCB7IFN0eWxlZFJvdXRlVGFicyB9IGZyb20gIi4vc3R5bGVkIjsKCnZhciBfZGVmYXVsdCA9IHdpdGhSb3V0ZXIoX19zaWduYXR1cmVfXyhwcm9wcyA9PiB7CiAgdmFyIHsKICAgIHJvdXRlczogcm91dGVzUHJvcCwKICAgIHRoZW1lTnMsCiAgICBoaXN0b3J5LAogICAgbWF4Q291bnQgPSAyMCwKICAgIHN0b3JhZ2UsCiAgICByb290Um91dGU6IHJvb3RSb3V0ZVByb3AgPSBkZWZSb3V0ZVJvdXRlLAogICAgb25Db250ZXh0TWVudQogIH0gPSBwcm9wczsKICB2YXIgewogICAgbG9jYXRpb24KICB9ID0gaGlzdG9yeTsKICB2YXIgJHN0b3JlUmVmID0gdXNlUmVmKHsKICAgIHJvb3RSb3V0ZTogcm9vdFJvdXRlUHJvcCwKICAgIHJvdXRlUXVlcnk6IHt9LAogICAgcm91dGVzOiByb3V0ZXNQcm9wLAogICAgJHRhYnNEb206IG51bGwsCiAgICAkdGFiczogdW5kZWZpbmVkLAogICAgdGFiczoge30KICB9KTsKICAkc3RvcmVSZWYuY3VycmVudC5yb290Um91dGUgPSByb290Um91dGVQcm9wOwogICRzdG9yZVJlZi5jdXJyZW50LnJvdXRlcyA9IHJvdXRlc1Byb3A7CiAgdmFyIG5vdEZpbmRSb3V0ZSA9IHsKICAgIGxhYmVsOiAn6aG16Z2i5LiN5a2Y5ZyoJywKICAgIHBhdGhuYW1lOiBhcHAuY29uc3RhbnRzLm5vdEZvdW5kLnJvdXRlCiAgfTsgLy8gVE9ETzog5LyY5YyW6Lez6L2s6YC76L6R77yM6Lez6L2s6Lev55SxCgogIHZhciBjaGFuZ2VQYXRoID0gZGVib3VuY2UocGF0aCA9PiB7CiAgICBoaXN0b3J5LnJlcGxhY2UocGF0aCk7CiAgfSwgMTAwKTsKCiAgdmFyIHJvdXRlUXVlcnlDdHJsID0gZnVuY3Rpb24gcm91dGVRdWVyeUN0cmwocGF0aCkgewogICAgdmFyIHZhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7CgogICAgaWYgKHBhdGggPT09ICcnKSB7CiAgICAgICRzdG9yZVJlZi5jdXJyZW50LnJvdXRlUXVlcnkgPSB7fTsKICAgICAgc2V0R2xvYmFsKHN0b3JlS2V5cy5yb3V0ZVF1ZXJ5LCB7fSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAkc3RvcmVSZWYuY3VycmVudC5yb3V0ZVF1ZXJ5W3BhdGhdID0gdmFsOwogICAgc2V0R2xvYmFsKHN0b3JlS2V5cy5yb3V0ZVF1ZXJ5LCAkc3RvcmVSZWYuY3VycmVudC5yb3V0ZVF1ZXJ5KTsKICB9OyAvLyDojrflj5bot6/lvoTkv6Hmga8KCgogIHZhciBnZXRSb3V0ZUluZm8gPSBmdW5jdGlvbiBnZXRSb3V0ZUluZm8oKSB7CiAgICB2YXIgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZ2V0Q3VyclJvdXRlUGF0aCgpOwogICAgdmFyIHJvb3RCYWNrSXRlbTsKICAgIHZhciBtYXRjaGVkSXRlbTsKICAgIHZhciB7CiAgICAgIHJvb3RSb3V0ZSwKICAgICAgcm91dGVzCiAgICB9ID0gJHN0b3JlUmVmLmN1cnJlbnQ7CiAgICBmaW5kVHJlZShyb3V0ZXMsIChpdGVtLCBfLCBfXywgaXRlbXMpID0+IHsKICAgICAgdmFyIHsKICAgICAgICBsaW1pdExhYmVsLAogICAgICAgIC8vIHJvdXRlVGFiSW5pdFF1ZXJ5OiBpbml0UXVlcnksCiAgICAgICAgZXhhY3QsCiAgICAgICAgc3RyaWN0LAogICAgICAgIHBhdGg6IHJvdXRlUGF0aCA9ICcnLAogICAgICAgIG5vZGVQYXRoID0gJycKICAgICAgfSA9IGl0ZW07CiAgICAgIHZhciBwYXRobmFtZSA9IHJvdXRlUGF0aCB8fCBub2RlUGF0aDsKICAgICAgdmFyIGxhYmVsID0gaXRlbS5sYWJlbCB8fCBsaW1pdExhYmVsIHx8IG5vdEZpbmRSb3V0ZS5sYWJlbDsKCiAgICAgIGlmICghcGF0aCB8fCBwYXRoID09PSByb290Um91dGUpIHsKICAgICAgICB2YXIgcm9vdEl0ZW0gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pLCB7CiAgICAgICAgICBsYWJlbCwKICAgICAgICAgIHBhdGhuYW1lOiByb290Um91dGUsCiAgICAgICAgICBpc1Jvb3Q6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHJvdXRlUGF0aCA9PT0gcm9vdFJvdXRlKSB7CiAgICAgICAgICBtYXRjaGVkSXRlbSA9IHJvb3RJdGVtOyAvLyDorr7nva7nmoQgcm9vdFBhdGgKICAgICAgICB9IGVsc2UgaWYgKG5vZGVQYXRoID09PSByb290Um91dGUpIHsKICAgICAgICAgIHJvb3RCYWNrSXRlbSA9IHJvb3RJdGVtOyAvLyDpu5jorqQgcm9vdAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgbWF0Y2ggPSBtYXRjaFBhdGgocGF0aCwgewogICAgICAgIHBhdGg6IHBhdGhuYW1lLAogICAgICAgIGV4YWN0LAogICAgICAgIHN0cmljdAogICAgICB9KTsKICAgICAgdmFyIGlzTWF0Y2ggPSAobWF0Y2ggPT09IG51bGwgfHwgbWF0Y2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoLnVybCkgPT09IHBhdGg7CgogICAgICBpZiAoaXNNYXRjaCkgewogICAgICAgIHZhciBzaGFyZWQgPSAhIWZpbmRUcmVlKGl0ZW1zLCBpID0+IGkucm91dGVUYWJTaGFyZWQpOwogICAgICAgIG1hdGNoZWRJdGVtID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpdGVtKSwgewogICAgICAgICAgbGFiZWwsCiAgICAgICAgICBwYXRobmFtZTogcGF0aCwKICAgICAgICAgIHNoYXJlZAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaXNNYXRjaDsKICAgIH0pOwogICAgdmFyIGN1cnIgPSBtYXRjaGVkSXRlbSB8fCByb290QmFja0l0ZW0gfHwgbm90RmluZFJvdXRlOwogICAgcmV0dXJuIGN1cnI7CiAgfTsgLy8g5riF56m65omA5pyJ5pe2IOm7mOiupOi3s+WIsCDpppbpobUKCgogIHZhciBvbkNsZWFyQWxsID0gZnVuY3Rpb24gb25DbGVhckFsbCh0YWJEb20pIHsKICAgIHZhciByZWZyZXNoUm9vdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgIHZhciB7CiAgICAgIHRhYnMKICAgIH0gPSAkc3RvcmVSZWYuY3VycmVudDsKICAgIHJvdXRlUXVlcnlDdHJsKCcnKTsgLy8g6Ziy5q2i6aaW5qyh6L+b5YWl6aG16Z2iIOebtOaOpeWIt+aWsOS4pOasoQoKICAgIGlmIChyZWZyZXNoUm9vdCAhPT0gZmFsc2UgJiYgZ2V0Q3VyclJvdXRlUGF0aCgpICE9PSAkc3RvcmVSZWYuY3VycmVudC5yb290Um91dGUpIHsKICAgICAgY2hhbmdlUGF0aCgkc3RvcmVSZWYuY3VycmVudC5yb290Um91dGUpOwogICAgfQoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBpZiAodGFiRG9tKSB7CiAgICAgICAgdGFicy5yZW1vdmVUYWIodGFiRG9tLCB7CiAgICAgICAgICBhdXRvQWN0aXZlOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRhYnMudGFiRWxzLmZvckVhY2godGFiRWwgPT4gewogICAgICAgICAgaWYgKHRhYkVsLmRhdGFzZXQucm9vdCAhPT0gJHN0b3JlUmVmLmN1cnJlbnQucm9vdFJvdXRlKSB7CiAgICAgICAgICAgIHRhYnMucmVtb3ZlVGFiKHRhYkVsLCB7CiAgICAgICAgICAgICAgYXV0b0FjdGl2ZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNhY2hlLmNsZWFyQ2FjaGVkVGFicygpOwogICAgfSwgMTAwKTsKICB9OwoKICB2YXIgb25SZW1vdmUgPSB0YWJFbCA9PiB7CiAgICB2YXIgewogICAgICB0YWJzCiAgICB9ID0gJHN0b3JlUmVmLmN1cnJlbnQ7CgogICAgaWYgKHRhYnMudGFiRWxzLmxlbmd0aCAhPT0gMSkgewogICAgICByb3V0ZVF1ZXJ5Q3RybCh0YWJFbC5kYXRhc2V0LnBhdGgsICcnKTsKICAgICAgdGFicy5yZW1vdmVUYWIodGFiRWwpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCF0YWJFbC5kYXRhc2V0LnJvb3QpIHsKICAgICAgb25DbGVhckFsbCh0YWJFbCk7CiAgICB9CiAgfTsKCiAgdmFyIG9uSXRlbU1lbnVzID0gZSA9PiB7CiAgICBpZiAoZS5idXR0b24gIT09IDIpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7CiAgICB2YXIgewogICAgICB0YWJzCiAgICB9ID0gJHN0b3JlUmVmLmN1cnJlbnQ7CiAgICB2YXIgYWxsVGFicyA9IHRhYnMudGFiRWxzOwogICAgdmFyIG9ubHlPbmUgPSBhbGxUYWJzLmxlbmd0aCA9PT0gMTsKICAgIHZhciBpc0xhc3RPbmUgPSBvbmx5T25lID8gdHJ1ZSA6IGFsbFRhYnNbYWxsVGFicy5sZW5ndGggLSAxXSA9PT0gdGFyZ2V0OwogICAgdmFyIGFjdGlvbnMgPSBbdGFicy5hY3RpdmVUYWJFbCA9PT0gdGFyZ2V0ICYmIHsKICAgICAgbGFiZWw6ICfliLfmlrDpobXpnaInLAogICAgICBvblNlbGVjdDogKCkgPT4gewogICAgICAgIC8vIFRPRE86IOWIt+aWsOmhtemdoiDkvJrkuKLlpLEg5p+l6K+i5Y+C5pWwCiAgICAgICAgY2hhbmdlUGF0aCh0YXJnZXQuZGF0YXNldC5wYXRoIHx8ICRzdG9yZVJlZi5jdXJyZW50LnJvb3RSb3V0ZSk7CiAgICAgIH0KICAgIH0sICFvbmx5T25lICYmIHsKICAgICAgbGFiZWw6ICflhbPpl63lhbbku5YnLAogICAgICBvblNlbGVjdDogKCkgPT4gewogICAgICAgIGFsbFRhYnMuZm9yRWFjaCh0YWJFbCA9PiB7CiAgICAgICAgICBpZiAodGFiRWwgIT09IHRhcmdldCkgewogICAgICAgICAgICB0YWJzLnJlbW92ZVRhYih0YWJFbCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgY2FjaGUuY2FjaGVUYWJzKHRhYnMudGFiRWxzKTsKICAgICAgfQogICAgfSwgIW9ubHlPbmUgJiYgIWlzTGFzdE9uZSAmJiB7CiAgICAgIGxhYmVsOiAn5YWz6Zet5Y+z6L65JywKICAgICAgb25TZWxlY3Q6ICgpID0+IHsKICAgICAgICB2YXIgaXNBZnRlciA9IGZhbHNlOwogICAgICAgIGFsbFRhYnMuZm9yRWFjaCh0YWJFbCA9PiB7CiAgICAgICAgICBpZiAodGFiRWwgPT09IHRhcmdldCkgewogICAgICAgICAgICBpc0FmdGVyID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXNBZnRlcikgewogICAgICAgICAgICB0YWJzLnJlbW92ZVRhYih0YWJFbCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgY2FjaGUuY2FjaGVUYWJzKHRhYnMudGFiRWxzKTsKICAgICAgfQogICAgfSwgIW9ubHlPbmUgJiYgewogICAgICBsYWJlbDogJ+WFs+mXreaJgOaciScsCiAgICAgIG9uU2VsZWN0OiBvbkNsZWFyQWxsCiAgICB9XS5maWx0ZXIoQm9vbGVhbik7CiAgICB2YXIgcm91dGVJdGVtSW5mbyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Um91dGVJbmZvKCkpLCB7CiAgICAgIGlzUm9vdDogISF0YXJnZXQuZGF0YXNldC5yb290LAogICAgICBhY3RpdmU6IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2FjdGl2ZScpCiAgICB9KTsKICAgIHZhciBtZW51cyA9IG9uQ29udGV4dE1lbnUgPyBvbkNvbnRleHRNZW51KGFjdGlvbnMsIHJvdXRlSXRlbUluZm8pIDogYWN0aW9uczsKICAgIG9wZW5Db250ZXh0TWVudXMoewogICAgICB4OiBlLmNsaWVudFgsCiAgICAgIHk6IGUuY2xpZW50WQogICAgfSwgbWVudXMpOwogIH07CgogIHZhciBvbk1vdW50ZWQgPSAoKSA9PiB7CiAgICB2YXIgJHRhYnMgPSAkKCRzdG9yZVJlZi5jdXJyZW50LiR0YWJzRG9tKTsKICAgIHZhciB0YWJzID0gbmV3IENocm9tZVRhYnMoKTsKICAgIHZhciB0YWJzRWxlID0gJHRhYnMuZ2V0KDApOwogICAgdGFicy5pbml0KHRhYnNFbGUpOwogICAgJHN0b3JlUmVmLmN1cnJlbnQuJHRhYnMgPSAkdGFiczsKICAgICRzdG9yZVJlZi5jdXJyZW50LnRhYnMgPSB0YWJzOwogICAgJHRhYnMub24oJ2NvbnRleHRtZW51JywgKCkgPT4gZmFsc2UpLm9uKCdtb3VzZWRvd24nLCAnLmNocm9tZS10YWInLCBvbkl0ZW1NZW51cyk7CiAgICB0YWJzRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2ZVRhYkNoYW5nZScsIChfcmVmKSA9PiB7CiAgICAgIHZhciB7CiAgICAgICAgZGV0YWlsCiAgICAgIH0gPSBfcmVmOwogICAgICB2YXIgewogICAgICAgIHRhYkVsLAogICAgICAgIHRhYlByb3BlcnRpZXMgPSB7fQogICAgICB9ID0gZGV0YWlsOwogICAgICB2YXIgewogICAgICAgIGNoYW5nZVJvdXRlLAogICAgICAgIGlzQWRkCiAgICAgIH0gPSB0YWJQcm9wZXJ0aWVzOwogICAgICB2YXIgewogICAgICAgIHBhdGggPSAnJywKICAgICAgICBzdGF0ZSA9ICcnCiAgICAgIH0gPSB0YWJFbC5kYXRhc2V0OwogICAgICBjYWNoZS5jYWNoZVRhYnModGFicy50YWJFbHMpOyAvLyDmt7vliqDml7Yg77yMIOi3r+eUseebuOWQjCDvvIwg5piO56Gu5qCH5piO77yMIOaDheWGteS4i++8jOS4jemcgOimgei3s+i9rOi3r+eUsQoKICAgICAgaWYgKCFjaGFuZ2VSb3V0ZSB8fCBpc0FkZCB8fCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09IHBhdGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5pC65bim54q25oCB5L+h5oGv5LiA6LW36Lez6L2sCgoKICAgICAgY2hhbmdlUGF0aCgiIi5jb25jYXQocGF0aCkuY29uY2F0KCFzdGF0ZSA/ICcnIDogIj8iLmNvbmNhdChzdGF0ZSkpKTsKICAgIH0pOwogICAgdGFic0VsZS5hZGRFdmVudExpc3RlbmVyKCd0YWJBZGQnLCAoX3JlZjIpID0+IHsKICAgICAgdmFyIHsKICAgICAgICBkZXRhaWwKICAgICAgfSA9IF9yZWYyOwogICAgICB2YXIgewogICAgICAgIHRhYkVsLAogICAgICAgIHRhYlByb3BlcnRpZXMKICAgICAgfSA9IGRldGFpbDsKICAgICAgdmFyIHsKICAgICAgICBwYXRobmFtZSwKICAgICAgICBpc1Jvb3QKICAgICAgfSA9IHRhYlByb3BlcnRpZXM7CiAgICAgIHRhYkVsLmRhdGFzZXQucGF0aCA9IHBhdGhuYW1lIHx8ICcnOwogICAgICB0YWJFbC5kYXRhc2V0LnJvb3QgPSBpc1Jvb3QgPyBwYXRobmFtZSA6ICcnOwogICAgfSk7CiAgICB0YWJzRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ29uVGFiUmVtb3ZlJywgKF9yZWYzKSA9PiB7CiAgICAgIHZhciB7CiAgICAgICAgZGV0YWlsCiAgICAgIH0gPSBfcmVmMzsKICAgICAgb25SZW1vdmUoZGV0YWlsLnRhYkVsKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKG1lc3NhZ2UuY2xlYXJSb3V0ZVRhYnMsIChfcmVmNCkgPT4gewogICAgICB2YXIgewogICAgICAgIHJlZnJlc2hSb290CiAgICAgIH0gPSBfcmVmNDsKICAgICAgb25DbGVhckFsbCh1bmRlZmluZWQsIHJlZnJlc2hSb290KTsKICAgIH0pOwogICAgc3Vic2NyaWJlKG1lc3NhZ2Uucm91dGVUYWJDaGFuZ2UsICgpID0+IHsKICAgICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKVsxXSB8fCAnJzsKICAgICAgcm91dGVRdWVyeUN0cmwodGFicy5hY3RpdmVUYWJFbC5kYXRhc2V0LnBhdGgsIHF1ZXJ5KTsKICAgICAgdGFicy5hY3RpdmVUYWJFbC5kYXRhc2V0LnN0YXRlID0gcXVlcnk7CiAgICB9KTsKICB9OwoKICB2YXIgb25Vbm1vdW50ZWQgPSAoKSA9PiB7CiAgICB1bnN1YnNjcmliZShbbWVzc2FnZS5jbGVhclJvdXRlVGFicywgbWVzc2FnZS5yb3V0ZVRhYkNoYW5nZV0pOwogIH07CgogIHVzZUVmZmVjdCgoKSA9PiBvblVubW91bnRlZCwgW10pOwogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICB2YXIgaXNNb3VudGVkID0gISEkc3RvcmVSZWYuY3VycmVudC4kdGFiczsgLy8g5pyq5Yid5aeL5YyWIOWFiOWIneWni+WMlgoKICAgIGlmICghaXNNb3VudGVkKSB7CiAgICAgIG9uTW91bnRlZCgpOwogICAgfQoKICAgIHZhciB7CiAgICAgIHRhYnMsCiAgICAgICR0YWJzCiAgICB9ID0gJHN0b3JlUmVmLmN1cnJlbnQ7CiAgICB2YXIgY3VyciA9IGdldFJvdXRlSW5mbyhsb2NhdGlvbi5wYXRobmFtZSk7IC8vIOWIneasoeWKoOi9vSDpppbpobXml7bvvIzlm57lvZLkuIrmrKHkuIDmrKEgYWN0aXZlIHRhYgoKICAgIGlmICghaXNNb3VudGVkICYmIGN1cnIucGF0aG5hbWUgPT09ICRzdG9yZVJlZi5jdXJyZW50LnJvb3RSb3V0ZSkgewogICAgICB2YXIgX3RhYkVsID0gJHRhYnMuZmluZCgnLmNocm9tZS10YWJbZGF0YS1hY3RpdmVdJykuZ2V0KDApOwoKICAgICAgaWYgKF90YWJFbCkgewogICAgICAgIHRhYnMuc2V0Q3VycmVudFRhYihfdGFiRWwsIHsKICAgICAgICAgIGNoYW5nZVJvdXRlOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSAvLyDlt7Lnu48g5Zyo5YiX6KGo55qEIOebtOaOpSDlrprkvY3lvZPliY3ot6/nlLEKCgogICAgdmFyIHRhYkVsID0gJHRhYnMuZmluZCgiLmNocm9tZS10YWJbZGF0YS1wYXRoPVwiIi5jb25jYXQoY3Vyci5wYXRobmFtZSwgIlwiXSIpKS5nZXQoMCk7CgogICAgaWYgKHRhYkVsKSB7CiAgICAgIHRhYkVsLmRhdGFzZXQuc3RhdGUgPSAnJzsgLy8g5riF6Zmk5b2T5YmN54q25oCBCgogICAgICB0YWJzLnNldEN1cnJlbnRUYWIodGFiRWwsIHsKICAgICAgICBjaGFuZ2VSb3V0ZTogZmFsc2UKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0gLy8g6LaF5Ye65pyA5aSn5YC8IOWFiOenu+mZpOacgOW3pui+ueeahAoKCiAgICBpZiAodGFicy50YWJFbHMubGVuZ3RoID49IG1heENvdW50KSB7CiAgICAgIHRhYnMucmVtb3ZlVGFiKHRhYnMudGFiRWxzWzBdLCB7CiAgICAgICAgYXV0b0FjdGl2ZTogZmFsc2UKICAgICAgfSk7CiAgICB9IC8vIOWFseS6qyByb3V0ZVRhYgoKCiAgICBpZiAoY3Vyci5zaGFyZWQpIHsKICAgICAgdmFyICRzaGFyZWQgPSAkdGFicy5maW5kKCcuY2hyb21lLXRhYltkYXRhLWFjdGl2ZV0nKTsKICAgICAgdmFyIHNoYXJlZEVsID0gJHNoYXJlZC5nZXQoMCk7CgogICAgICBpZiAoc2hhcmVkRWwpIHsKICAgICAgICAkc2hhcmVkLmZpbmQoJy5jaHJvbWUtdGFiLXRpdGxlJykuaHRtbChjdXJyLmxhYmVsKTsKICAgICAgICBzaGFyZWRFbC5kYXRhc2V0LnN0YXRlID0gJyc7IC8vIOa4hemZpOW9k+WJjeeKtuaAgQoKICAgICAgICBzaGFyZWRFbC5kYXRhc2V0LnBhdGggPSBjdXJyLnBhdGhuYW1lOwogICAgICAgIGNhY2hlLmNhY2hlVGFicyh0YWJzLnRhYkVscyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IC8vIOa3u+WKoOS4gOS4qnRhYgoKCiAgICB0YWJzLmFkZFRhYihjdXJyKTsKICB9LCBbbG9jYXRpb25dKTsKICB2YXIgVGFicyA9IHVzZU1lbW8oKCkgPT4gewogICAgdmFyIHRhYkl0ZW1zID0gIXN0b3JhZ2UgPyBbXSA6IGNhY2hlLmdldFZhbGlkQ2FjaGVUYWJzKCk7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiY2hyb21lLXRhYnMiLAogICAgICByZWY6IGRvbSA9PiB7CiAgICAgICAgJHN0b3JlUmVmLmN1cnJlbnQuJHRhYnNEb20gPSBkb207CiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWJzLWNvbnRlbnQiCiAgICB9LCB0YWJJdGVtcy5tYXAoaXRlbSA9PiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBrZXk6IGl0ZW0uaWQsCiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWIiLAogICAgICAiZGF0YS1yb290IjogaXRlbS5pc1Jvb3QgPyBpdGVtLnBhdGhuYW1lIDogJycsCiAgICAgICJkYXRhLXBhdGgiOiBpdGVtLnBhdGhuYW1lCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBjbGFzc05hbWU6ICJjaHJvbWUtdGFiLWRpdmlkZXJzIgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItYmFja2dyb3VuZCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdmciLCB7CiAgICAgIHZlcnNpb246ICIxLjEiLAogICAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRlZnMiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3ltYm9sIiwgewogICAgICBpZDogImNocm9tZS10YWItZ2VvbWV0cnktbGVmdCIsCiAgICAgIHZpZXdCb3g6ICIwIDAgMjE0IDM2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInBhdGgiLCB7CiAgICAgIGQ6ICJNMTcgMGgxOTd2MzZIMHYtMmM0LjUgMCA5LTMuNSA5LThWOGMwLTQuNSAzLjUtOCA4LTh6IgogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3ltYm9sIiwgewogICAgICBpZDogImNocm9tZS10YWItZ2VvbWV0cnktcmlnaHQiLAogICAgICB2aWV3Qm94OiAiMCAwIDIxNCAzNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ1c2UiLCB7CiAgICAgIHhsaW5rSHJlZjogIiNjaHJvbWUtdGFiLWdlb21ldHJ5LWxlZnQiCiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIsIHsKICAgICAgaWQ6ICJjcm9wIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInJlY3QiLCB7CiAgICAgIGNsYXNzTmFtZTogIm1hc2siLAogICAgICB3aWR0aDogIjEwMCUiLAogICAgICBoZWlnaHQ6ICIxMDAlIiwKICAgICAgeDogIjAiCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3ZnIiwgewogICAgICB3aWR0aDogIjUyJSIsCiAgICAgIGhlaWdodDogIjEwMCUiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidXNlIiwgewogICAgICB4bGlua0hyZWY6ICIjY2hyb21lLXRhYi1nZW9tZXRyeS1sZWZ0IiwKICAgICAgd2lkdGg6ICIyMTQiLAogICAgICBoZWlnaHQ6ICIzNiIsCiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItZ2VvbWV0cnkiCiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJnIiwgewogICAgICB0cmFuc2Zvcm06ICJzY2FsZSgtMSwgMSkiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3ZnIiwgewogICAgICB3aWR0aDogIjUyJSIsCiAgICAgIGhlaWdodDogIjEwMCUiLAogICAgICB4OiAiLTEwMCUiLAogICAgICB5OiAiMCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ1c2UiLCB7CiAgICAgIHhsaW5rSHJlZjogIiNjaHJvbWUtdGFiLWdlb21ldHJ5LXJpZ2h0IiwKICAgICAgd2lkdGg6ICIyMTQiLAogICAgICBoZWlnaHQ6ICIzNiIsCiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItZ2VvbWV0cnkiCiAgICB9KSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItY29udGVudCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItZmF2aWNvbiIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBjbGFzc05hbWU6ICJjaHJvbWUtdGFiLXRpdGxlIgogICAgfSwgaXRlbS5sYWJlbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImNocm9tZS10YWItZHJhZy1oYW5kbGUiCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiY2hyb21lLXRhYi1jbG9zZSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdmciLCB7CiAgICAgIHZpZXdCb3g6ICIwIDAgMTAyNCAxMDI0IiwKICAgICAgdmVyc2lvbjogIjEuMSIsCiAgICAgIHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgICAicC1pZCI6ICIyMzUyIiwKICAgICAgeG1sbnNYbGluazogImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLAogICAgICB3aWR0aDogIjIwMCIsCiAgICAgIGhlaWdodDogIjIwMCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJwYXRoIiwgewogICAgICBkOiAiTTUxOC41ODE1ODc3IDQ2OS40Mjg3OTE1NkwyNDAuMDI1NzY2MDkgMTkwLjg3MzY0ODg5YTM0Ljc2MTQyODgyIDM0Ljc2MTQyODgyIDAgMSAwLTQ5LjE3NTIwMDk3IDQ5LjEyOTcxMjM4bDI3OC41NTQ0NjM3NCAyNzguNTc4MjI2NDNMMTkwLjg1MDU2NTA4IDc5Ny4xNTkxMzUyMmEzNC43NjE0Mjg4MiAzNC43NjE0Mjg4MiAwIDEgMCA0OS4xNTI3OTYxOSA0OS4xNTIxMTcyNWwyNzguNTc4MjI2NTEtMjc4LjU1NDQ2Mzc4IDI3OC41NzgyMjYzNCAyNzguNTU0NDYzNzhhMzQuNzYxNDI4ODIgMzQuNzYxNDI4ODIgMCAxIDAgNDkuMTUyMTE3MjgtNDkuMTI5MDMzNDVsLTI3OC41NTQ0NjM3NC0yNzguNjAwNjMxMjQgMjc4LjU1NDQ2Mzc0LTI3OC41NTUxNDI3MWEzNC43NjE0Mjg4MiAzNC43NjE0Mjg4MiAwIDEgMC00OS4xNTIxMTcyOC00OS4xNTI3OTYyMkw1MTguNjA0NjcxNDUgNDY5LjQyODc5MTU2eiIsCiAgICAgICJwLWlkIjogIjIzNTMiCiAgICB9KSkpKSkpKSk7CiAgfSwgW10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRSb3V0ZVRhYnMsIHsKICAgIGNsYXNzTmFtZTogIiIuY29uY2F0KHRoZW1lTnMsICJSb3V0ZVRhYnMgY2hyb21lLXJvdXRlLXRhYnMiKQogIH0sIFRhYnMpOwp9LCAidXNlUmVmeyRzdG9yZVJlZn1cbnVzZUVmZmVjdHt9XG51c2VFZmZlY3R7fVxudXNlTWVtb3tUYWJzfSIpKTsKCmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0Owo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxjb21wb25lbnRzXFxyb3V0ZV90YWJzXFxpbmRleC5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/route_tabs/index.js"],"names":["openContextMenus","findTree","debounce","React","useEffect","useMemo","useRef","matchPath","withRouter","app","message","storage","storeKeys","rootRoute","defRouteRoute","getCurrRoutePath","subscribe","unsubscribe","setGlobal","cache","ChromeTabs","StyledRouteTabs","props","routes","routesProp","themeNs","history","maxCount","rootRouteProp","onContextMenu","location","$storeRef","routeQuery","$tabsDom","$tabs","undefined","tabs","current","notFindRoute","label","pathname","constants","notFound","route","changePath","path","replace","routeQueryCtrl","val","getRouteInfo","rootBackItem","matchedItem","item","_","__","items","limitLabel","exact","strict","routePath","nodePath","rootItem","Object","assign","isRoot","match","isMatch","url","shared","i","routeTabShared","curr","onClearAll","tabDom","refreshRoot","setTimeout","removeTab","autoActive","tabEls","forEach","tabEl","dataset","root","clearCachedTabs","onRemove","length","onItemMenus","e","button","target","currentTarget","allTabs","onlyOne","isLastOne","actions","activeTabEl","onSelect","cacheTabs","isAfter","filter","Boolean","routeItemInfo","active","hasAttribute","menus","x","clientX","y","clientY","onMounted","$","tabsEle","get","init","on","addEventListener","detail","tabProperties","changeRoute","isAdd","state","window","clearRouteTabs","routeTabChange","query","href","split","onUnmounted","isMounted","find","setCurrentTab","$shared","sharedEl","html","addTab","Tabs","tabItems","getValidCacheTabs","createElement","className","ref","dom","map","key","id","version","xmlns","viewBox","d","xlinkHref","width","height","transform","xmlnsXlink"],"mappings":"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","sourcesContent":["/**\n * 路由切换器 组件\n *\n * TODO:\n * 1. 添加 ICON 支持，showIcon, RouteIcon 请求中 LoadingIcon 之类的\n * 2. 增加 可编辑/固定 模式\n * 3. 将组件转为 纯 react 组件，容易控制\n */\nimport { openContextMenus } from 'amis';\nimport { findTree } from 'amis/lib/utils/helper';\nimport { debounce } from 'lodash';\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { matchPath, withRouter } from 'react-router-dom';\nimport { app } from \"../../app\";\nimport { message, storage as storeKeys, rootRoute as defRouteRoute } from \"../../constants\";\nimport { getCurrRoutePath } from \"../../routes/exports\";\nimport { subscribe, unsubscribe } from \"../../utils/message\";\nimport { setGlobal } from \"../../utils/store\";\nimport * as cache from \"./cache\";\nimport ChromeTabs from \"./chrome_tabs\";\nimport { StyledRouteTabs } from \"./styled\";\nexport default withRouter((props) => {\n    const { routes: routesProp, themeNs, history, maxCount = 20, storage, rootRoute: rootRouteProp = defRouteRoute, onContextMenu, } = props;\n    const { location } = history;\n    const $storeRef = useRef({\n        rootRoute: rootRouteProp,\n        routeQuery: {},\n        routes: routesProp,\n        $tabsDom: null,\n        $tabs: undefined,\n        tabs: {},\n    });\n    $storeRef.current.rootRoute = rootRouteProp;\n    $storeRef.current.routes = routesProp;\n    const notFindRoute = {\n        label: '页面不存在',\n        pathname: app.constants.notFound.route,\n    };\n    // TODO: 优化跳转逻辑，跳转路由\n    const changePath = debounce((path) => {\n        history.replace(path);\n    }, 100);\n    const routeQueryCtrl = (path, val = '') => {\n        if (path === '') {\n            $storeRef.current.routeQuery = {};\n            setGlobal(storeKeys.routeQuery, {});\n            return;\n        }\n        $storeRef.current.routeQuery[path] = val;\n        setGlobal(storeKeys.routeQuery, $storeRef.current.routeQuery);\n    };\n    // 获取路径信息\n    const getRouteInfo = (path = getCurrRoutePath()) => {\n        let rootBackItem;\n        let matchedItem;\n        const { rootRoute, routes } = $storeRef.current;\n        findTree(routes, (item, _, __, items) => {\n            const { limitLabel, \n            // routeTabInitQuery: initQuery,\n            exact, strict, path: routePath = '', nodePath = '', } = item;\n            const pathname = routePath || nodePath;\n            const label = item.label || limitLabel || notFindRoute.label;\n            if (!path || path === rootRoute) {\n                const rootItem = Object.assign(Object.assign({}, item), { label, pathname: rootRoute, isRoot: true });\n                if (routePath === rootRoute) {\n                    matchedItem = rootItem; // 设置的 rootPath\n                }\n                else if (nodePath === rootRoute) {\n                    rootBackItem = rootItem; // 默认 root\n                }\n                return false;\n            }\n            const match = matchPath(path, {\n                path: pathname,\n                exact,\n                strict,\n            });\n            const isMatch = (match === null || match === void 0 ? void 0 : match.url) === path;\n            if (isMatch) {\n                const shared = !!findTree(items, (i) => i.routeTabShared);\n                matchedItem = Object.assign(Object.assign({}, item), { label, pathname: path, shared });\n            }\n            return isMatch;\n        });\n        const curr = matchedItem || rootBackItem || notFindRoute;\n        return curr;\n    };\n    // 清空所有时 默认跳到 首页\n    const onClearAll = (tabDom, refreshRoot = true) => {\n        const { tabs } = $storeRef.current;\n        routeQueryCtrl('');\n        // 防止首次进入页面 直接刷新两次\n        if (refreshRoot !== false && getCurrRoutePath() !== $storeRef.current.rootRoute) {\n            changePath($storeRef.current.rootRoute);\n        }\n        setTimeout(() => {\n            if (tabDom) {\n                tabs.removeTab(tabDom, { autoActive: false });\n            }\n            else {\n                tabs.tabEls.forEach((tabEl) => {\n                    if (tabEl.dataset.root !== $storeRef.current.rootRoute) {\n                        tabs.removeTab(tabEl, { autoActive: false });\n                    }\n                });\n            }\n            cache.clearCachedTabs();\n        }, 100);\n    };\n    const onRemove = (tabEl) => {\n        const { tabs } = $storeRef.current;\n        if (tabs.tabEls.length !== 1) {\n            routeQueryCtrl(tabEl.dataset.path, '');\n            tabs.removeTab(tabEl);\n            return;\n        }\n        if (!tabEl.dataset.root) {\n            onClearAll(tabEl);\n        }\n    };\n    const onItemMenus = (e) => {\n        if (e.button !== 2) {\n            return;\n        }\n        const target = e.currentTarget;\n        const { tabs } = $storeRef.current;\n        const allTabs = tabs.tabEls;\n        const onlyOne = allTabs.length === 1;\n        const isLastOne = onlyOne ? true : allTabs[allTabs.length - 1] === target;\n        const actions = [\n            tabs.activeTabEl === target && {\n                label: '刷新页面',\n                onSelect: () => {\n                    // TODO: 刷新页面 会丢失 查询参数\n                    changePath(target.dataset.path || $storeRef.current.rootRoute);\n                },\n            },\n            !onlyOne && {\n                label: '关闭其他',\n                onSelect: () => {\n                    allTabs.forEach((tabEl) => {\n                        if (tabEl !== target) {\n                            tabs.removeTab(tabEl);\n                        }\n                    });\n                    cache.cacheTabs(tabs.tabEls);\n                },\n            },\n            !onlyOne &&\n                !isLastOne && {\n                label: '关闭右边',\n                onSelect: () => {\n                    let isAfter = false;\n                    allTabs.forEach((tabEl) => {\n                        if (tabEl === target) {\n                            isAfter = true;\n                        }\n                        else if (isAfter) {\n                            tabs.removeTab(tabEl);\n                        }\n                    });\n                    cache.cacheTabs(tabs.tabEls);\n                },\n            },\n            !onlyOne && {\n                label: '关闭所有',\n                onSelect: onClearAll,\n            },\n        ].filter(Boolean);\n        const routeItemInfo = Object.assign(Object.assign({}, getRouteInfo()), { isRoot: !!target.dataset.root, active: target.hasAttribute('active') });\n        const menus = onContextMenu ? onContextMenu(actions, routeItemInfo) : actions;\n        openContextMenus({\n            x: e.clientX,\n            y: e.clientY,\n        }, menus);\n    };\n    const onMounted = () => {\n        const $tabs = $($storeRef.current.$tabsDom);\n        const tabs = new ChromeTabs();\n        const tabsEle = $tabs.get(0);\n        tabs.init(tabsEle);\n        $storeRef.current.$tabs = $tabs;\n        $storeRef.current.tabs = tabs;\n        $tabs.on('contextmenu', () => false).on('mousedown', '.chrome-tab', onItemMenus);\n        tabsEle.addEventListener('activeTabChange', ({ detail }) => {\n            const { tabEl, tabProperties = {} } = detail;\n            const { changeRoute, isAdd } = tabProperties;\n            const { path = '', state = '' } = tabEl.dataset;\n            cache.cacheTabs(tabs.tabEls);\n            // 添加时 ， 路由相同 ， 明确标明， 情况下，不需要跳转路由\n            if (!changeRoute || isAdd || window.location.pathname === path) {\n                return;\n            }\n            // 携带状态信息一起跳转\n            changePath(`${path}${!state ? '' : `?${state}`}`);\n        });\n        tabsEle.addEventListener('tabAdd', ({ detail }) => {\n            const { tabEl, tabProperties } = detail;\n            const { pathname, isRoot } = tabProperties;\n            tabEl.dataset.path = pathname || '';\n            tabEl.dataset.root = isRoot ? pathname : '';\n        });\n        tabsEle.addEventListener('onTabRemove', ({ detail }) => {\n            onRemove(detail.tabEl);\n        });\n        subscribe(message.clearRouteTabs, ({ refreshRoot }) => {\n            onClearAll(undefined, refreshRoot);\n        });\n        subscribe(message.routeTabChange, () => {\n            const query = window.location.href.split('?')[1] || '';\n            routeQueryCtrl(tabs.activeTabEl.dataset.path, query);\n            tabs.activeTabEl.dataset.state = query;\n        });\n    };\n    const onUnmounted = () => {\n        unsubscribe([message.clearRouteTabs, message.routeTabChange]);\n    };\n    useEffect(() => onUnmounted, []);\n    useEffect(() => {\n        const isMounted = !!$storeRef.current.$tabs;\n        // 未初始化 先初始化\n        if (!isMounted) {\n            onMounted();\n        }\n        const { tabs, $tabs } = $storeRef.current;\n        const curr = getRouteInfo(location.pathname);\n        // 初次加载 首页时，回归上次一次 active tab\n        if (!isMounted && curr.pathname === $storeRef.current.rootRoute) {\n            const tabEl = $tabs.find('.chrome-tab[data-active]').get(0);\n            if (tabEl) {\n                tabs.setCurrentTab(tabEl, { changeRoute: false });\n                return;\n            }\n        }\n        // 已经 在列表的 直接 定位当前路由\n        const tabEl = $tabs.find(`.chrome-tab[data-path=\"${curr.pathname}\"]`).get(0);\n        if (tabEl) {\n            tabEl.dataset.state = ''; // 清除当前状态\n            tabs.setCurrentTab(tabEl, { changeRoute: false });\n            return;\n        }\n        // 超出最大值 先移除最左边的\n        if (tabs.tabEls.length >= maxCount) {\n            tabs.removeTab(tabs.tabEls[0], { autoActive: false });\n        }\n        // 共享 routeTab\n        if (curr.shared) {\n            const $shared = $tabs.find('.chrome-tab[data-active]');\n            const sharedEl = $shared.get(0);\n            if (sharedEl) {\n                $shared.find('.chrome-tab-title').html(curr.label);\n                sharedEl.dataset.state = ''; // 清除当前状态\n                sharedEl.dataset.path = curr.pathname;\n                cache.cacheTabs(tabs.tabEls);\n                return;\n            }\n        }\n        // 添加一个tab\n        tabs.addTab(curr);\n    }, [location]);\n    const Tabs = useMemo(() => {\n        const tabItems = !storage ? [] : cache.getValidCacheTabs();\n        return (React.createElement(\"div\", { className: \"chrome-tabs\", ref: (dom) => {\n                $storeRef.current.$tabsDom = dom;\n            } },\n            React.createElement(\"div\", { className: \"chrome-tabs-content\" }, tabItems.map((item) => (React.createElement(\"div\", { key: item.id, className: \"chrome-tab\", \"data-root\": item.isRoot ? item.pathname : '', \"data-path\": item.pathname },\n                React.createElement(\"div\", { className: \"chrome-tab-dividers\" }),\n                React.createElement(\"div\", { className: \"chrome-tab-background\" },\n                    React.createElement(\"svg\", { version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n                        React.createElement(\"defs\", null,\n                            React.createElement(\"symbol\", { id: \"chrome-tab-geometry-left\", viewBox: \"0 0 214 36\" },\n                                React.createElement(\"path\", { d: \"M17 0h197v36H0v-2c4.5 0 9-3.5 9-8V8c0-4.5 3.5-8 8-8z\" })),\n                            React.createElement(\"symbol\", { id: \"chrome-tab-geometry-right\", viewBox: \"0 0 214 36\" },\n                                React.createElement(\"use\", { xlinkHref: \"#chrome-tab-geometry-left\" })),\n                            React.createElement(\"clipPath\", { id: \"crop\" },\n                                React.createElement(\"rect\", { className: \"mask\", width: \"100%\", height: \"100%\", x: \"0\" }))),\n                        React.createElement(\"svg\", { width: \"52%\", height: \"100%\" },\n                            React.createElement(\"use\", { xlinkHref: \"#chrome-tab-geometry-left\", width: \"214\", height: \"36\", className: \"chrome-tab-geometry\" })),\n                        React.createElement(\"g\", { transform: \"scale(-1, 1)\" },\n                            React.createElement(\"svg\", { width: \"52%\", height: \"100%\", x: \"-100%\", y: \"0\" },\n                                React.createElement(\"use\", { xlinkHref: \"#chrome-tab-geometry-right\", width: \"214\", height: \"36\", className: \"chrome-tab-geometry\" }))))),\n                React.createElement(\"div\", { className: \"chrome-tab-content\" },\n                    React.createElement(\"div\", { className: \"chrome-tab-favicon\" }),\n                    React.createElement(\"div\", { className: \"chrome-tab-title\" }, item.label),\n                    React.createElement(\"div\", { className: \"chrome-tab-drag-handle\" }),\n                    React.createElement(\"div\", { className: \"chrome-tab-close\" },\n                        React.createElement(\"svg\", { viewBox: \"0 0 1024 1024\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", \"p-id\": \"2352\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", width: \"200\", height: \"200\" },\n                            React.createElement(\"path\", { d: \"M518.5815877 469.42879156L240.02576609 190.87364889a34.76142882 34.76142882 0 1 0-49.17520097 49.12971238l278.55446374 278.57822643L190.85056508 797.15913522a34.76142882 34.76142882 0 1 0 49.15279619 49.15211725l278.57822651-278.55446378 278.57822634 278.55446378a34.76142882 34.76142882 0 1 0 49.15211728-49.12903345l-278.55446374-278.60063124 278.55446374-278.55514271a34.76142882 34.76142882 0 1 0-49.15211728-49.15279622L518.60467145 469.42879156z\", \"p-id\": \"2353\" }))))))))));\n    }, []);\n    return (React.createElement(StyledRouteTabs, { className: `${themeNs}RouteTabs chrome-route-tabs` }, Tabs));\n});\n"]}]}