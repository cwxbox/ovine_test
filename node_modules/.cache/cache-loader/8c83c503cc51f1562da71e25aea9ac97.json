{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\logger.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\logger.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIGxvZ2dlcuaooeWdlwogKiDplJnor6/vvIzlvILluLjnrYnlnLDmlrnpg73lupTovpPlhaXml6Xlv5fvvIznu5nlh7rmj5DnpLoKICovCgovKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCmltcG9ydCB7IGRlYm91bmNlLCB0aHJvdHRsZSwgZGVmYXVsdHMgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBnZXRVcmxQYXJhbXMgfSBmcm9tICIuL3Rvb2wiOyAvLyDpu5jorqTmiYDmnInml6Xlv5flnYfmmL7npLoKCnZhciBkZWJ1Z0NvbmZpZyA9IHsKICBsZXZlbDogJ2xvZycsCiAgbW9kdWxlTmFtZTogJycsCiAgb25seUxldmVsOiBmYWxzZSwKICBlbmFibGU6IGZhbHNlLAogIGRlZmF1bHREZWJ1Z09wdGlvbjogewogICAgaXNQcmludDogdHJ1ZSwKICAgIG1vZHVsZU5hbWU6ICcuKicsCiAgICBvbmx5U2VsZjogZmFsc2UsCiAgICBsZXZlbDogJ2xvZycsCiAgICBkZWJvdW5jZTogMTAwMCwKICAgIHRocm90dGxlOiAxMDAwCiAgfQp9Owp2YXIgb25seVNlbGZGbGFnID0gbnVsbDsgLy8g5Yik5patIOeUn+S6p+eOr+WigwoKdmFyIGlzUmVsZWFzZSA9ICgpID0+IHsKICAvLyBUT0RPIOa3u+WKoOe6v+S4iueOr+Wig+aXpeW/l+mFjee9ruS/ruaUuQogIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmICFkZWJ1Z0NvbmZpZy5lbmFibGU7Cn07IC8vIOi/h+a7pOaXpeW/l+aJk+WNsOS/oeaBrwoKCnZhciBmaWx0ZXJMb2cgPSBvcHRpb24gPT4gewogIHZhciB7CiAgICBsZXZlbCwKICAgIG1vZHVsZU5hbWUsCiAgICBvbmx5TGV2ZWwKICB9ID0gZGVidWdDb25maWc7IC8vIOaJk+WMheeOr+Wig+S4jeaJk+WNsExPRwoKICBpZiAoaXNSZWxlYXNlKCkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHZhciBhbGxvd2VkTGV2ZWwgPSBbXTsKCiAgaWYgKG9ubHlMZXZlbCkgewogICAgLy8g5LuF5LuF5omT5Y2w5b2T5YmN57qn5Yir55qETE9HCiAgICBhbGxvd2VkTGV2ZWwucHVzaChsZXZlbCk7CiAgfSBlbHNlIHsKICAgIC8vIEVSUk9SID4gV0FSTiA+IElORk8gPiBMT0cKICAgIHZhciBhbGxMZXZlbCA9IFsnbG9nJywgJ2luZm8nLCAnd2FybicsICdlcnJvciddOwogICAgdmFyIGlkeCA9IGFsbExldmVsLmZpbmRJbmRleChsID0+IGwgPT09IGxldmVsKTsKICAgIGFsbG93ZWRMZXZlbC5wdXNoKC4uLmFsbExldmVsLnNsaWNlKGlkeCkpOwogIH0gLy8g6L+H5ruk5LiN5ZCM57qn5Yir55qEIExPRwoKCiAgaWYgKCFhbGxvd2VkTGV2ZWwuZmluZChsID0+IGwgPT09IG9wdGlvbi5sZXZlbCkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9IC8vIOagueaNruS8oOWFpeeahCBtb2R1bGVOYW1lIOi/h+a7pCDml6Xlv5cKCgogIGlmICghbW9kdWxlTmFtZSB8fCAhbmV3IFJlZ0V4cChtb2R1bGVOYW1lKS50ZXN0KG9wdGlvbi5tb2R1bGVOYW1lKSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgcmV0dXJuIHRydWU7Cn07CgpleHBvcnQgY2xhc3MgTG9nZ2VyIHsKICBsb2cobW9kdWxlTmFtZSkgewogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGxvZ2dlckRldGFpbCA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGxvZ2dlckRldGFpbFtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgdGhpcy5kZWJ1Z0xvZ2dlcih7CiAgICAgIGxldmVsOiAnbG9nJywKICAgICAgbW9kdWxlTmFtZQogICAgfSwgbG9nZ2VyRGV0YWlsKTsKICB9CgogIGluZm8obW9kdWxlTmFtZSkgewogICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dnZXJEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICBsb2dnZXJEZXRhaWxbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICB9CgogICAgdGhpcy5kZWJ1Z0xvZ2dlcih7CiAgICAgIGxldmVsOiAnaW5mbycsCiAgICAgIG1vZHVsZU5hbWUKICAgIH0sIGxvZ2dlckRldGFpbCk7CiAgfQoKICB3YXJuKG1vZHVsZU5hbWUpIHsKICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgbG9nZ2VyRGV0YWlsID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHsKICAgICAgbG9nZ2VyRGV0YWlsW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdOwogICAgfQoKICAgIHRoaXMuZGVidWdMb2dnZXIoewogICAgICBsZXZlbDogJ3dhcm4nLAogICAgICBtb2R1bGVOYW1lCiAgICB9LCBsb2dnZXJEZXRhaWwpOwogIH0KCiAgZXJyb3IobW9kdWxlTmFtZSkgewogICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dnZXJEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykgewogICAgICBsb2dnZXJEZXRhaWxbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07CiAgICB9CgogICAgdGhpcy5kZWJ1Z0xvZ2dlcih7CiAgICAgIGxldmVsOiAnZXJyb3InLAogICAgICBtb2R1bGVOYW1lCiAgICB9LCBsb2dnZXJEZXRhaWwpOwogIH0KCiAgZ2V0TG9nZ2VyKG1vZHVsZU5hbWUpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIG9wdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICB2YXIgZGVidWdPcHRpb24gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiksIHsKICAgICAgbW9kdWxlTmFtZQogICAgfSk7CiAgICByZXR1cm4gewogICAgICB0aW1lOiAobGFiZWwsIHRpbWVGbikgPT4gdGhpcy50aW1lKGxhYmVsLCB0aW1lRm4sIGRlYnVnT3B0aW9uKSwKICAgICAgaWY6IGlzUHJpbnQgPT4gdGhpcy5nZXRMb2dnZXIobW9kdWxlTmFtZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb24pLCB7CiAgICAgICAgaXNQcmludAogICAgICB9KSksCiAgICAgIGRlYm91bmNlOiBkZWJvdW5jZShjYWxsYmFjayA9PiBjYWxsYmFjaygpLCAxMDAwKSwKICAgICAgdGhyb3R0bGU6IHRocm90dGxlKGNhbGxiYWNrID0+IGNhbGxiYWNrKCksIDEwMDApLAogICAgICBsb2c6IGZ1bmN0aW9uIGxvZygpIHsKICAgICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGxvZ0RldGFpbCA9IG5ldyBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykgewogICAgICAgICAgbG9nRGV0YWlsW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3RoaXMuc2lnbmVkTG9nZ2VyKCdsb2cnLCBkZWJ1Z09wdGlvbiwgbG9nRGV0YWlsKTsKICAgICAgfSwKICAgICAgaW5mbzogZnVuY3Rpb24gaW5mbygpIHsKICAgICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGxvZ0RldGFpbCA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykgewogICAgICAgICAgbG9nRGV0YWlsW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3RoaXMuc2lnbmVkTG9nZ2VyKCdpbmZvJywgZGVidWdPcHRpb24sIGxvZ0RldGFpbCk7CiAgICAgIH0sCiAgICAgIHdhcm46IGZ1bmN0aW9uIHdhcm4oKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjcpLCBfa2V5NyA9IDA7IF9rZXk3IDwgX2xlbjc7IF9rZXk3KyspIHsKICAgICAgICAgIGxvZ0RldGFpbFtfa2V5N10gPSBhcmd1bWVudHNbX2tleTddOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF90aGlzLnNpZ25lZExvZ2dlcignd2FybicsIGRlYnVnT3B0aW9uLCBsb2dEZXRhaWwpOwogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbjggPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjgpLCBfa2V5OCA9IDA7IF9rZXk4IDwgX2xlbjg7IF9rZXk4KyspIHsKICAgICAgICAgIGxvZ0RldGFpbFtfa2V5OF0gPSBhcmd1bWVudHNbX2tleThdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF90aGlzLnNpZ25lZExvZ2dlcignZXJyb3InLCBkZWJ1Z09wdGlvbiwgbG9nRGV0YWlsKTsKICAgICAgfQogICAgfTsKICB9IC8vIFRPRE86IOWQjOatpSB0aW1lRm4g5q+U6L6D6bih6IKLLOaNouaIkOW8guatpeaXtumXtOaJk+WNsAoKCiAgdGltZShsYWJlbCwgdGltZUZuLCBkZWJ1Z09wdGlvbikgewogICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTsKICAgIHZhciByZXN1bHQgPSB0aW1lRm4oKTsKICAgIHZhciBlbmQgPSBEYXRlLm5vdygpOwogICAgdGhpcy5kZWJ1Z0xvZ2dlci5jYWxsKG51bGwsIGRlYnVnT3B0aW9uLCBbIiIuY29uY2F0KGxhYmVsIHx8ICd0aW1lJywgIjogIikuY29uY2F0KGVuZCAtIHN0YXJ0LCAibXMiKSwgcmVzdWx0XSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZGVidWdMb2dnZXIob3B0aW9uLCBsb2dnZXJEZXRhaWwpIHsKICAgIC8vIOaJk+WMheeOr+Wig+S4jeaJk+WNsOaXpeW/lwogICAgaWYgKGlzUmVsZWFzZSgpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgZGVidWdPcHRpb24gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlYnVnQ29uZmlnLmRlZmF1bHREZWJ1Z09wdGlvbiksIG9wdGlvbik7CiAgICB2YXIgewogICAgICBtb2R1bGVOYW1lLAogICAgICBsZXZlbCwKICAgICAgb25seVNlbGYKICAgIH0gPSBkZWJ1Z09wdGlvbjsKICAgIG9ubHlTZWxmRmxhZyA9IG51bGw7IC8vIG9ubHlTZWxmIOS4uiBib29s5YC85pe2IOiuvue9riBvbmx5U2VsZkZsYWcKCiAgICBpZiAodHlwZW9mIG9ubHlTZWxmID09PSAnYm9vbGVhbicpIHsKICAgICAgb25seVNlbGZGbGFnID0gb25seVNlbGY7CiAgICB9IC8vIG9ubHlTZWxmRmxhZyA9PT0gdHJ1ZSAmJiBvbmx5U2VsZiA9PT0gdHJ1ZSAg5pe255u05o6l5omT5Y2wCiAgICAvLyDlkKbliJkg6ZyA6KaB5qCh6aqMIG1vZHVsZU5hbWUg5LiOIGxldmVsIOe6p+WIqwoKCiAgICBpZiAoKCFvbmx5U2VsZkZsYWcgfHwgIW9ubHlTZWxmKSAmJiAhZmlsdGVyTG9nKHsKICAgICAgbGV2ZWwsCiAgICAgIG1vZHVsZU5hbWUKICAgIH0pKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIHZhciBsb2dBcmdzID0gWyJbIi5jb25jYXQobm93LmdldEhvdXJzKCksICI6IikuY29uY2F0KG5vdy5nZXRNaW51dGVzKCksICI6IikuY29uY2F0KG5vdy5nZXRTZWNvbmRzKCksICIgIikuY29uY2F0KGxldmVsLnRvVXBwZXJDYXNlKCksICIgIikuY29uY2F0KG1vZHVsZU5hbWUsICJdICIpXTsKICAgIHZhciBsb2cgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGVbbGV2ZWxdIHx8IGNvbnNvbGUubG9nLCBjb25zb2xlKTsKICAgIGxvZy5hcHBseShjb25zb2xlLCBsb2dBcmdzLmNvbmNhdChsb2dnZXJEZXRhaWwpKTsgLy8gY29uc29sZS5sb2cuY2FsbChudWxsLCAuLi5sb2dBcmdzLmNvbmNhdCguLi5sb2dnZXJEZXRhaWwpKSAvLyDor6Xmlrnms5XkuI3lhbzlrrlJRTktSUUxMQogIH0KCiAgc2lnbmVkTG9nZ2VyKGxldmVsLCBvcHRpb24sIGxvZ2dlckRldGFpbCkgewogICAgdmFyIHsKICAgICAgaXNQcmludCA9IHRydWUKICAgIH0gPSBvcHRpb247CgogICAgaWYgKCFpc1ByaW50KSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmRlYnVnTG9nZ2VyLmNhbGwobnVsbCwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb24pLCB7CiAgICAgIGxldmVsCiAgICB9KSwgbG9nZ2VyRGV0YWlsKTsKICB9Cgp9CnZhciBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7IC8vIOiuvue9riDml6Xlv5cg6YWN572uCgpleHBvcnQgdmFyIHNldENvbmZpZyA9IGNvbmYgPT4gewogIGRlYnVnQ29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWJ1Z0NvbmZpZyksIGNvbmYpOyAvLyDmiZPljIXnjq/looPkuI3miZPljbDml6Xlv5cKCiAgaWYgKGlzUmVsZWFzZSgpKSB7CiAgICByZXR1cm47CiAgfQoKICBsb2dnZXIuaW5mbygnbGliOmxvZ2dlcjpjb25maWcnLCBkZWJ1Z0NvbmZpZyk7Cn07CmV4cG9ydCB2YXIgaW5pdExvZ2dlciA9IGZ1bmN0aW9uIGluaXRMb2dnZXIoKSB7CiAgdmFyIGxvZ2dlckNvbmYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogIHZhciBtb2R1bGVOYW1lID0gZ2V0VXJsUGFyYW1zKCdsb2dnZXJNb2R1bGUnKSB8fCAobG9nZ2VyQ29uZiA9PT0gbnVsbCB8fCBsb2dnZXJDb25mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2dnZXJDb25mLm1vZHVsZU5hbWUpIHx8ICcnOwogIHZhciBsb2dnZXJMZXZlbCA9IGdldFVybFBhcmFtcygnbG9nZ2VyTGV2ZWwnKSB8fCAobG9nZ2VyQ29uZiA9PT0gbnVsbCB8fCBsb2dnZXJDb25mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2dnZXJDb25mLmxldmVsKSB8fCAnbG9nJzsKICB2YXIgbG9nZ2VyQ29uZmlnID0gZGVmYXVsdHMoewogICAgbW9kdWxlTmFtZSwKICAgIGxldmVsOiBsb2dnZXJMZXZlbCwKICAgIGVuYWJsZTogISFtb2R1bGVOYW1lCiAgfSwgbG9nZ2VyQ29uZik7CiAgc2V0Q29uZmlnKGxvZ2dlckNvbmZpZyk7Cn07CmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjs="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/utils/logger.js"],"names":["debounce","throttle","defaults","getUrlParams","debugConfig","level","moduleName","onlyLevel","enable","defaultDebugOption","isPrint","onlySelf","onlySelfFlag","isRelease","process","env","NODE_ENV","filterLog","option","allowedLevel","push","allLevel","idx","findIndex","l","slice","find","RegExp","test","Logger","log","loggerDetail","debugLogger","info","warn","error","getLogger","debugOption","Object","assign","time","label","timeFn","if","callback","logDetail","signedLogger","start","Date","now","result","end","call","logArgs","getHours","getMinutes","getSeconds","toUpperCase","Function","prototype","bind","console","apply","concat","logger","setConfig","conf","initLogger","loggerConf","loggerLevel","loggerConfig"],"mappings":"AAAA;AACA;AACA;AACA;;AACA;AACA,SAASA,QAAT,EAAmBC,QAAnB,EAA6BC,QAA7B,QAA6C,QAA7C;AACA,SAASC,YAAT,QAA6B,QAA7B,C,CACA;;AACA,IAAIC,WAAW,GAAG;AACdC,EAAAA,KAAK,EAAE,KADO;AAEdC,EAAAA,UAAU,EAAE,EAFE;AAGdC,EAAAA,SAAS,EAAE,KAHG;AAIdC,EAAAA,MAAM,EAAE,KAJM;AAKdC,EAAAA,kBAAkB,EAAE;AAChBC,IAAAA,OAAO,EAAE,IADO;AAEhBJ,IAAAA,UAAU,EAAE,IAFI;AAGhBK,IAAAA,QAAQ,EAAE,KAHM;AAIhBN,IAAAA,KAAK,EAAE,KAJS;AAKhBL,IAAAA,QAAQ,EAAE,IALM;AAMhBC,IAAAA,QAAQ,EAAE;AANM;AALN,CAAlB;AAcA,IAAIW,YAAY,GAAG,IAAnB,C,CACA;;AACA,IAAMC,SAAS,GAAG,MAAM;AACpB;AACA,SAAOC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,CAACZ,WAAW,CAACI,MAA7D;AACH,CAHD,C,CAIA;;;AACA,IAAMS,SAAS,GAAIC,MAAD,IAAY;AAC1B,MAAM;AAAEb,IAAAA,KAAF;AAASC,IAAAA,UAAT;AAAqBC,IAAAA;AAArB,MAAmCH,WAAzC,CAD0B,CAE1B;;AACA,MAAIS,SAAS,EAAb,EAAiB;AACb,WAAO,KAAP;AACH;;AACD,MAAMM,YAAY,GAAG,EAArB;;AACA,MAAIZ,SAAJ,EAAe;AACX;AACAY,IAAAA,YAAY,CAACC,IAAb,CAAkBf,KAAlB;AACH,GAHD,MAIK;AACD;AACA,QAAMgB,QAAQ,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB,EAAwB,OAAxB,CAAjB;AACA,QAAMC,GAAG,GAAGD,QAAQ,CAACE,SAAT,CAAoBC,CAAD,IAAOA,CAAC,KAAKnB,KAAhC,CAAZ;AACAc,IAAAA,YAAY,CAACC,IAAb,CAAkB,GAAGC,QAAQ,CAACI,KAAT,CAAeH,GAAf,CAArB;AACH,GAhByB,CAiB1B;;;AACA,MAAI,CAACH,YAAY,CAACO,IAAb,CAAmBF,CAAD,IAAOA,CAAC,KAAKN,MAAM,CAACb,KAAtC,CAAL,EAAmD;AAC/C,WAAO,KAAP;AACH,GApByB,CAqB1B;;;AACA,MAAI,CAACC,UAAD,IAAe,CAAC,IAAIqB,MAAJ,CAAWrB,UAAX,EAAuBsB,IAAvB,CAA4BV,MAAM,CAACZ,UAAnC,CAApB,EAAoE;AAChE,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH,CA1BD;;AA2BA,OAAO,MAAMuB,MAAN,CAAa;AAChBC,EAAAA,GAAG,CAACxB,UAAD,EAA8B;AAAA,sCAAdyB,YAAc;AAAdA,MAAAA,YAAc;AAAA;;AAC7B,SAAKC,WAAL,CAAiB;AAAE3B,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA;AAAhB,KAAjB,EAA+CyB,YAA/C;AACH;;AACDE,EAAAA,IAAI,CAAC3B,UAAD,EAA8B;AAAA,uCAAdyB,YAAc;AAAdA,MAAAA,YAAc;AAAA;;AAC9B,SAAKC,WAAL,CAAiB;AAAE3B,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA;AAAjB,KAAjB,EAAgDyB,YAAhD;AACH;;AACDG,EAAAA,IAAI,CAAC5B,UAAD,EAA8B;AAAA,uCAAdyB,YAAc;AAAdA,MAAAA,YAAc;AAAA;;AAC9B,SAAKC,WAAL,CAAiB;AAAE3B,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA;AAAjB,KAAjB,EAAgDyB,YAAhD;AACH;;AACDI,EAAAA,KAAK,CAAC7B,UAAD,EAA8B;AAAA,uCAAdyB,YAAc;AAAdA,MAAAA,YAAc;AAAA;;AAC/B,SAAKC,WAAL,CAAiB;AAAE3B,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA;AAAlB,KAAjB,EAAiDyB,YAAjD;AACH;;AACDK,EAAAA,SAAS,CAAC9B,UAAD,EAA0B;AAAA;;AAAA,QAAbY,MAAa,uEAAJ,EAAI;AAC/B,QAAMmB,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBrB,MAAlB,CAAd,EAAyC;AAAEZ,MAAAA;AAAF,KAAzC,CAApB;AACA,WAAO;AACHkC,MAAAA,IAAI,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB,KAAKF,IAAL,CAAUC,KAAV,EAAiBC,MAAjB,EAAyBL,WAAzB,CADtB;AAEHM,MAAAA,EAAE,EAAGjC,OAAD,IAAa,KAAK0B,SAAL,CAAe9B,UAAf,EAA2BgC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBrB,MAAlB,CAAd,EAAyC;AAAER,QAAAA;AAAF,OAAzC,CAA3B,CAFd;AAGHV,MAAAA,QAAQ,EAAEA,QAAQ,CAAE4C,QAAD,IAAcA,QAAQ,EAAvB,EAA2B,IAA3B,CAHf;AAIH3C,MAAAA,QAAQ,EAAEA,QAAQ,CAAE2C,QAAD,IAAcA,QAAQ,EAAvB,EAA2B,IAA3B,CAJf;AAKHd,MAAAA,GAAG,EAAE;AAAA,2CAAIe,SAAJ;AAAIA,UAAAA,SAAJ;AAAA;;AAAA,eAAkB,KAAI,CAACC,YAAL,CAAkB,KAAlB,EAAyBT,WAAzB,EAAsCQ,SAAtC,CAAlB;AAAA,OALF;AAMHZ,MAAAA,IAAI,EAAE;AAAA,2CAAIY,SAAJ;AAAIA,UAAAA,SAAJ;AAAA;;AAAA,eAAkB,KAAI,CAACC,YAAL,CAAkB,MAAlB,EAA0BT,WAA1B,EAAuCQ,SAAvC,CAAlB;AAAA,OANH;AAOHX,MAAAA,IAAI,EAAE;AAAA,2CAAIW,SAAJ;AAAIA,UAAAA,SAAJ;AAAA;;AAAA,eAAkB,KAAI,CAACC,YAAL,CAAkB,MAAlB,EAA0BT,WAA1B,EAAuCQ,SAAvC,CAAlB;AAAA,OAPH;AAQHV,MAAAA,KAAK,EAAE;AAAA,2CAAIU,SAAJ;AAAIA,UAAAA,SAAJ;AAAA;;AAAA,eAAkB,KAAI,CAACC,YAAL,CAAkB,OAAlB,EAA2BT,WAA3B,EAAwCQ,SAAxC,CAAlB;AAAA;AARJ,KAAP;AAUH,GAzBe,CA0BhB;;;AACAL,EAAAA,IAAI,CAACC,KAAD,EAAQC,MAAR,EAAgBL,WAAhB,EAA6B;AAC7B,QAAMU,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAd;AACA,QAAMC,MAAM,GAAGR,MAAM,EAArB;AACA,QAAMS,GAAG,GAAGH,IAAI,CAACC,GAAL,EAAZ;AACA,SAAKjB,WAAL,CAAiBoB,IAAjB,CAAsB,IAAtB,EAA4Bf,WAA5B,EAAyC,WAAII,KAAK,IAAI,MAAb,eAAwBU,GAAG,GAAGJ,KAA9B,SAAyCG,MAAzC,CAAzC;AACA,WAAOA,MAAP;AACH;;AACDlB,EAAAA,WAAW,CAACd,MAAD,EAASa,YAAT,EAAuB;AAC9B;AACA,QAAIlB,SAAS,EAAb,EAAiB;AACb;AACH;;AACD,QAAMwB,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBnC,WAAW,CAACK,kBAA9B,CAAd,EAAiES,MAAjE,CAApB;AACA,QAAM;AAAEZ,MAAAA,UAAF;AAAcD,MAAAA,KAAd;AAAqBM,MAAAA;AAArB,QAAkC0B,WAAxC;AACAzB,IAAAA,YAAY,GAAG,IAAf,CAP8B,CAQ9B;;AACA,QAAI,OAAOD,QAAP,KAAoB,SAAxB,EAAmC;AAC/BC,MAAAA,YAAY,GAAGD,QAAf;AACH,KAX6B,CAY9B;AACA;;;AACA,QAAI,CAAC,CAACC,YAAD,IAAiB,CAACD,QAAnB,KAAgC,CAACM,SAAS,CAAC;AAAEZ,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,CAA9C,EAAuE;AACnE;AACH;;AACD,QAAM2C,GAAG,GAAG,IAAID,IAAJ,EAAZ;AACA,QAAMK,OAAO,GAAG,YACRJ,GAAG,CAACK,QAAJ,EADQ,cACUL,GAAG,CAACM,UAAJ,EADV,cAC8BN,GAAG,CAACO,UAAJ,EAD9B,cACkDnD,KAAK,CAACoD,WAAN,EADlD,cACyEnD,UADzE,QAAhB;AAGA,QAAMwB,GAAG,GAAG4B,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,CAAwBR,IAAxB,CAA6BS,OAAO,CAACxD,KAAD,CAAP,IAAkBwD,OAAO,CAAC/B,GAAvD,EAA4D+B,OAA5D,CAAZ;AACA/B,IAAAA,GAAG,CAACgC,KAAJ,CAAUD,OAAV,EAAmBR,OAAO,CAACU,MAAR,CAAehC,YAAf,CAAnB,EAtB8B,CAuB9B;AACH;;AACDe,EAAAA,YAAY,CAACzC,KAAD,EAAQa,MAAR,EAAgBa,YAAhB,EAA8B;AACtC,QAAM;AAAErB,MAAAA,OAAO,GAAG;AAAZ,QAAqBQ,MAA3B;;AACA,QAAI,CAACR,OAAL,EAAc;AACV;AACH;;AACD,SAAKsB,WAAL,CAAiBoB,IAAjB,CAAsB,IAAtB,EAA4Bd,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBrB,MAAlB,CAAd,EAAyC;AAAEb,MAAAA;AAAF,KAAzC,CAA5B,EAAiF0B,YAAjF;AACH;;AAjEe;AAmEpB,IAAMiC,MAAM,GAAG,IAAInC,MAAJ,EAAf,C,CACA;;AACA,OAAO,IAAMoC,SAAS,GAAIC,IAAD,IAAU;AAC/B9D,EAAAA,WAAW,GAAGkC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBnC,WAAlB,CAAd,EAA8C8D,IAA9C,CAAd,CAD+B,CAE/B;;AACA,MAAIrD,SAAS,EAAb,EAAiB;AACb;AACH;;AACDmD,EAAAA,MAAM,CAAC/B,IAAP,CAAY,mBAAZ,EAAiC7B,WAAjC;AACH,CAPM;AAQP,OAAO,IAAM+D,UAAU,GAAG,SAAbA,UAAa,GAAqB;AAAA,MAApBC,UAAoB,uEAAP,EAAO;AAC3C,MAAM9D,UAAU,GAAGH,YAAY,CAAC,cAAD,CAAZ,KAAiCiE,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAAC9D,UAApG,KAAmH,EAAtI;AACA,MAAM+D,WAAW,GAAGlE,YAAY,CAAC,aAAD,CAAZ,KAAgCiE,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAAC/D,KAAnG,KAA6G,KAAjI;AACA,MAAMiE,YAAY,GAAGpE,QAAQ,CAAC;AAC1BI,IAAAA,UAD0B;AAE1BD,IAAAA,KAAK,EAAEgE,WAFmB;AAG1B7D,IAAAA,MAAM,EAAE,CAAC,CAACF;AAHgB,GAAD,EAI1B8D,UAJ0B,CAA7B;AAKAH,EAAAA,SAAS,CAACK,YAAD,CAAT;AACH,CATM;AAUP,eAAeN,MAAf","sourcesContent":["/**\n * logger模块\n * 错误，异常等地方都应输入日志，给出提示\n */\n/* eslint-disable no-console */\nimport { debounce, throttle, defaults } from 'lodash';\nimport { getUrlParams } from \"./tool\";\n// 默认所有日志均显示\nlet debugConfig = {\n    level: 'log',\n    moduleName: '',\n    onlyLevel: false,\n    enable: false,\n    defaultDebugOption: {\n        isPrint: true,\n        moduleName: '.*',\n        onlySelf: false,\n        level: 'log',\n        debounce: 1000,\n        throttle: 1000,\n    },\n};\nlet onlySelfFlag = null;\n// 判断 生产环境\nconst isRelease = () => {\n    // TODO 添加线上环境日志配置修改\n    return process.env.NODE_ENV === 'production' && !debugConfig.enable;\n};\n// 过滤日志打印信息\nconst filterLog = (option) => {\n    const { level, moduleName, onlyLevel } = debugConfig;\n    // 打包环境不打印LOG\n    if (isRelease()) {\n        return false;\n    }\n    const allowedLevel = [];\n    if (onlyLevel) {\n        // 仅仅打印当前级别的LOG\n        allowedLevel.push(level);\n    }\n    else {\n        // ERROR > WARN > INFO > LOG\n        const allLevel = ['log', 'info', 'warn', 'error'];\n        const idx = allLevel.findIndex((l) => l === level);\n        allowedLevel.push(...allLevel.slice(idx));\n    }\n    // 过滤不同级别的 LOG\n    if (!allowedLevel.find((l) => l === option.level)) {\n        return false;\n    }\n    // 根据传入的 moduleName 过滤 日志\n    if (!moduleName || !new RegExp(moduleName).test(option.moduleName)) {\n        return false;\n    }\n    return true;\n};\nexport class Logger {\n    log(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'log', moduleName }, loggerDetail);\n    }\n    info(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'info', moduleName }, loggerDetail);\n    }\n    warn(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'warn', moduleName }, loggerDetail);\n    }\n    error(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'error', moduleName }, loggerDetail);\n    }\n    getLogger(moduleName, option = {}) {\n        const debugOption = Object.assign(Object.assign({}, option), { moduleName });\n        return {\n            time: (label, timeFn) => this.time(label, timeFn, debugOption),\n            if: (isPrint) => this.getLogger(moduleName, Object.assign(Object.assign({}, option), { isPrint })),\n            debounce: debounce((callback) => callback(), 1000),\n            throttle: throttle((callback) => callback(), 1000),\n            log: (...logDetail) => this.signedLogger('log', debugOption, logDetail),\n            info: (...logDetail) => this.signedLogger('info', debugOption, logDetail),\n            warn: (...logDetail) => this.signedLogger('warn', debugOption, logDetail),\n            error: (...logDetail) => this.signedLogger('error', debugOption, logDetail),\n        };\n    }\n    // TODO: 同步 timeFn 比较鸡肋,换成异步时间打印\n    time(label, timeFn, debugOption) {\n        const start = Date.now();\n        const result = timeFn();\n        const end = Date.now();\n        this.debugLogger.call(null, debugOption, [`${label || 'time'}: ${end - start}ms`, result]);\n        return result;\n    }\n    debugLogger(option, loggerDetail) {\n        // 打包环境不打印日志\n        if (isRelease()) {\n            return;\n        }\n        const debugOption = Object.assign(Object.assign({}, debugConfig.defaultDebugOption), option);\n        const { moduleName, level, onlySelf } = debugOption;\n        onlySelfFlag = null;\n        // onlySelf 为 bool值时 设置 onlySelfFlag\n        if (typeof onlySelf === 'boolean') {\n            onlySelfFlag = onlySelf;\n        }\n        // onlySelfFlag === true && onlySelf === true  时直接打印\n        // 否则 需要校验 moduleName 与 level 级别\n        if ((!onlySelfFlag || !onlySelf) && !filterLog({ level, moduleName })) {\n            return;\n        }\n        const now = new Date();\n        const logArgs = [\n            `[${now.getHours()}:${now.getMinutes()}:${now.getSeconds()} ${level.toUpperCase()} ${moduleName}] `,\n        ];\n        const log = Function.prototype.bind.call(console[level] || console.log, console);\n        log.apply(console, logArgs.concat(loggerDetail));\n        // console.log.call(null, ...logArgs.concat(...loggerDetail)) // 该方法不兼容IE9-IE11\n    }\n    signedLogger(level, option, loggerDetail) {\n        const { isPrint = true } = option;\n        if (!isPrint) {\n            return;\n        }\n        this.debugLogger.call(null, Object.assign(Object.assign({}, option), { level }), loggerDetail);\n    }\n}\nconst logger = new Logger();\n// 设置 日志 配置\nexport const setConfig = (conf) => {\n    debugConfig = Object.assign(Object.assign({}, debugConfig), conf);\n    // 打包环境不打印日志\n    if (isRelease()) {\n        return;\n    }\n    logger.info('lib:logger:config', debugConfig);\n};\nexport const initLogger = (loggerConf = {}) => {\n    const moduleName = getUrlParams('loggerModule') || (loggerConf === null || loggerConf === void 0 ? void 0 : loggerConf.moduleName) || '';\n    const loggerLevel = getUrlParams('loggerLevel') || (loggerConf === null || loggerConf === void 0 ? void 0 : loggerConf.level) || 'log';\n    const loggerConfig = defaults({\n        moduleName,\n        level: loggerLevel,\n        enable: !!moduleName,\n    }, loggerConf);\n    setConfig(loggerConfig);\n};\nexport default logger;\n"]}]}