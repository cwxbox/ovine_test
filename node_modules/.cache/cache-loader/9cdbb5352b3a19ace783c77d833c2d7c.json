{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\header.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\header.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIFRPRE86CiAqIDEuIOWwhumihOWFiOiuvue9rueahCBIZXJkZXJJdGVtIOmhue+8jOmDveaLhuS4uueLrOeri+e7hOS7tu+8jOWPr+S7peeLrOiHquaUvuS6juS7u+S9leWcsOaWuQogKi8KaW1wb3J0IHsgdXVpZCB9IGZyb20gJ2FtaXMvbGliL3V0aWxzL2hlbHBlcic7CmltcG9ydCB7IGdldCwgbWFwIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7CmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gIi4uLy4uL2NvbnN0YW50cyI7CmltcG9ydCB7IHB1Ymxpc2ggfSBmcm9tICIuLi8uLi91dGlscy9tZXNzYWdlIjsKaW1wb3J0IHsgQW1pcyB9IGZyb20gIi4uL2FtaXMvc2NoZW1hIjsKaW1wb3J0IEhlYWRJdGVtIGZyb20gIi4vaGVhZF9pdGVtIjsKaW1wb3J0IEl0ZW1Db2RlIGZyb20gIi4vaXRlbV9jb2RlIjsKaW1wb3J0IEl0ZW1TZWFyY2ggZnJvbSAiLi9pdGVtX3NlYXJjaCI7CmltcG9ydCBJdGVtU2V0dGluZyBmcm9tICIuL2l0ZW1fc2V0dGluZyI7CmV4cG9ydCBkZWZhdWx0IChwcm9wcyA9PiB7CiAgdmFyIHsKICAgIGFzaWRlRm9sZGVkLAogICAgd2l0aFJvdXRlVGFicywKICAgIHRoZW1lTnMsCiAgICBjaGlsZHJlbiwKICAgIGJyYW5kLAogICAgaXRlbXMgPSBbXQogIH0gPSBwcm9wczsKCiAgdmFyIHJlbmRlckJyYW5kID0gKCkgPT4gewogICAgdmFyIHsKICAgICAgbG9nbywKICAgICAgdGl0bGUsCiAgICAgIGxpbmssCiAgICAgIGNsYXNzTmFtZTogYnJhbmRDbHMgPSAnJwogICAgfSA9IGJyYW5kOwogICAgdmFyIHdyYXBwZXJDbHMgPSAiIi5jb25jYXQodGhlbWVOcywgIkxheW91dC1icmFuZCBuYXZiYXItYnJhbmQgdGV4dC1jZW50ZXIgIikuY29uY2F0KGJyYW5kQ2xzKTsKICAgIHZhciBjb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7CiAgICAgIGNsYXNzTmFtZTogIiBicmFuZC1sb2dvIiwKICAgICAgc3JjOiBsb2dvLAogICAgICBhbHQ6ICJsb2dvIgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICBjbGFzc05hbWU6ICJoaWRkZW4tZm9sZGVkIG0tbC1zbSAiCiAgICB9LCB0aXRsZSkpOwoKICAgIGlmICghbGluaykgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6IHdyYXBwZXJDbHMKICAgICAgfSwgY29udGVudCk7CiAgICB9CgogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHsKICAgICAgY2xhc3NOYW1lOiB3cmFwcGVyQ2xzLAogICAgICB0bzogbGluay5ocmVmLAogICAgICB0aXRsZTogbGluay50aXRsZQogICAgfSwgY29udGVudCk7CiAgfTsgLy8g55Sx5LqO5biD5bGAIHotaW5kZXgg5Yay56qB77yM5a+86Ie06I+c5Y2V5Zyo5pS257yp54q25oCB5LiL77yM5Lya6KKr5L6n6L655qCP5Zu+5qCH6YGu5oyhCgoKICB2YXIgcmVuZGVyQnJhbmRIb2xkZXIgPSAoKSA9PiB7CiAgICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZVBvcnRhbCggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAibmF2YmFyLWJyYW5kLWhvbGRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLCB7CiAgICAgIHNyYzogYnJhbmQgPT09IG51bGwgfHwgYnJhbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJyYW5kLmxvZ28sCiAgICAgIGFsdDogImxvZ28iCiAgICB9KSksICQoJyNhcHAtbGF5b3V0PmRpdicpLmdldCgwKSk7CiAgfTsKCiAgdmFyIHJlbmRlckZvbGRJdGVtID0gKCkgPT4gewogICAgdmFyIGFzaWRlSXRlbVByb3BzID0gewogICAgICBmYUljb246IGFzaWRlRm9sZGVkID8gJ2luZGVudCcgOiAnZGVkZW50JywKICAgICAgdGlwOiAiIi5jb25jYXQoYXNpZGVGb2xkZWQgPyAn5bGV5byAJyA6ICfmlLbotbcnLCAiXHU0RkE3XHU4RkI5XHU2ODBGIiksCiAgICAgIG9uQ2xpY2s6ICgpID0+IHB1Ymxpc2gobWVzc2FnZS5hc2lkZUxheW91dEN0cmwubXNnLCB7CiAgICAgICAga2V5OiBtZXNzYWdlLmFzaWRlTGF5b3V0Q3RybC50b2dnbGVGb2xkCiAgICAgIH0pCiAgICB9OwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRJdGVtLCB7CiAgICAgIGl0ZW1Qcm9wczogYXNpZGVJdGVtUHJvcHMKICAgIH0pOwogIH07CgogIHZhciBoZWFkZXJJdGVtcyA9IHVzZU1lbW8oKCkgPT4gewogICAgdmFyIGl0ZW1zU2NoZW1hID0gewogICAgICB0eXBlOiAncGFnZScsCiAgICAgIHJvbGU6ICdoZWFkZXInLAogICAgICBib2R5OiB7CiAgICAgICAgdHlwZTogJ3dyYXBwZXInLAogICAgICAgIGNvbXBvbmVudDogcmVuZGVyUHJvcHMgPT4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZEl0ZW1zLCBPYmplY3QuYXNzaWduKHsKICAgICAgICAgIHJlbmRlckZvbGRJdGVtOiByZW5kZXJGb2xkSXRlbSwKICAgICAgICAgIGl0ZW1zOiBpdGVtcwogICAgICAgIH0sIHJlbmRlclByb3BzKSkKICAgICAgfQogICAgfTsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbWlzLCB7CiAgICAgIGtleTogdXVpZCgpLAogICAgICBzY2hlbWE6IGl0ZW1zU2NoZW1hCiAgICB9KTsKICB9LCBbaXRlbXMsIHRoZW1lTnNdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICIiLmNvbmNhdCh0aGVtZU5zLCAiTGF5b3V0LWJyYW5kQmFyIG5hdmJhci1kYXJrIikKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgewogICAgY2xhc3NOYW1lOiAibmF2YmFyLXRvZ2dsZXIgZC1ibG9jayBkLXNtLW5vbmUgZmxvYXQtcmlnaHQiLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICBvbkNsaWNrOiAoKSA9PiBwdWJsaXNoKG1lc3NhZ2UuYXNpZGVMYXlvdXRDdHJsLm1zZywgewogICAgICBrZXk6IG1lc3NhZ2UuYXNpZGVMYXlvdXRDdHJsLnRvZ2dsZVNjcmVlbgogICAgfSkKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgIGNsYXNzTmFtZTogIm5hdmJhci10b2dnbGVyLWljb24iCiAgfSkpLCB3aXRoUm91dGVUYWJzICYmIGJyYW5kICYmIGFzaWRlRm9sZGVkICYmIHJlbmRlckJyYW5kSG9sZGVyKCksIGJyYW5kICYmIHJlbmRlckJyYW5kKCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiIi5jb25jYXQodGhlbWVOcywgIkxheW91dC1oZWFkZXJCYXIgbmF2YmFyIG5hdmJhci1leHBhbmQtbWQiKQogIH0sIGhlYWRlckl0ZW1zLCBjaGlsZHJlbikpOwp9KTsKdmFyIHByZXNldENvbXBvbmVudHMgPSB7CiAgJ2hlYWQtaXRlbSc6IEhlYWRJdGVtLAogICdpdGVtLXNlYXJjaC1tZW51JzogSXRlbVNlYXJjaCwKICAnaXRlbS1zZXR0aW5nJzogSXRlbVNldHRpbmcsCiAgJ2l0ZW0tZGV2LWNvZGUnOiBJdGVtQ29kZQp9OwoKdmFyIEl0ZW1Db21wb25lbnQgPSBwcm9wcyA9PiB7CiAgdmFyIHsKICAgIHJlbmRlciwKICAgIGl0ZW0KICB9ID0gcHJvcHM7CgogIHZhciBnZXRQcmVzZXRDb21wb25lbnQgPSBpID0+IHsKICAgIHZhciBwcmVzZXQgPSBudWxsOwogICAgbWFwKHByZXNldENvbXBvbmVudHMsIChDb21wb25lbnQsIHR5cGUpID0+IHsKICAgICAgaWYgKGkgPT09IHR5cGUgfHwgZ2V0KGksICd0eXBlJykgPT09IHR5cGUpIHsKICAgICAgICBwcmVzZXQgPSByZW5kZXJQcm9wcyA9PiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIE9iamVjdC5hc3NpZ24oe30sIHJlbmRlclByb3BzLCB7CiAgICAgICAgICBpdGVtUHJvcHM6IGl0ZW0KICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHByZXNldDsKICB9OwoKICB2YXIgcHJlc2V0ID0gZ2V0UHJlc2V0Q29tcG9uZW50KGl0ZW0pOwoKICBpZiAoIXByZXNldCkgewogICAgcmV0dXJuIHJlbmRlcignYm9keScsIGl0ZW0pOwogIH0KCiAgcmV0dXJuIHJlbmRlcignYm9keScsIHsKICAgIHR5cGU6ICd3cmFwcGVyJywKICAgIGNvbXBvbmVudDogcHJlc2V0CiAgfSk7Cn07CgpmdW5jdGlvbiBIZWFkSXRlbXMocHJvcHMpIHsKICB2YXIgewogICAgaXRlbXM6IHByb3BJdGVtcywKICAgIHJlbmRlciwKICAgIHJlbmRlckZvbGRJdGVtCiAgfSA9IHByb3BzOwogIHZhciBpdGVtcyA9IHVzZU1lbW8oKCkgPT4gewogICAgdmFyIGxlZnRzID0gW107CiAgICB2YXIgcmlnaHRzID0gW107CiAgICBwcm9wSXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGdldChpdGVtLCAnYWxpZ24nKSA9PT0gJ3JpZ2h0JykgewogICAgICAgIHJpZ2h0cy5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGxlZnRzLnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgbGVmdHM6IGxlZnRzLm1hcCgoaXRlbSwgaW5kZXgpID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1Db21wb25lbnQsIHsKICAgICAgICBrZXk6IGluZGV4LAogICAgICAgIHJlbmRlcjogcmVuZGVyLAogICAgICAgIGl0ZW06IGl0ZW0KICAgICAgfSkpLAogICAgICByaWdodHM6IHJpZ2h0cy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJdGVtQ29tcG9uZW50LCB7CiAgICAgICAga2V5OiBpbmRleCwKICAgICAgICByZW5kZXI6IHJlbmRlciwKICAgICAgICBpdGVtOiBpdGVtCiAgICAgIH0pKQogICAgfTsKICB9LCBbcHJvcEl0ZW1zXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJjb2xsYXBzZSBuYXZiYXItY29sbGFwc2UiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogIm5hdmJhci1uYXYgbXItYXV0byIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiaGVhZC1pdGVtLWZvbGQgZC1mbGV4IgogIH0sIHJlbmRlckZvbGRJdGVtKCkpLCBpdGVtcy5sZWZ0cyksIGl0ZW1zLnJpZ2h0cyk7Cn0="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/aside_layout/header.js"],"names":["uuid","get","map","React","useMemo","createPortal","Link","message","publish","Amis","HeadItem","ItemCode","ItemSearch","ItemSetting","props","asideFolded","withRouteTabs","themeNs","children","brand","items","renderBrand","logo","title","link","className","brandCls","wrapperCls","content","createElement","Fragment","src","alt","to","href","renderBrandHolder","$","renderFoldItem","asideItemProps","faIcon","tip","onClick","asideLayoutCtrl","msg","key","toggleFold","itemProps","headerItems","itemsSchema","type","role","body","component","renderProps","HeadItems","Object","assign","schema","toggleScreen","presetComponents","ItemComponent","render","item","getPresetComponent","i","preset","Component","propItems","lefts","rights","forEach","push","index"],"mappings":"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","sourcesContent":["/**\n * TODO:\n * 1. 将预先设置的 HerderItem 项，都拆为独立组件，可以独自放于任何地方\n */\nimport { uuid } from 'amis/lib/utils/helper';\nimport { get, map } from 'lodash';\nimport React, { useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Link } from 'react-router-dom';\nimport { message } from \"../../constants\";\nimport { publish } from \"../../utils/message\";\nimport { Amis } from \"../amis/schema\";\nimport HeadItem from \"./head_item\";\nimport ItemCode from \"./item_code\";\nimport ItemSearch from \"./item_search\";\nimport ItemSetting from \"./item_setting\";\nexport default (props) => {\n    const { asideFolded, withRouteTabs, themeNs, children, brand, items = [] } = props;\n    const renderBrand = () => {\n        const { logo, title, link, className: brandCls = '' } = brand;\n        const wrapperCls = `${themeNs}Layout-brand navbar-brand text-center ${brandCls}`;\n        const content = (React.createElement(React.Fragment, null,\n            React.createElement(\"img\", { className: \" brand-logo\", src: logo, alt: \"logo\" }),\n            React.createElement(\"span\", { className: \"hidden-folded m-l-sm \" }, title)));\n        if (!link) {\n            return React.createElement(\"div\", { className: wrapperCls }, content);\n        }\n        return (React.createElement(Link, { className: wrapperCls, to: link.href, title: link.title }, content));\n    };\n    // 由于布局 z-index 冲突，导致菜单在收缩状态下，会被侧边栏图标遮挡\n    const renderBrandHolder = () => {\n        return createPortal(React.createElement(\"div\", { className: \"navbar-brand-holder\" },\n            React.createElement(\"img\", { src: brand === null || brand === void 0 ? void 0 : brand.logo, alt: \"logo\" })), $('#app-layout>div').get(0));\n    };\n    const renderFoldItem = () => {\n        const asideItemProps = {\n            faIcon: asideFolded ? 'indent' : 'dedent',\n            tip: `${asideFolded ? '展开' : '收起'}侧边栏`,\n            onClick: () => publish(message.asideLayoutCtrl.msg, {\n                key: message.asideLayoutCtrl.toggleFold,\n            }),\n        };\n        return React.createElement(HeadItem, { itemProps: asideItemProps });\n    };\n    const headerItems = useMemo(() => {\n        const itemsSchema = {\n            type: 'page',\n            role: 'header',\n            body: {\n                type: 'wrapper',\n                component: (renderProps) => (React.createElement(HeadItems, Object.assign({ renderFoldItem: renderFoldItem, items: items }, renderProps))),\n            },\n        };\n        return React.createElement(Amis, { key: uuid(), schema: itemsSchema });\n    }, [items, themeNs]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: `${themeNs}Layout-brandBar navbar-dark` },\n            React.createElement(\"button\", { className: \"navbar-toggler d-block d-sm-none float-right\", type: \"button\", onClick: () => publish(message.asideLayoutCtrl.msg, {\n                    key: message.asideLayoutCtrl.toggleScreen,\n                }) },\n                React.createElement(\"span\", { className: \"navbar-toggler-icon\" })),\n            withRouteTabs && brand && asideFolded && renderBrandHolder(),\n            brand && renderBrand()),\n        React.createElement(\"div\", { className: `${themeNs}Layout-headerBar navbar navbar-expand-md` },\n            headerItems,\n            children)));\n};\nconst presetComponents = {\n    'head-item': HeadItem,\n    'item-search-menu': ItemSearch,\n    'item-setting': ItemSetting,\n    'item-dev-code': ItemCode,\n};\nconst ItemComponent = (props) => {\n    const { render, item } = props;\n    const getPresetComponent = (i) => {\n        let preset = null;\n        map(presetComponents, (Component, type) => {\n            if (i === type || get(i, 'type') === type) {\n                preset = (renderProps) => React.createElement(Component, Object.assign({}, renderProps, { itemProps: item }));\n            }\n        });\n        return preset;\n    };\n    const preset = getPresetComponent(item);\n    if (!preset) {\n        return render('body', item);\n    }\n    return render('body', {\n        type: 'wrapper',\n        component: preset,\n    });\n};\nfunction HeadItems(props) {\n    const { items: propItems, render, renderFoldItem } = props;\n    const items = useMemo(() => {\n        const lefts = [];\n        const rights = [];\n        propItems.forEach((item) => {\n            if (get(item, 'align') === 'right') {\n                rights.push(item);\n            }\n            else {\n                lefts.push(item);\n            }\n        });\n        return {\n            lefts: lefts.map((item, index) => React.createElement(ItemComponent, { key: index, render: render, item: item })),\n            rights: rights.map((item, index) => (React.createElement(ItemComponent, { key: index, render: render, item: item }))),\n        };\n    }, [propItems]);\n    return (React.createElement(\"div\", { className: \"collapse navbar-collapse\" },\n        React.createElement(\"div\", { className: \"navbar-nav mr-auto\" },\n            React.createElement(\"div\", { className: \"head-item-fold d-flex\" }, renderFoldItem()),\n            items.lefts),\n        items.rights));\n}\n"]}]}