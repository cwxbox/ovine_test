{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_code.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\aside_layout\\item_code.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7CiAgdmFyIHQgPSB7fTsKCiAgZm9yICh2YXIgcCBpbiBzKSB7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdOwogIH0KCiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gImZ1bmN0aW9uIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgewogICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTsKICB9CiAgcmV0dXJuIHQ7Cn07Ci8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCgoKaW1wb3J0IHsgRHJhd2VyLCBTcGlubmVyIH0gZnJvbSAnYW1pcyc7CmltcG9ydCB7IEVkaXRvciwgdG9hc3QgfSBmcm9tICdhbWlzL2xpYi9jb21wb25lbnRzJzsKaW1wb3J0IHsgY2xvbmVEZWVwLCBpc09iamVjdCwgaXNGdW5jdGlvbiwgbWFwIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgYXBwIH0gZnJvbSAiLi4vLi4vYXBwIjsKaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gIi4uLy4uL2NvbnN0YW50cyI7CmltcG9ydCB7IGdldFJvdXRlQ29uZmlnIH0gZnJvbSAiLi4vLi4vcm91dGVzL2NvbmZpZyI7CmltcG9ydCB7IGdldEFwcExpbWl0cyB9IGZyb20gIi4uLy4uL3JvdXRlcy9saW1pdC9leHBvcnRzIjsKaW1wb3J0IHsgZ2V0R2xvYmFsLCBzZXRHbG9iYWwgfSBmcm9tICIuLi8uLi91dGlscy9zdG9yZSI7Cgp2YXIgX2RlZmF1bHQgPSBwcm9wcyA9PiB7CiAgdmFyIHsKICAgIHJlbmRlciwKICAgIHRoZW1lCiAgfSA9IHByb3BzOwogIHZhciBbc2hvdywgdG9nZ2xlXSA9IHVzZVN0YXRlKGZhbHNlKTsKICB2YXIgW2xvYWRpbmcsIHRvZ2dsZUxvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7CiAgdmFyIHN0b3JlUmVmID0gdXNlUmVmKHt9KTsKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0R2xvYmFsKHN0b3JhZ2UuZGV2LmNvZGUsIHsKICAgICAgZW5hYmxlOiB0cnVlCiAgICB9KTsKICB9LCBbXSk7CgogIHZhciB0b2dnbGVEcmF3ZXIgPSAoKSA9PiB0b2dnbGUodCA9PiAhdCk7CgogIHZhciBvbkVkaXRvck1vdW50ZWQgPSAoKSA9PiB7CiAgICBpZiAobG9hZGluZykgewogICAgICB0b2dnbGVMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICB2YXIgZ2V0Q29kZVN0cmluZyA9IHR5cGUgPT4gewogICAgdmFyIGpzb24gPSB7fTsKCiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAncGFnZSc6CiAgICAgICAgewogICAgICAgICAganNvbiA9IGdldEdsb2JhbChzdG9yYWdlLmRldi5jb2RlKSB8fCB7fTsKCiAgICAgICAgICBpZiAoIWpzb24uc2NoZW1hKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gLy8gcmVvcmRlciBqc29uU2NoZW1hIG91dHB1dAoKCiAgICAgICAgICB2YXIgX2EgPSBqc29uLnNjaGVtYSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgIGRlZmluaXRpb25zLAogICAgICAgICAgICBwcmVzZXQKICAgICAgICAgIH0gPSBfYSwKICAgICAgICAgICAgICByZXNldCA9IF9fcmVzdChfYSwgWyJkZWZpbml0aW9ucyIsICJwcmVzZXQiXSk7CgogICAgICAgICAganNvbi5zY2hlbWEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc2V0KSwgewogICAgICAgICAgICBkZWZpbml0aW9ucywKICAgICAgICAgICAgcHJlc2V0CiAgICAgICAgICB9KTsKICAgICAgICAgIHRyYW5zU2NoZW1hKGNsb25lRGVlcChqc29uLnNjaGVtYSkpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAncm91dGUnOgogICAgICAgIGpzb24gPSBnZXRSb3V0ZUNvbmZpZyh0cnVlKTsKICAgICAgICB0cmFuc1NjaGVtYShqc29uKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2xpbWl0JzoKICAgICAgICBqc29uID0gZ2V0QXBwTGltaXRzKCk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB2YXIganNvblN0ciA9IEpTT04uc3RyaW5naWZ5KGpzb24uc2NoZW1hIHx8IGpzb24pOwogICAgcmV0dXJuIGpzb25TdHI7CiAgfTsKCiAgdmFyIHZpZXdDb2RlID0gY29kZVR5cGUgPT4gewogICAgdmFyIGNvZGVTdHJpbmcgPSBnZXRDb2RlU3RyaW5nKGNvZGVUeXBlKTsKICAgIHN0b3JlUmVmLmN1cnJlbnQuY29kZVN0cmluZyA9IGNvZGVTdHJpbmc7CgogICAgaWYgKGNvZGVUeXBlID09PSAncGFnZScgJiYgIWNvZGVTdHJpbmcpIHsKICAgICAgdG9hc3QuaW5mbygn5b2T5YmN6aG16Z2i5peg5pWw5o2uJywgJ+ezu+e7n+aPkOekuicpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdG9nZ2xlRHJhd2VyKCk7CiAgfTsKCiAgdmFyIGRyb3BEb3duU2NoZW1hID0gewogICAgdHlwZTogJ2xpYi1kcm9wZG93bicsCiAgICBjbGFzc05hbWU6ICdsLWgtMScsCiAgICBib2R5OiB7CiAgICAgIHR5cGU6ICdidXR0b24nLAogICAgICBpY29uT25seTogdHJ1ZSwKICAgICAgaWNvbjogJ2ZhIGZhLWNvZGUnLAogICAgICBsZXZlbDogJ2JsYW5rJwogICAgfSwKICAgIGl0ZW1zOiBbewogICAgICB0eXBlOiAnYnV0dG9uJywKICAgICAgbGV2ZWw6ICdsaW5rJywKICAgICAgaWNvbjogJ2ZhIGZhLWZpbGUtY29kZS1vJywKICAgICAgbGFiZWw6ICfmnKzpobXpnaJKU09OJywKICAgICAgb25DbGljazogKCkgPT4gdmlld0NvZGUoJ3BhZ2UnKQogICAgfSwgewogICAgICB0eXBlOiAnYnV0dG9uJywKICAgICAgbGV2ZWw6ICdsaW5rJywKICAgICAgaWNvbjogJ2ZhIGZhLWNvZGUtZm9yaycsCiAgICAgIGxhYmVsOiAnQVBQ6Lev55Sx6YWN572uJywKICAgICAgb25DbGljazogKCkgPT4gdmlld0NvZGUoJ3JvdXRlJykKICAgIH0sIHsKICAgICAgdHlwZTogJ2J1dHRvbicsCiAgICAgIGxldmVsOiAnbGluaycsCiAgICAgIGljb246ICdmYSBmYS11bmxvY2snLAogICAgICBsYWJlbDogJ+W9k+WJjeaLpeacieadg+mZkCcsCiAgICAgIG9uQ2xpY2s6ICgpID0+IHZpZXdDb2RlKCdsaW1pdCcpCiAgICB9XQogIH07CgogIGlmIChhcHAuZW52LmlzUmVsZWFzZSkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERyYXdlciwgewogICAgY2xvc2VPbk91dHNpZGU6IHRydWUsCiAgICB0aGVtZTogdGhlbWUsCiAgICBzaXplOiAibGciLAogICAgb25IaWRlOiB0b2dnbGVEcmF3ZXIsCiAgICBzaG93OiBzaG93LAogICAgcG9zaXRpb246ICJsZWZ0IgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNwaW5uZXIsIHsKICAgIG92ZXJsYXk6IHRydWUsCiAgICBzaG93OiBzaG93ICYmIGxvYWRpbmcsCiAgICBzaXplOiAibGciCiAgfSksIHNob3cgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdG9yLCB7CiAgICBlZGl0b3JEaWRNb3VudDogb25FZGl0b3JNb3VudGVkLAogICAgb3B0aW9uczogewogICAgICByZWFkT25seTogdHJ1ZQogICAgfSwKICAgIGVkaXRvclRoZW1lOiB0aGVtZSA9PT0gJ2RhcmsnID8gJ3ZzLWRhcmsnIDogJ3ZzJywKICAgIGxhbmd1YWdlOiAianNvbiIsCiAgICB2YWx1ZTogc3RvcmVSZWYuY3VycmVudC5jb2RlU3RyaW5nCiAgfSkpLCByZW5kZXIoJ2JvZHknLCBkcm9wRG93blNjaGVtYSkpOwp9OwoKX19zaWduYXR1cmVfXyhfZGVmYXVsdCwgInVzZVN0YXRle1tzaG93LCB0b2dnbGVdKGZhbHNlKX1cbnVzZVN0YXRle1tsb2FkaW5nLCB0b2dnbGVMb2FkaW5nXSh0cnVlKX1cbnVzZVJlZntzdG9yZVJlZn1cbnVzZUVmZmVjdHt9Iik7CgpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmZ1bmN0aW9uIHRyYW5zU2NoZW1hKHNjaGVtYSkgewogIGlmICghaXNPYmplY3Qoc2NoZW1hKSkgewogICAgcmV0dXJuOwogIH0KCiAgbWFwKHNjaGVtYSwgKHZhbCwga2V5KSA9PiB7CiAgICBpZiAoaXNGdW5jdGlvbih2YWwpKSB7CiAgICAgIDsKICAgICAgc2NoZW1hW2tleV0gPSAnRnVuY3Rpb24gQm9keSc7CiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHsKICAgICAgdHJhbnNTY2hlbWEodmFsKTsKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX19yZXN0LCAiX19yZXN0IiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcY29tcG9uZW50c1xcYXNpZGVfbGF5b3V0XFxpdGVtX2NvZGUuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcih0cmFuc1NjaGVtYSwgInRyYW5zU2NoZW1hIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcY29tcG9uZW50c1xcYXNpZGVfbGF5b3V0XFxpdGVtX2NvZGUuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFxjb21wb25lbnRzXFxhc2lkZV9sYXlvdXRcXGl0ZW1fY29kZS5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/aside_layout/item_code.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Drawer","Spinner","Editor","toast","cloneDeep","isObject","isFunction","map","React","useState","useRef","useEffect","app","storage","getRouteConfig","getAppLimits","getGlobal","setGlobal","props","render","theme","show","toggle","loading","toggleLoading","storeRef","dev","code","enable","toggleDrawer","onEditorMounted","getCodeString","type","json","schema","_a","definitions","preset","reset","assign","transSchema","jsonStr","JSON","stringify","viewCode","codeType","codeString","current","info","dropDownSchema","className","body","iconOnly","icon","level","items","label","onClick","env","isRelease","createElement","Fragment","closeOnOutside","size","onHide","position","overlay","editorDidMount","options","readOnly","editorTheme","language","value","val","key"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable no-unused-vars */\nimport { Drawer, Spinner } from 'amis';\nimport { Editor, toast } from 'amis/lib/components';\nimport { cloneDeep, isObject, isFunction, map } from 'lodash';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { app } from \"../../app\";\nimport { storage } from \"../../constants\";\nimport { getRouteConfig } from \"../../routes/config\";\nimport { getAppLimits } from \"../../routes/limit/exports\";\nimport { getGlobal, setGlobal } from \"../../utils/store\";\nexport default (props) => {\n    const { render, theme } = props;\n    const [show, toggle] = useState(false);\n    const [loading, toggleLoading] = useState(true);\n    const storeRef = useRef({});\n    useEffect(() => {\n        setGlobal(storage.dev.code, { enable: true });\n    }, []);\n    const toggleDrawer = () => toggle((t) => !t);\n    const onEditorMounted = () => {\n        if (loading) {\n            toggleLoading(false);\n        }\n    };\n    const getCodeString = (type) => {\n        let json = {};\n        switch (type) {\n            case 'page': {\n                json = getGlobal(storage.dev.code) || {};\n                if (!json.schema) {\n                    return false;\n                }\n                // reorder jsonSchema output\n                const _a = json.schema, { definitions, preset } = _a, reset = __rest(_a, [\"definitions\", \"preset\"]);\n                json.schema = Object.assign(Object.assign({}, reset), { definitions, preset });\n                transSchema(cloneDeep(json.schema));\n                break;\n            }\n            case 'route':\n                json = getRouteConfig(true);\n                transSchema(json);\n                break;\n            case 'limit':\n                json = getAppLimits();\n                break;\n            default:\n                return false;\n        }\n        const jsonStr = JSON.stringify(json.schema || json);\n        return jsonStr;\n    };\n    const viewCode = (codeType) => {\n        const codeString = getCodeString(codeType);\n        storeRef.current.codeString = codeString;\n        if (codeType === 'page' && !codeString) {\n            toast.info('当前页面无数据', '系统提示');\n            return;\n        }\n        toggleDrawer();\n    };\n    const dropDownSchema = {\n        type: 'lib-dropdown',\n        className: 'l-h-1',\n        body: {\n            type: 'button',\n            iconOnly: true,\n            icon: 'fa fa-code',\n            level: 'blank',\n        },\n        items: [\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-file-code-o',\n                label: '本页面JSON',\n                onClick: () => viewCode('page'),\n            },\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-code-fork',\n                label: 'APP路由配置',\n                onClick: () => viewCode('route'),\n            },\n            {\n                type: 'button',\n                level: 'link',\n                icon: 'fa fa-unlock',\n                label: '当前拥有权限',\n                onClick: () => viewCode('limit'),\n            },\n        ],\n    };\n    if (app.env.isRelease) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Drawer, { closeOnOutside: true, theme: theme, size: \"lg\", onHide: toggleDrawer, show: show, position: \"left\" },\n            React.createElement(Spinner, { overlay: true, show: show && loading, size: \"lg\" }),\n            show && (React.createElement(Editor, { editorDidMount: onEditorMounted, options: { readOnly: true }, editorTheme: theme === 'dark' ? 'vs-dark' : 'vs', language: \"json\", value: storeRef.current.codeString }))),\n        render('body', dropDownSchema)));\n};\nfunction transSchema(schema) {\n    if (!isObject(schema)) {\n        return;\n    }\n    map(schema, (val, key) => {\n        if (isFunction(val)) {\n            ;\n            schema[key] = 'Function Body';\n        }\n        else if (isObject(val)) {\n            transSchema(val);\n        }\n    });\n}\n"]}]}