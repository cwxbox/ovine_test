{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\tool.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\tool.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7CiAgdmFyIHQgPSB7fTsKCiAgZm9yICh2YXIgcCBpbiBzKSB7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdOwogIH0KCiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gImZ1bmN0aW9uIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgewogICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTsKICB9CiAgcmV0dXJuIHQ7Cn07CgppbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgbWFwLCByYW5kb20sIGlzRnVuY3Rpb24sIHRyaW0gfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3FzJzsKaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHNlcmlhbGl6ZU9iamVjdCBmcm9tICIuLi9hc3NldHMvc2NyaXB0cy9zZXJpYWxpemUiOwppbXBvcnQgbG9nZ2VyIGZyb20gIi4vbG9nZ2VyIjsKLyoqCiAqIOS7juaVsOe7hOS4remaj+acuuaKveWPluS4gOS4qgogKiBAcGFyYW0gc291cmNlIOWPguaVsOaVsOe7hAogKi8KCmV4cG9ydCB2YXIgY2hvaWNlID0gc291cmNlID0+IHsKICByZXR1cm4gc291cmNlW3JhbmRvbShzb3VyY2UubGVuZ3RoKV07Cn07IC8vIOagoemqjOaYr+WQpui/h+acnwoKZXhwb3J0IGZ1bmN0aW9uIGlzRXhwaXJlZChleHBpcmVkVGltZSkgewogIHZhciBiYXNlVGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogRGF0ZS5ub3coKTsKCiAgaWYgKCFleHBpcmVkVGltZSkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICB2YXIgdGltZSA9IC9eXGQqJC8udGVzdCgiIi5jb25jYXQoZXhwaXJlZFRpbWUpKSA/IE51bWJlcihleHBpcmVkVGltZSkgOiBuZXcgRGF0ZShleHBpcmVkVGltZSkudmFsdWVPZigpOwogIHJldHVybiBiYXNlVGltZSAtIHRpbWUgPiAwOwp9Ci8qKgogKiDop6PmnpAgcXVlcnlzdHJpbmcg5Li6IGpzb24g5qC85byP5pWw5o2uCiAqIEBwYXJhbSBrZXkg6ZyA6KaB6I635Y+W55qE5pWw5o2uIGpzb25ba2V5XSwg5LiN5Lyg5Li65pW05LiqanNvbgogKiBAcGFyYW0gdXJsIOW+heino+aekOeahHVybCDpu5jorqTkuLpsb2NhdGlvbi5ocmVmCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldFVybFBhcmFtcyhrZXksIHVybCkgewogIHZhciBzdHIgPSB1cmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgdmFyIGlkeCA9IHN0ci5pbmRleE9mKCc/Jyk7CiAgdmFyIGhhc2hJZHggPSBzdHIuaW5kZXhPZignIycpOwoKICBpZiAoaWR4ID09PSAtMSkgewogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9CgogIHZhciB1cmxQYXJhbXMgPSBwYXJzZShzdHIuc3Vic3RyaW5nKGlkeCArIDEsIGhhc2hJZHggIT09IC0xID8gaGFzaElkeCA6IHVuZGVmaW5lZCkpIHx8IHt9OwoKICBpZiAoa2V5KSB7CiAgICByZXR1cm4gdXJsUGFyYW1zW2tleV0gfHwgdW5kZWZpbmVkOwogIH0KCiAgcmV0dXJuIHVybFBhcmFtczsKfQovKioKICog6YeN6K+V5byC5q2l5pON5L2cLCDkuLvopoHnlKjkuo7nvZHnu5zlvILluLjvvIzlr7zoh7Tmlofku7bmib7kuI3liLDmiqXplJkgbG9hZCBjaHVuayBlcnJvcgogKiBAcGFyYW0gcHJvbWlzZUZuIOmcgOimgeW8guatpeaTjeS9nOmDqOWIhgogKiBAcGFyYW0gcmV0cmllc0xlZnQg5pyA5aSa5bCd6K+V55qE5qyh5pWwLCDpu5jorqQ15qyhCiAqIEBwYXJhbSBpbnRlcnZhbCDph43or5Xpl7TpmpTvvIzpu5jorqTpl7TpmpQxLjXnp5IKICovCgpleHBvcnQgZnVuY3Rpb24gcmV0cnlQcm9taXNlKHByb21pc2VGbikgewogIHZhciByZXRyaWVzTGVmdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNTsKICB2YXIgaW50ZXJ2YWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE1MDA7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIHByb21pc2VGbigpLnRoZW4ocmVzb2x2ZSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAocmV0cmllc0xlZnQgPT09IDEpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICByZXRyeVByb21pc2UocHJvbWlzZUZuLCByZXRyaWVzTGVmdCAtIDEsIGludGVydmFsKS50aGVuKHJlc29sdmUsIHJlamVjdCk7CiAgICAgIH0sIGludGVydmFsKTsKICAgIH0pOwogIH0pOwp9Ci8qKgogKiDmmK/lkKbmmK/lrZDkuLIKICogQHBhcmFtIHNvdXJjZSDmqKHniYjlrZfnrKbkuLIKICogQHBhcmFtIGNoZWNrIOW+heajgOmqjOWtl+espuS4sgogKiBAcGFyYW0gcG9zIOmcgOimgeagoemqjOeahOWtkOS4suS9jee9rgogKi8KCmV4cG9ydCBmdW5jdGlvbiBpc1N1YlN0cihzb3VyY2UsIGNoZWNrLCBwb3MpIHsKICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHZhciBpbmRleCA9IHNvdXJjZS5pbmRleE9mKGNoZWNrKTsKICByZXR1cm4gdHlwZW9mIHBvcyA9PT0gJ3VuZGVmaW5lZCcgPyBpbmRleCA+IC0xIDogaW5kZXggPT09IHBvczsKfSAvLyBjbGFzc25hbWVzIOeugOWNleeJiO+8jOi2s+Wkn+eUqOS6hgoKZXhwb3J0IGZ1bmN0aW9uIGNscygpIHsKICB2YXIgc3RyID0gJyc7CgogIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICB9CgogIGFyZ3MuZm9yRWFjaChhcmcgPT4gewogICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7CiAgICAgIHN0ciArPSAiICIuY29uY2F0KGFyZyk7CiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoYXJnKSkgewogICAgICBhcmcuZm9yRWFjaChpID0+IHsKICAgICAgICBpZiAodHlwZW9mIGkgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBzdHIgKz0gIiAiLmNvbmNhdChpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChpc09iamVjdChhcmcpKSB7CiAgICAgIG1hcChhcmcsICh2YWwsIGtleSkgPT4gewogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHN0ciArPSAiICIuY29uY2F0KGtleSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKICByZXR1cm4gdHJpbShzdHIpOwp9IC8vIHRpbWVvdXQgcHJvbWlzZSDljJYKCmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlZFRpbWVvdXQobXMpIHsKICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgIH0sIG1zKTsKICB9KTsKfSAvLyBqc29u5riy5p+TUmVhY3Tnu4Tku7YKCmV4cG9ydCBmdW5jdGlvbiBqc29uMnJlYWN0RmFjdG9yeShtYXBwZXIpIHsKICByZXR1cm4gZnVuY3Rpb24gajJyKGVudHJ5U2NoZW1hKSB7CiAgICB2YXIgcmVuZGVyRWxlbWVudCA9IChzY2hlbWEsIGtleSkgPT4gewogICAgICBpZiAoc2NoZW1hID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc2NoZW1hID09PSAnbnVtYmVyJykgewogICAgICAgIHJldHVybiBzY2hlbWE7CiAgICAgIH0KCiAgICAgIHZhciB7CiAgICAgICAgdHlwZTogc2NoZW1hVHlwZSwKICAgICAgICBjaGlsZHJlbgogICAgICB9ID0gc2NoZW1hLAogICAgICAgICAgcHJvcHMgPSBfX3Jlc3Qoc2NoZW1hLCBbInR5cGUiLCAiY2hpbGRyZW4iXSk7CgogICAgICB2YXIgaGFzU2NoZW1hVHlwZSA9IHNjaGVtYVR5cGUgJiYgdHlwZW9mIHNjaGVtYVR5cGUgPT09ICdzdHJpbmcnICYmIHNjaGVtYVR5cGUudHJpbSgpICE9PSAnJzsKCiAgICAgIGlmICghaGFzU2NoZW1hVHlwZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignc2NoZW1hLnR5cGUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTsKICAgICAgfQoKICAgICAgdmFyIGNvbXBvbmVudENoaWxkcmVuID0gY2hpbGRyZW4gJiYgW10uY29uY2F0KGNoaWxkcmVuKS5tYXAocmVuZGVyRWxlbWVudCk7CiAgICAgIHZhciBjb21wb25lbnRUeXBlID0gaXNGdW5jdGlvbihtYXBwZXIpID8gbWFwcGVyKHNjaGVtYVR5cGUsIHByb3BzKSA6IG1hcHBlcltzY2hlbWFUeXBlXTsKCiAgICAgIGlmICghcHJvcHMua2V5KSB7CiAgICAgICAgcHJvcHMua2V5ID0ga2V5OwogICAgICB9CgogICAgICB2YXIgY3JlYXRlQXJncyA9IFtjb21wb25lbnRUeXBlIHx8IHNjaGVtYVR5cGUsIHByb3BzXS5jb25jYXQoY29tcG9uZW50Q2hpbGRyZW4pOwogICAgICByZXR1cm4gY3JlYXRlRWxlbWVudC5hcHBseShjcmVhdGVFbGVtZW50LCBjcmVhdGVBcmdzKTsKICAgIH07CgogICAgaWYgKGlzQXJyYXkoZW50cnlTY2hlbWEpKSB7CiAgICAgIHJldHVybiBlbnRyeVNjaGVtYS5tYXAocmVuZGVyRWxlbWVudCk7CiAgICB9CgogICAgcmV0dXJuIHJlbmRlckVsZW1lbnQ7CiAgfTsKfSAvLyDlvILmraXliqDovb3ohJrmnKwKCmV4cG9ydCBmdW5jdGlvbiBsb2FkU2NyaXB0QXN5bmMoc3JjKSB7CiAgdmFyIGFzeW5jID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgogICAgaWYgKGFzeW5jKSB7CiAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7CiAgICB9CgogICAgaWYgKCFzcmMuc3RhcnRzV2l0aCgnaHR0cCcpKSB7CiAgICAgIC8vIOebuOWvueagueebruW9leWcsOWdgAogICAgICBzY3JpcHQuc3JjID0gd2luZG93Lm9yaWdpbiArIHNyYy5zdWJzdHIoMSk7CiAgICB9IGVsc2UgewogICAgICBzY3JpcHQuc3JjID0gc3JjOwogICAgfQoKICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7CiAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICB9OwoKICAgIHNjcmlwdC5vbmVycm9yID0gZSA9PiB7CiAgICAgIHJlamVjdChlKTsKICAgIH07CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUoc291cmNlLCBvcHRpb24pIHsKICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KHNvdXJjZSwgb3B0aW9uKTsKfQpleHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemUoKSB7CiAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CgogIGlmICghc291cmNlKSB7CiAgICByZXR1cm4gc291cmNlOwogIH0KCiAgdHJ5IHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgcmV0dXJuIGV2YWwoIigiLmNvbmNhdChzb3VyY2UsICIpIikpOwogIH0gY2F0Y2ggKGVycikgewogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHJtVXJsUmVwZWF0U2xhbnQodXJsKSB7CiAgcmV0dXJuIHVybC5yZXBsYWNlKC9cL3syLH0vZywgJy8nKS5yZXBsYWNlKC8oaHR0cHM/KTpcLy9nLCAnJDE6Ly8nKTsKfSAvLyDlrZfnrKbkuLLovawgRnVuY3Rpb24KCmV4cG9ydCBmdW5jdGlvbiBzdHIyZnVuY3Rpb24obmFtZSwgY29udGVudCkgewogIHRyeSB7CiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgfQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgdmFyIGZ1bmMgPSBuZXcgRnVuY3Rpb24oLi4uYXJncywgY29udGVudCk7CiAgICByZXR1cm4gZnVuYzsKICB9IGNhdGNoIChlcnJvcikgewogICAgbG9nZ2VyLmdldExvZ2dlcignbGliOnRvb2w6c3RyMmZ1bmN0aW9uJykud2FybigiIi5jb25jYXQobmFtZSwgIiBcdThGNkMgRnVuY3Rpb24gXHU5NTE5XHU4QkVGIiksIGVycm9yKTsKICAgIHJldHVybiBudWxsOwogIH0KfQo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfX3Jlc3QsICJfX3Jlc3QiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcdG9vbC5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGNob2ljZSwgImNob2ljZSIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFx0b29sLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaXNFeHBpcmVkLCAiaXNFeHBpcmVkIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXHRvb2wuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihnZXRVcmxQYXJhbXMsICJnZXRVcmxQYXJhbXMiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcdG9vbC5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHJldHJ5UHJvbWlzZSwgInJldHJ5UHJvbWlzZSIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFx0b29sLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaXNTdWJTdHIsICJpc1N1YlN0ciIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFx0b29sLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoY2xzLCAiY2xzIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXHRvb2wuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihwcm9taXNlZFRpbWVvdXQsICJwcm9taXNlZFRpbWVvdXQiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcdG9vbC5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGpzb24ycmVhY3RGYWN0b3J5LCAianNvbjJyZWFjdEZhY3RvcnkiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcdG9vbC5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGxvYWRTY3JpcHRBc3luYywgImxvYWRTY3JpcHRBc3luYyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFx0b29sLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoc2VyaWFsaXplLCAic2VyaWFsaXplIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXHRvb2wuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihkZXNlcmlhbGl6ZSwgImRlc2VyaWFsaXplIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXHRvb2wuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihybVVybFJlcGVhdFNsYW50LCAicm1VcmxSZXBlYXRTbGFudCIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFx0b29sLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoc3RyMmZ1bmN0aW9uLCAic3RyMmZ1bmN0aW9uIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXHRvb2wuanMiKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/utils/tool.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","isArray","isObject","map","random","isFunction","trim","parse","createElement","serializeObject","logger","choice","source","isExpired","expiredTime","baseTime","Date","now","time","test","Number","valueOf","getUrlParams","key","url","str","window","location","href","idx","hashIdx","undefined","urlParams","substring","retryPromise","promiseFn","retriesLeft","interval","Promise","resolve","reject","then","catch","error","setTimeout","isSubStr","check","pos","index","cls","args","forEach","arg","val","promisedTimeout","ms","timer","clearTimeout","json2reactFactory","mapper","j2r","entrySchema","renderElement","schema","type","schemaType","children","props","hasSchemaType","Error","componentChildren","concat","componentType","createArgs","apply","loadScriptAsync","src","async","script","document","startsWith","origin","substr","onload","onerror","getElementsByTagName","appendChild","serialize","option","deserialize","eval","err","rmUrlRepeatSlant","replace","str2function","name","content","func","Function","getLogger","warn"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isArray, isObject, map, random, isFunction, trim } from 'lodash';\nimport { parse } from 'qs';\nimport { createElement } from 'react';\nimport serializeObject from \"../assets/scripts/serialize\";\nimport logger from \"./logger\";\n/**\n * 从数组中随机抽取一个\n * @param source 参数数组\n */\nexport const choice = (source) => {\n    return source[random(source.length)];\n};\n// 校验是否过期\nexport function isExpired(expiredTime, baseTime = Date.now()) {\n    if (!expiredTime) {\n        return true;\n    }\n    const time = /^\\d*$/.test(`${expiredTime}`)\n        ? Number(expiredTime)\n        : new Date(expiredTime).valueOf();\n    return baseTime - time > 0;\n}\n/**\n * 解析 querystring 为 json 格式数据\n * @param key 需要获取的数据 json[key], 不传为整个json\n * @param url 待解析的url 默认为location.href\n */\nexport function getUrlParams(key, url) {\n    const str = url || window.location.href;\n    const idx = str.indexOf('?');\n    const hashIdx = str.indexOf('#');\n    if (idx === -1) {\n        return undefined;\n    }\n    const urlParams = parse(str.substring(idx + 1, hashIdx !== -1 ? hashIdx : undefined)) || {};\n    if (key) {\n        return urlParams[key] || undefined;\n    }\n    return urlParams;\n}\n/**\n * 重试异步操作, 主要用于网络异常，导致文件找不到报错 load chunk error\n * @param promiseFn 需要异步操作部分\n * @param retriesLeft 最多尝试的次数, 默认5次\n * @param interval 重试间隔，默认间隔1.5秒\n */\nexport function retryPromise(promiseFn, retriesLeft = 5, interval = 1500) {\n    return new Promise((resolve, reject) => {\n        promiseFn()\n            .then(resolve)\n            .catch((error) => {\n            setTimeout(() => {\n                if (retriesLeft === 1) {\n                    reject(error);\n                    return;\n                }\n                retryPromise(promiseFn, retriesLeft - 1, interval).then(resolve, reject);\n            }, interval);\n        });\n    });\n}\n/**\n * 是否是子串\n * @param source 模版字符串\n * @param check 待检验字符串\n * @param pos 需要校验的子串位置\n */\nexport function isSubStr(source, check, pos) {\n    if (typeof source !== 'string') {\n        return false;\n    }\n    const index = source.indexOf(check);\n    return typeof pos === 'undefined' ? index > -1 : index === pos;\n}\n// classnames 简单版，足够用了\nexport function cls(...args) {\n    let str = '';\n    args.forEach((arg) => {\n        if (typeof arg === 'string') {\n            str += ` ${arg}`;\n        }\n        else if (isArray(arg)) {\n            arg.forEach((i) => {\n                if (typeof i === 'string') {\n                    str += ` ${i}`;\n                }\n            });\n        }\n        else if (isObject(arg)) {\n            map(arg, (val, key) => {\n                if (val) {\n                    str += ` ${key}`;\n                }\n            });\n        }\n    });\n    return trim(str);\n}\n// timeout promise 化\nexport function promisedTimeout(ms) {\n    return new Promise((resolve) => {\n        const timer = setTimeout(() => {\n            clearTimeout(timer);\n            resolve(true);\n        }, ms);\n    });\n}\n// json渲染React组件\nexport function json2reactFactory(mapper) {\n    return function j2r(entrySchema) {\n        const renderElement = (schema, key) => {\n            if (schema === null) {\n                return null;\n            }\n            if (typeof schema === 'string' || typeof schema === 'number') {\n                return schema;\n            }\n            const { type: schemaType, children } = schema, props = __rest(schema, [\"type\", \"children\"]);\n            const hasSchemaType = schemaType && typeof schemaType === 'string' && schemaType.trim() !== '';\n            if (!hasSchemaType) {\n                throw new Error('schema.type must be a non-empty string');\n            }\n            const componentChildren = children && [].concat(children).map(renderElement);\n            const componentType = isFunction(mapper) ? mapper(schemaType, props) : mapper[schemaType];\n            if (!props.key) {\n                props.key = key;\n            }\n            const createArgs = [componentType || schemaType, props].concat(componentChildren);\n            return createElement.apply(createElement, createArgs);\n        };\n        if (isArray(entrySchema)) {\n            return entrySchema.map(renderElement);\n        }\n        return renderElement;\n    };\n}\n// 异步加载脚本\nexport function loadScriptAsync(src, async = true) {\n    return new Promise(function (resolve, reject) {\n        const script = document.createElement('script');\n        if (async) {\n            script.async = true;\n        }\n        if (!src.startsWith('http')) {\n            // 相对根目录地址\n            script.src = window.origin + src.substr(1);\n        }\n        else {\n            script.src = src;\n        }\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = (e) => {\n            reject(e);\n        };\n        document.getElementsByTagName('head')[0].appendChild(script);\n    });\n}\nexport function serialize(source, option) {\n    return serializeObject(source, option);\n}\nexport function deserialize(source = '') {\n    if (!source) {\n        return source;\n    }\n    try {\n        // eslint-disable-next-line\n        return eval(`(${source})`);\n    }\n    catch (err) {\n        return undefined;\n    }\n}\nexport function rmUrlRepeatSlant(url) {\n    return url.replace(/\\/{2,}/g, '/').replace(/(https?):\\//g, '$1://');\n}\n// 字符串转 Function\nexport function str2function(name, content, ...args) {\n    try {\n        // eslint-disable-next-line\n        const func = new Function(...args, content);\n        return func;\n    }\n    catch (error) {\n        logger.getLogger('lib:tool:str2function').warn(`${name} 转 Function 错误`, error);\n        return null;\n    }\n}\n"]}]}