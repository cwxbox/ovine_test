{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--5-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\amis\\lib_limit_setting.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\components\\amis\\lib_limit_setting.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOadg+mZkOmFjee9rgogKi8KdmFyIF9fZGVjb3JhdGUgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHsKICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsCiAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLAogICAgICBkOwogIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09ICJmdW5jdGlvbiIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByOwogIH0KICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByOwp9OwoKaW1wb3J0IHsgUmVuZGVyZXIsIGZpbHRlciB9IGZyb20gJ2FtaXMnOwppbXBvcnQgeyBpc0VmZmVjdGl2ZUFwaSB9IGZyb20gJ2FtaXMvbGliL3V0aWxzL2FwaSc7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBMaW1pdFNldHRpbmcsIHsgTGltaXRTZXR0aW5nUHJvcHMsIEF1dGhMaW1pdERhdGEgfSBmcm9tICIuLi9saW1pdF9zZXR0aW5nIjsKdmFyIExpYkxpbWl0U2V0dGluZyA9IGNsYXNzIExpYkxpbWl0U2V0dGluZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7CiAgcmVuZGVyKCkgewogICAgdmFyIHsKICAgICAgYnV0dG9uID0ge30sCiAgICAgIG1vZGFsID0ge30sCiAgICAgIG5hbWUgPSAnbGltaXQnLAogICAgICBlbnYsCiAgICAgIGRhdGEsCiAgICAgIGluaXRBcGksCiAgICAgIGFwaSwKICAgICAgbWVzc2FnZXMsCiAgICAgIHNhdmVDb25maXJtVGV4dCwKICAgICAgdXNlQWxsTGltaXQsCiAgICAgIGdldExpbWl0LAogICAgICByZW5kZXIKICAgIH0gPSB0aGlzLnByb3BzOwogICAgdmFyIGFjdGlvblR5cGUgPSBidXR0b24uYWN0aW9uVHlwZSB8fCAnZGlhbG9nJzsKICAgIHZhciBidXR0b25Qcm9wcyA9IE9iamVjdC5hc3NpZ24oewogICAgICBhY3Rpb25UeXBlLAogICAgICB0eXBlOiAnYWN0aW9uJywKICAgICAgbGFiZWw6ICforr7nva7mnYPpmZAnCiAgICB9LCBidXR0b24pOwogICAgdmFyIG1vZGFsUHJvcHMgPSBPYmplY3QuYXNzaWduKHsKICAgICAgdGl0bGU6ICforr7nva7mnYPpmZAnLAogICAgICBzaXplOiAnbGcnLAogICAgICBzaG93Q2xvc2VCdXR0b246IGZhbHNlLAogICAgICBhY3Rpb25zOiBbXQogICAgfSwgbW9kYWwpOwogICAgdmFyIGxpbWl0Q29tcG9uZW50ID0gewogICAgICBjb21wb25lbnQ6IGFtaXNQcm9wcyA9PiB7CiAgICAgICAgdmFyIHsKICAgICAgICAgIGRhdGE6IGxpbWl0RGF0YQogICAgICAgIH0gPSBhbWlzUHJvcHM7CiAgICAgICAgdmFyIGluaXREYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkYXRhKSwgbGltaXREYXRhKTsKCiAgICAgICAgdmFyIG9uU2F2ZSA9IGF1dGhEYXRhID0+IHsKICAgICAgICAgIHZhciBmZXRjaERhdGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluaXREYXRhKSwgYXV0aERhdGEpOwoKICAgICAgICAgIGlmIChpc0VmZmVjdGl2ZUFwaShhcGksIGZldGNoRGF0YSkpIHsKICAgICAgICAgICAgZW52LmZldGNoZXIoYXBpLCBmZXRjaERhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB2YXIgewogICAgICAgICAgICAgICAgc3RhdHVzLAogICAgICAgICAgICAgICAgbXNnCiAgICAgICAgICAgICAgfSA9IHJlczsKICAgICAgICAgICAgICB2YXIgaGFzRXJyb3IgPSBzdGF0dXMgIT09IDA7CgogICAgICAgICAgICAgIGlmICghaGFzRXJyb3IpIHsKICAgICAgICAgICAgICAgIGVudi5ub3RpZnkoJ3N1Y2Nlc3MnLCAobWVzc2FnZXMgPT09IG51bGwgfHwgbWVzc2FnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lc3NhZ2VzLnNhdmVTdWNjZXNzKSB8fCAn5L+d5a2Y5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMucmVsb2FkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25RdWVyeSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbnYubm90aWZ5KCdlcnJvcicsIChtZXNzYWdlcyA9PT0gbnVsbCB8fCBtZXNzYWdlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVzc2FnZXMuc2F2ZUZhaWxlZCkgfHwgbXNnIHx8ICfkv53lrZjlpLHotKUnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBlbnYubm90aWZ5KCdlcnJvcicsIChtZXNzYWdlcyA9PT0gbnVsbCB8fCBtZXNzYWdlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVzc2FnZXMuc2F2ZUZhaWxlZCkgfHwgJ+S/neWtmOWksei0pScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblNhdmVDbGljaykgewogICAgICAgICAgICB0aGlzLnByb3BzLm9uU2F2ZUNsaWNrKGF1dGhEYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGltaXRTZXR0aW5nLCBPYmplY3QuYXNzaWduKHt9LCBhbWlzUHJvcHMsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxpbWl0LWRyYXdlci0iLmNvbmNhdChpc0VmZmVjdGl2ZUFwaShpbml0QXBpKSA/ICdzZXJ2aWNlJyA6ICdub3JtYWwnLCAiICIpLAogICAgICAgICAgbGltaXQ6IGdldExpbWl0ID8gZ2V0TGltaXQobGltaXREYXRhKSA6IGxpbWl0RGF0YVtuYW1lXSB8fCAnJywKICAgICAgICAgIHNhdmVDb25maXJtVGV4dDogZmlsdGVyKHNhdmVDb25maXJtVGV4dCwgaW5pdERhdGEpLAogICAgICAgICAgb25TYXZlQ2xpY2s6IG9uU2F2ZSwKICAgICAgICAgIHVzZUFsbExpbWl0OiB1c2VBbGxMaW1pdCwKICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLnByb3BzLm9uQ2FuY2VsQ2xpY2sKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH07CiAgICB2YXIgc2NoZW1hID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBidXR0b25Qcm9wcyksIHsKICAgICAgW2FjdGlvblR5cGVdOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1vZGFsUHJvcHMpLCB7CiAgICAgICAgYm9keTogIWlzRWZmZWN0aXZlQXBpKGluaXRBcGkpID8gbGltaXRDb21wb25lbnQgOiB7CiAgICAgICAgICB0eXBlOiAnc2VydmljZScsCiAgICAgICAgICBjbGFzc05hbWU6ICdoLWZ1bGwnLAogICAgICAgICAgbWVzc2FnZXM6IHsKICAgICAgICAgICAgZmV0Y2hGYWlsZWQ6IG1lc3NhZ2VzID09PSBudWxsIHx8IG1lc3NhZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXNzYWdlcy5pbml0RmFpbGVkCiAgICAgICAgICB9LAogICAgICAgICAgYXBpOiBpbml0QXBpLAogICAgICAgICAgYm9keTogbGltaXRDb21wb25lbnQKICAgICAgICB9CiAgICAgIH0pCiAgICB9KTsKICAgIHJldHVybiByZW5kZXIoJ2JvZHknLCBzY2hlbWEpOwogIH0KCn07CkxpYkxpbWl0U2V0dGluZyA9IF9fZGVjb3JhdGUoW1JlbmRlcmVyKHsKICB0ZXN0OiAvKF58XC8pbGliLWxpbWl0LXNldHRpbmckLywKICBuYW1lOiAnbGliLWxpbWl0LXNldHRpbmcnCn0pXSwgTGliTGltaXRTZXR0aW5nKTsKZXhwb3J0IHsgTGliTGltaXRTZXR0aW5nIH07"},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/components/amis/lib_limit_setting.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","Renderer","filter","isEffectiveApi","React","LimitSetting","LimitSettingProps","AuthLimitData","LibLimitSetting","Component","render","button","modal","name","env","data","initApi","api","messages","saveConfirmText","useAllLimit","getLimit","props","actionType","buttonProps","assign","type","label","modalProps","title","size","showCloseButton","actions","limitComponent","component","amisProps","limitData","initData","onSave","authData","fetchData","fetcher","then","res","status","msg","hasError","notify","saveSuccess","reload","onQuery","saveFailed","catch","onSaveClick","createElement","className","limit","onCancel","onCancelClick","schema","body","fetchFailed","initFailed","test"],"mappings":"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","sourcesContent":["/**\n * 权限配置\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Renderer, filter } from 'amis';\nimport { isEffectiveApi } from 'amis/lib/utils/api';\nimport React from 'react';\nimport LimitSetting, { LimitSettingProps, AuthLimitData } from \"../limit_setting\";\nlet LibLimitSetting = class LibLimitSetting extends React.Component {\n    render() {\n        const { button = {}, modal = {}, name = 'limit', env, data, initApi, api, messages, saveConfirmText, useAllLimit, getLimit, render, } = this.props;\n        const actionType = button.actionType || 'dialog';\n        const buttonProps = Object.assign({ actionType, type: 'action', label: '设置权限' }, button);\n        const modalProps = Object.assign({ title: '设置权限', size: 'lg', showCloseButton: false, actions: [] }, modal);\n        const limitComponent = {\n            component: (amisProps) => {\n                const { data: limitData } = amisProps;\n                const initData = Object.assign(Object.assign({}, data), limitData);\n                const onSave = (authData) => {\n                    const fetchData = Object.assign(Object.assign({}, initData), authData);\n                    if (isEffectiveApi(api, fetchData)) {\n                        env\n                            .fetcher(api, fetchData)\n                            .then((res) => {\n                            const { status, msg } = res;\n                            const hasError = status !== 0;\n                            if (!hasError) {\n                                env.notify('success', (messages === null || messages === void 0 ? void 0 : messages.saveSuccess) || '保存成功');\n                                if (this.props.reload) {\n                                    this.props.onQuery();\n                                }\n                            }\n                            else {\n                                env.notify('error', (messages === null || messages === void 0 ? void 0 : messages.saveFailed) || msg || '保存失败');\n                            }\n                        })\n                            .catch(() => {\n                            env.notify('error', (messages === null || messages === void 0 ? void 0 : messages.saveFailed) || '保存失败');\n                        });\n                    }\n                    if (this.props.onSaveClick) {\n                        this.props.onSaveClick(authData);\n                    }\n                };\n                return (React.createElement(LimitSetting, Object.assign({}, amisProps, { className: `limit-drawer-${isEffectiveApi(initApi) ? 'service' : 'normal'} `, limit: getLimit ? getLimit(limitData) : limitData[name] || '', saveConfirmText: filter(saveConfirmText, initData), onSaveClick: onSave, useAllLimit: useAllLimit, onCancel: this.props.onCancelClick })));\n            },\n        };\n        const schema = Object.assign(Object.assign({}, buttonProps), { [actionType]: Object.assign(Object.assign({}, modalProps), { body: !isEffectiveApi(initApi)\n                    ? limitComponent\n                    : {\n                        type: 'service',\n                        className: 'h-full',\n                        messages: {\n                            fetchFailed: messages === null || messages === void 0 ? void 0 : messages.initFailed,\n                        },\n                        api: initApi,\n                        body: limitComponent,\n                    } }) });\n        return render('body', schema);\n    }\n};\nLibLimitSetting = __decorate([\n    Renderer({\n        test: /(^|\\/)lib-limit-setting$/,\n        name: 'lib-limit-setting',\n    })\n], LibLimitSetting);\nexport { LibLimitSetting };\n"]}]}