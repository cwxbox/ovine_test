{"remainingRequest":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\logger.js","dependencies":[{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\@ovine\\core\\lib\\utils\\logger.js","mtime":1618319234665},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616400859944},{"path":"C:\\Users\\cwx\\Desktop\\editor-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1617798315061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qKgogKiBsb2dnZXLmqKHlnZcKICog6ZSZ6K+v77yM5byC5bi4562J5Zyw5pa56YO95bqU6L6T5YWl5pel5b+X77yM57uZ5Ye65o+Q56S6CiAqLwoKLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwppbXBvcnQgeyBkZWJvdW5jZSwgdGhyb3R0bGUsIGRlZmF1bHRzIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgZ2V0VXJsUGFyYW1zIH0gZnJvbSAiLi90b29sIjsgLy8g6buY6K6k5omA5pyJ5pel5b+X5Z2H5pi+56S6Cgp2YXIgZGVidWdDb25maWcgPSB7CiAgbGV2ZWw6ICdsb2cnLAogIG1vZHVsZU5hbWU6ICcnLAogIG9ubHlMZXZlbDogZmFsc2UsCiAgZW5hYmxlOiBmYWxzZSwKICBkZWZhdWx0RGVidWdPcHRpb246IHsKICAgIGlzUHJpbnQ6IHRydWUsCiAgICBtb2R1bGVOYW1lOiAnLionLAogICAgb25seVNlbGY6IGZhbHNlLAogICAgbGV2ZWw6ICdsb2cnLAogICAgZGVib3VuY2U6IDEwMDAsCiAgICB0aHJvdHRsZTogMTAwMAogIH0KfTsKdmFyIG9ubHlTZWxmRmxhZyA9IG51bGw7IC8vIOWIpOaWrSDnlJ/kuqfnjq/looMKCnZhciBpc1JlbGVhc2UgPSAoKSA9PiB7CiAgLy8gVE9ETyDmt7vliqDnur/kuIrnjq/looPml6Xlv5fphY3nva7kv67mlLkKICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyAmJiAhZGVidWdDb25maWcuZW5hYmxlOwp9OyAvLyDov4fmu6Tml6Xlv5fmiZPljbDkv6Hmga8KCgp2YXIgZmlsdGVyTG9nID0gb3B0aW9uID0+IHsKICB2YXIgewogICAgbGV2ZWwsCiAgICBtb2R1bGVOYW1lLAogICAgb25seUxldmVsCiAgfSA9IGRlYnVnQ29uZmlnOyAvLyDmiZPljIXnjq/looPkuI3miZPljbBMT0cKCiAgaWYgKGlzUmVsZWFzZSgpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICB2YXIgYWxsb3dlZExldmVsID0gW107CgogIGlmIChvbmx5TGV2ZWwpIHsKICAgIC8vIOS7heS7heaJk+WNsOW9k+WJjee6p+WIq+eahExPRwogICAgYWxsb3dlZExldmVsLnB1c2gobGV2ZWwpOwogIH0gZWxzZSB7CiAgICAvLyBFUlJPUiA+IFdBUk4gPiBJTkZPID4gTE9HCiAgICB2YXIgYWxsTGV2ZWwgPSBbJ2xvZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXTsKICAgIHZhciBpZHggPSBhbGxMZXZlbC5maW5kSW5kZXgobCA9PiBsID09PSBsZXZlbCk7CiAgICBhbGxvd2VkTGV2ZWwucHVzaCguLi5hbGxMZXZlbC5zbGljZShpZHgpKTsKICB9IC8vIOi/h+a7pOS4jeWQjOe6p+WIq+eahCBMT0cKCgogIGlmICghYWxsb3dlZExldmVsLmZpbmQobCA9PiBsID09PSBvcHRpb24ubGV2ZWwpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfSAvLyDmoLnmja7kvKDlhaXnmoQgbW9kdWxlTmFtZSDov4fmu6Qg5pel5b+XCgoKICBpZiAoIW1vZHVsZU5hbWUgfHwgIW5ldyBSZWdFeHAobW9kdWxlTmFtZSkudGVzdChvcHRpb24ubW9kdWxlTmFtZSkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHJldHVybiB0cnVlOwp9OwoKZXhwb3J0IGNsYXNzIExvZ2dlciB7CiAgbG9nKG1vZHVsZU5hbWUpIHsKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dnZXJEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBsb2dnZXJEZXRhaWxbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIHRoaXMuZGVidWdMb2dnZXIoewogICAgICBsZXZlbDogJ2xvZycsCiAgICAgIG1vZHVsZU5hbWUKICAgIH0sIGxvZ2dlckRldGFpbCk7CiAgfQoKICBpbmZvKG1vZHVsZU5hbWUpIHsKICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgbG9nZ2VyRGV0YWlsID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgbG9nZ2VyRGV0YWlsW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgfQoKICAgIHRoaXMuZGVidWdMb2dnZXIoewogICAgICBsZXZlbDogJ2luZm8nLAogICAgICBtb2R1bGVOYW1lCiAgICB9LCBsb2dnZXJEZXRhaWwpOwogIH0KCiAgd2Fybihtb2R1bGVOYW1lKSB7CiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGxvZ2dlckRldGFpbCA9IG5ldyBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7CiAgICAgIGxvZ2dlckRldGFpbFtfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTsKICAgIH0KCiAgICB0aGlzLmRlYnVnTG9nZ2VyKHsKICAgICAgbGV2ZWw6ICd3YXJuJywKICAgICAgbW9kdWxlTmFtZQogICAgfSwgbG9nZ2VyRGV0YWlsKTsKICB9CgogIGVycm9yKG1vZHVsZU5hbWUpIHsKICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgbG9nZ2VyRGV0YWlsID0gbmV3IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHsKICAgICAgbG9nZ2VyRGV0YWlsW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdOwogICAgfQoKICAgIHRoaXMuZGVidWdMb2dnZXIoewogICAgICBsZXZlbDogJ2Vycm9yJywKICAgICAgbW9kdWxlTmFtZQogICAgfSwgbG9nZ2VyRGV0YWlsKTsKICB9CgogIGdldExvZ2dlcihtb2R1bGVOYW1lKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBvcHRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgdmFyIGRlYnVnT3B0aW9uID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb24pLCB7CiAgICAgIG1vZHVsZU5hbWUKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgdGltZTogKGxhYmVsLCB0aW1lRm4pID0+IHRoaXMudGltZShsYWJlbCwgdGltZUZuLCBkZWJ1Z09wdGlvbiksCiAgICAgIGlmOiBpc1ByaW50ID0+IHRoaXMuZ2V0TG9nZ2VyKG1vZHVsZU5hbWUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uKSwgewogICAgICAgIGlzUHJpbnQKICAgICAgfSkpLAogICAgICBkZWJvdW5jZTogZGVib3VuY2UoY2FsbGJhY2sgPT4gY2FsbGJhY2soKSwgMTAwMCksCiAgICAgIHRocm90dGxlOiB0aHJvdHRsZShjYWxsYmFjayA9PiBjYWxsYmFjaygpLCAxMDAwKSwKICAgICAgbG9nOiBmdW5jdGlvbiBsb2coKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHsKICAgICAgICAgIGxvZ0RldGFpbFtfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF90aGlzLnNpZ25lZExvZ2dlcignbG9nJywgZGVidWdPcHRpb24sIGxvZ0RldGFpbCk7CiAgICAgIH0sCiAgICAgIGluZm86IGZ1bmN0aW9uIGluZm8oKSB7CiAgICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBsb2dEZXRhaWwgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHsKICAgICAgICAgIGxvZ0RldGFpbFtfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF90aGlzLnNpZ25lZExvZ2dlcignaW5mbycsIGRlYnVnT3B0aW9uLCBsb2dEZXRhaWwpOwogICAgICB9LAogICAgICB3YXJuOiBmdW5jdGlvbiB3YXJuKCkgewogICAgICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgbG9nRGV0YWlsID0gbmV3IEFycmF5KF9sZW43KSwgX2tleTcgPSAwOyBfa2V5NyA8IF9sZW43OyBfa2V5NysrKSB7CiAgICAgICAgICBsb2dEZXRhaWxbX2tleTddID0gYXJndW1lbnRzW19rZXk3XTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfdGhpcy5zaWduZWRMb2dnZXIoJ3dhcm4nLCBkZWJ1Z09wdGlvbiwgbG9nRGV0YWlsKTsKICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkgewogICAgICAgIGZvciAodmFyIF9sZW44ID0gYXJndW1lbnRzLmxlbmd0aCwgbG9nRGV0YWlsID0gbmV3IEFycmF5KF9sZW44KSwgX2tleTggPSAwOyBfa2V5OCA8IF9sZW44OyBfa2V5OCsrKSB7CiAgICAgICAgICBsb2dEZXRhaWxbX2tleThdID0gYXJndW1lbnRzW19rZXk4XTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfdGhpcy5zaWduZWRMb2dnZXIoJ2Vycm9yJywgZGVidWdPcHRpb24sIGxvZ0RldGFpbCk7CiAgICAgIH0KICAgIH07CiAgfSAvLyBUT0RPOiDlkIzmraUgdGltZUZuIOavlOi+g+m4oeiCiyzmjaLmiJDlvILmraXml7bpl7TmiZPljbAKCgogIHRpbWUobGFiZWwsIHRpbWVGbiwgZGVidWdPcHRpb24pIHsKICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7CiAgICB2YXIgcmVzdWx0ID0gdGltZUZuKCk7CiAgICB2YXIgZW5kID0gRGF0ZS5ub3coKTsKICAgIHRoaXMuZGVidWdMb2dnZXIuY2FsbChudWxsLCBkZWJ1Z09wdGlvbiwgWyIiLmNvbmNhdChsYWJlbCB8fCAndGltZScsICI6ICIpLmNvbmNhdChlbmQgLSBzdGFydCwgIm1zIiksIHJlc3VsdF0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGRlYnVnTG9nZ2VyKG9wdGlvbiwgbG9nZ2VyRGV0YWlsKSB7CiAgICAvLyDmiZPljIXnjq/looPkuI3miZPljbDml6Xlv5cKICAgIGlmIChpc1JlbGVhc2UoKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGRlYnVnT3B0aW9uID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWJ1Z0NvbmZpZy5kZWZhdWx0RGVidWdPcHRpb24pLCBvcHRpb24pOwogICAgdmFyIHsKICAgICAgbW9kdWxlTmFtZSwKICAgICAgbGV2ZWwsCiAgICAgIG9ubHlTZWxmCiAgICB9ID0gZGVidWdPcHRpb247CiAgICBvbmx5U2VsZkZsYWcgPSBudWxsOyAvLyBvbmx5U2VsZiDkuLogYm9vbOWAvOaXtiDorr7nva4gb25seVNlbGZGbGFnCgogICAgaWYgKHR5cGVvZiBvbmx5U2VsZiA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIG9ubHlTZWxmRmxhZyA9IG9ubHlTZWxmOwogICAgfSAvLyBvbmx5U2VsZkZsYWcgPT09IHRydWUgJiYgb25seVNlbGYgPT09IHRydWUgIOaXtuebtOaOpeaJk+WNsAogICAgLy8g5ZCm5YiZIOmcgOimgeagoemqjCBtb2R1bGVOYW1lIOS4jiBsZXZlbCDnuqfliKsKCgogICAgaWYgKCghb25seVNlbGZGbGFnIHx8ICFvbmx5U2VsZikgJiYgIWZpbHRlckxvZyh7CiAgICAgIGxldmVsLAogICAgICBtb2R1bGVOYW1lCiAgICB9KSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICB2YXIgbG9nQXJncyA9IFsiWyIuY29uY2F0KG5vdy5nZXRIb3VycygpLCAiOiIpLmNvbmNhdChub3cuZ2V0TWludXRlcygpLCAiOiIpLmNvbmNhdChub3cuZ2V0U2Vjb25kcygpLCAiICIpLmNvbmNhdChsZXZlbC50b1VwcGVyQ2FzZSgpLCAiICIpLmNvbmNhdChtb2R1bGVOYW1lLCAiXSAiKV07CiAgICB2YXIgbG9nID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlW2xldmVsXSB8fCBjb25zb2xlLmxvZywgY29uc29sZSk7CiAgICBsb2cuYXBwbHkoY29uc29sZSwgbG9nQXJncy5jb25jYXQobG9nZ2VyRGV0YWlsKSk7IC8vIGNvbnNvbGUubG9nLmNhbGwobnVsbCwgLi4ubG9nQXJncy5jb25jYXQoLi4ubG9nZ2VyRGV0YWlsKSkgLy8g6K+l5pa55rOV5LiN5YW85a65SUU5LUlFMTEKICB9CgogIHNpZ25lZExvZ2dlcihsZXZlbCwgb3B0aW9uLCBsb2dnZXJEZXRhaWwpIHsKICAgIHZhciB7CiAgICAgIGlzUHJpbnQgPSB0cnVlCiAgICB9ID0gb3B0aW9uOwoKICAgIGlmICghaXNQcmludCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5kZWJ1Z0xvZ2dlci5jYWxsKG51bGwsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uKSwgewogICAgICBsZXZlbAogICAgfSksIGxvZ2dlckRldGFpbCk7CiAgfQoKICAvLyBAdHMtaWdub3JlCiAgX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwoa2V5LCBjb2RlKSB7CiAgICAvLyBAdHMtaWdub3JlCiAgICB0aGlzW2tleV0gPSBldmFsKGNvZGUpOwogIH0KCn0KdmFyIGxvZ2dlciA9IG5ldyBMb2dnZXIoKTsgLy8g6K6+572uIOaXpeW/lyDphY3nva4KCmV4cG9ydCB2YXIgc2V0Q29uZmlnID0gY29uZiA9PiB7CiAgZGVidWdDb25maWcgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlYnVnQ29uZmlnKSwgY29uZik7IC8vIOaJk+WMheeOr+Wig+S4jeaJk+WNsOaXpeW/lwoKICBpZiAoaXNSZWxlYXNlKCkpIHsKICAgIHJldHVybjsKICB9CgogIGxvZ2dlci5pbmZvKCdsaWI6bG9nZ2VyOmNvbmZpZycsIGRlYnVnQ29uZmlnKTsKfTsKZXhwb3J0IHZhciBpbml0TG9nZ2VyID0gZnVuY3Rpb24gaW5pdExvZ2dlcigpIHsKICB2YXIgbG9nZ2VyQ29uZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIG1vZHVsZU5hbWUgPSBnZXRVcmxQYXJhbXMoJ2xvZ2dlck1vZHVsZScpIHx8IChsb2dnZXJDb25mID09PSBudWxsIHx8IGxvZ2dlckNvbmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvZ2dlckNvbmYubW9kdWxlTmFtZSkgfHwgJyc7CiAgdmFyIGxvZ2dlckxldmVsID0gZ2V0VXJsUGFyYW1zKCdsb2dnZXJMZXZlbCcpIHx8IChsb2dnZXJDb25mID09PSBudWxsIHx8IGxvZ2dlckNvbmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvZ2dlckNvbmYubGV2ZWwpIHx8ICdsb2cnOwogIHZhciBsb2dnZXJDb25maWcgPSBkZWZhdWx0cyh7CiAgICBtb2R1bGVOYW1lLAogICAgbGV2ZWw6IGxvZ2dlckxldmVsLAogICAgZW5hYmxlOiAhIW1vZHVsZU5hbWUKICB9LCBsb2dnZXJDb25mKTsKICBzZXRDb25maWcobG9nZ2VyQ29uZmlnKTsKfTsKdmFyIF9kZWZhdWx0ID0gbG9nZ2VyOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoZGVidWdDb25maWcsICJkZWJ1Z0NvbmZpZyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFxsb2dnZXIuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihvbmx5U2VsZkZsYWcsICJvbmx5U2VsZkZsYWciLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcbG9nZ2VyLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoaXNSZWxlYXNlLCAiaXNSZWxlYXNlIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXGxvZ2dlci5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGZpbHRlckxvZywgImZpbHRlckxvZyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFxsb2dnZXIuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihMb2dnZXIsICJMb2dnZXIiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcbG9nZ2VyLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIobG9nZ2VyLCAibG9nZ2VyIiwgIkM6XFxVc2Vyc1xcY3d4XFxEZXNrdG9wXFxlZGl0b3ItZGVtb1xcbm9kZV9tb2R1bGVzXFxAb3ZpbmVcXGNvcmVcXGxpYlxcdXRpbHNcXGxvZ2dlci5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHNldENvbmZpZywgInNldENvbmZpZyIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFxsb2dnZXIuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3Rlcihpbml0TG9nZ2VyLCAiaW5pdExvZ2dlciIsICJDOlxcVXNlcnNcXGN3eFxcRGVza3RvcFxcZWRpdG9yLWRlbW9cXG5vZGVfbW9kdWxlc1xcQG92aW5lXFxjb3JlXFxsaWJcXHV0aWxzXFxsb2dnZXIuanMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiQzpcXFVzZXJzXFxjd3hcXERlc2t0b3BcXGVkaXRvci1kZW1vXFxub2RlX21vZHVsZXNcXEBvdmluZVxcY29yZVxcbGliXFx1dGlsc1xcbG9nZ2VyLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["C:/Users/cwx/Desktop/editor-demo/node_modules/@ovine/core/lib/utils/logger.js"],"names":["debounce","throttle","defaults","getUrlParams","debugConfig","level","moduleName","onlyLevel","enable","defaultDebugOption","isPrint","onlySelf","onlySelfFlag","isRelease","process","env","NODE_ENV","filterLog","option","allowedLevel","push","allLevel","idx","findIndex","l","slice","find","RegExp","test","Logger","log","loggerDetail","debugLogger","info","warn","error","getLogger","debugOption","Object","assign","time","label","timeFn","if","callback","logDetail","signedLogger","start","Date","now","result","end","call","logArgs","getHours","getMinutes","getSeconds","toUpperCase","Function","prototype","bind","console","apply","concat","logger","setConfig","conf","initLogger","loggerConf","loggerLevel","loggerConfig"],"mappings":"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","sourcesContent":["/**\n * logger模块\n * 错误，异常等地方都应输入日志，给出提示\n */\n/* eslint-disable no-console */\nimport { debounce, throttle, defaults } from 'lodash';\nimport { getUrlParams } from \"./tool\";\n// 默认所有日志均显示\nlet debugConfig = {\n    level: 'log',\n    moduleName: '',\n    onlyLevel: false,\n    enable: false,\n    defaultDebugOption: {\n        isPrint: true,\n        moduleName: '.*',\n        onlySelf: false,\n        level: 'log',\n        debounce: 1000,\n        throttle: 1000,\n    },\n};\nlet onlySelfFlag = null;\n// 判断 生产环境\nconst isRelease = () => {\n    // TODO 添加线上环境日志配置修改\n    return process.env.NODE_ENV === 'production' && !debugConfig.enable;\n};\n// 过滤日志打印信息\nconst filterLog = (option) => {\n    const { level, moduleName, onlyLevel } = debugConfig;\n    // 打包环境不打印LOG\n    if (isRelease()) {\n        return false;\n    }\n    const allowedLevel = [];\n    if (onlyLevel) {\n        // 仅仅打印当前级别的LOG\n        allowedLevel.push(level);\n    }\n    else {\n        // ERROR > WARN > INFO > LOG\n        const allLevel = ['log', 'info', 'warn', 'error'];\n        const idx = allLevel.findIndex((l) => l === level);\n        allowedLevel.push(...allLevel.slice(idx));\n    }\n    // 过滤不同级别的 LOG\n    if (!allowedLevel.find((l) => l === option.level)) {\n        return false;\n    }\n    // 根据传入的 moduleName 过滤 日志\n    if (!moduleName || !new RegExp(moduleName).test(option.moduleName)) {\n        return false;\n    }\n    return true;\n};\nexport class Logger {\n    log(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'log', moduleName }, loggerDetail);\n    }\n    info(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'info', moduleName }, loggerDetail);\n    }\n    warn(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'warn', moduleName }, loggerDetail);\n    }\n    error(moduleName, ...loggerDetail) {\n        this.debugLogger({ level: 'error', moduleName }, loggerDetail);\n    }\n    getLogger(moduleName, option = {}) {\n        const debugOption = Object.assign(Object.assign({}, option), { moduleName });\n        return {\n            time: (label, timeFn) => this.time(label, timeFn, debugOption),\n            if: (isPrint) => this.getLogger(moduleName, Object.assign(Object.assign({}, option), { isPrint })),\n            debounce: debounce((callback) => callback(), 1000),\n            throttle: throttle((callback) => callback(), 1000),\n            log: (...logDetail) => this.signedLogger('log', debugOption, logDetail),\n            info: (...logDetail) => this.signedLogger('info', debugOption, logDetail),\n            warn: (...logDetail) => this.signedLogger('warn', debugOption, logDetail),\n            error: (...logDetail) => this.signedLogger('error', debugOption, logDetail),\n        };\n    }\n    // TODO: 同步 timeFn 比较鸡肋,换成异步时间打印\n    time(label, timeFn, debugOption) {\n        const start = Date.now();\n        const result = timeFn();\n        const end = Date.now();\n        this.debugLogger.call(null, debugOption, [`${label || 'time'}: ${end - start}ms`, result]);\n        return result;\n    }\n    debugLogger(option, loggerDetail) {\n        // 打包环境不打印日志\n        if (isRelease()) {\n            return;\n        }\n        const debugOption = Object.assign(Object.assign({}, debugConfig.defaultDebugOption), option);\n        const { moduleName, level, onlySelf } = debugOption;\n        onlySelfFlag = null;\n        // onlySelf 为 bool值时 设置 onlySelfFlag\n        if (typeof onlySelf === 'boolean') {\n            onlySelfFlag = onlySelf;\n        }\n        // onlySelfFlag === true && onlySelf === true  时直接打印\n        // 否则 需要校验 moduleName 与 level 级别\n        if ((!onlySelfFlag || !onlySelf) && !filterLog({ level, moduleName })) {\n            return;\n        }\n        const now = new Date();\n        const logArgs = [\n            `[${now.getHours()}:${now.getMinutes()}:${now.getSeconds()} ${level.toUpperCase()} ${moduleName}] `,\n        ];\n        const log = Function.prototype.bind.call(console[level] || console.log, console);\n        log.apply(console, logArgs.concat(loggerDetail));\n        // console.log.call(null, ...logArgs.concat(...loggerDetail)) // 该方法不兼容IE9-IE11\n    }\n    signedLogger(level, option, loggerDetail) {\n        const { isPrint = true } = option;\n        if (!isPrint) {\n            return;\n        }\n        this.debugLogger.call(null, Object.assign(Object.assign({}, option), { level }), loggerDetail);\n    }\n}\nconst logger = new Logger();\n// 设置 日志 配置\nexport const setConfig = (conf) => {\n    debugConfig = Object.assign(Object.assign({}, debugConfig), conf);\n    // 打包环境不打印日志\n    if (isRelease()) {\n        return;\n    }\n    logger.info('lib:logger:config', debugConfig);\n};\nexport const initLogger = (loggerConf = {}) => {\n    const moduleName = getUrlParams('loggerModule') || (loggerConf === null || loggerConf === void 0 ? void 0 : loggerConf.moduleName) || '';\n    const loggerLevel = getUrlParams('loggerLevel') || (loggerConf === null || loggerConf === void 0 ? void 0 : loggerConf.level) || 'log';\n    const loggerConfig = defaults({\n        moduleName,\n        level: loggerLevel,\n        enable: !!moduleName,\n    }, loggerConf);\n    setConfig(loggerConfig);\n};\nexport default logger;\n"]}]}